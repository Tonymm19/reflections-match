(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tm={exports:{}},fu={};var tT;function WC(){if(tT)return fu;tT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return fu.Fragment=t,fu.jsx=n,fu.jsxs=n,fu}var eT;function JC(){return eT||(eT=1,tm.exports=WC()),tm.exports}var pt=JC(),em={exports:{}},Pt={};var nT;function ZC(){if(nT)return Pt;nT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function F(L,J,C){this.props=L,this.context=J,this.refs=j,this.updater=C||V}F.prototype.isReactComponent={},F.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function st(){}st.prototype=F.prototype;function W(L,J,C){this.props=L,this.context=J,this.refs=j,this.updater=C||V}var dt=W.prototype=new st;dt.constructor=W,z(dt,F.prototype),dt.isPureReactComponent=!0;var Et=Array.isArray;function $(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(L,J,C){var ht=C.ref;return{$$typeof:e,type:L,key:J,ref:ht!==void 0?ht:null,props:C}}function P(L,J){return x(L.type,J,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function k(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(C){return J[C]})}var I=/\/+/g;function ft(L,J){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):J.toString(36)}function ot(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then($,$):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,J,C,ht,St){var Tt=typeof L;(Tt==="undefined"||Tt==="boolean")&&(L=null);var Vt=!1;if(L===null)Vt=!0;else switch(Tt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(L.$$typeof){case e:case t:Vt=!0;break;case y:return Vt=L._init,Y(Vt(L._payload),J,C,ht,St)}}if(Vt)return St=St(L),Vt=ht===""?"."+ft(L,0):ht,Et(St)?(C="",Vt!=null&&(C=Vt.replace(I,"$&/")+"/"),Y(St,J,C,"",function(ue){return ue})):St!=null&&(D(St)&&(St=P(St,C+(St.key==null||L&&L.key===St.key?"":(""+St.key).replace(I,"$&/")+"/")+Vt)),J.push(St)),1;Vt=0;var mt=ht===""?".":ht+":";if(Et(L))for(var bt=0;bt<L.length;bt++)ht=L[bt],Tt=mt+ft(ht,bt),Vt+=Y(ht,J,C,Tt,St);else if(bt=S(L),typeof bt=="function")for(L=bt.call(L),bt=0;!(ht=L.next()).done;)ht=ht.value,Tt=mt+ft(ht,bt++),Vt+=Y(ht,J,C,Tt,St);else if(Tt==="object"){if(typeof L.then=="function")return Y(ot(L),J,C,ht,St);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function at(L,J,C){if(L==null)return L;var ht=[],St=0;return Y(L,ht,"","",function(Tt){return J.call(C,Tt,St++)}),ht}function yt(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(C){(L._status===0||L._status===-1)&&(L._status=1,L._result=C)},function(C){(L._status===0||L._status===-1)&&(L._status=2,L._result=C)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var kt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},N={map:at,forEach:function(L,J,C){at(L,function(){J.apply(this,arguments)},C)},count:function(L){var J=0;return at(L,function(){J++}),J},toArray:function(L){return at(L,function(J){return J})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Pt.Activity=v,Pt.Children=N,Pt.Component=F,Pt.Fragment=n,Pt.Profiler=a,Pt.PureComponent=W,Pt.StrictMode=r,Pt.Suspense=m,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Pt.cache=function(L){return function(){return L.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(L,J,C){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=z({},L.props),St=L.key;if(J!=null)for(Tt in J.key!==void 0&&(St=""+J.key),J)!R.call(J,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&J.ref===void 0||(ht[Tt]=J[Tt]);var Tt=arguments.length-2;if(Tt===1)ht.children=C;else if(1<Tt){for(var Vt=Array(Tt),mt=0;mt<Tt;mt++)Vt[mt]=arguments[mt+2];ht.children=Vt}return x(L.type,St,ht)},Pt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Pt.createElement=function(L,J,C){var ht,St={},Tt=null;if(J!=null)for(ht in J.key!==void 0&&(Tt=""+J.key),J)R.call(J,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=J[ht]);var Vt=arguments.length-2;if(Vt===1)St.children=C;else if(1<Vt){for(var mt=Array(Vt),bt=0;bt<Vt;bt++)mt[bt]=arguments[bt+2];St.children=mt}if(L&&L.defaultProps)for(ht in Vt=L.defaultProps,Vt)St[ht]===void 0&&(St[ht]=Vt[ht]);return x(L,Tt,St)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(L){return{$$typeof:d,render:L}},Pt.isValidElement=D,Pt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:yt}},Pt.memo=function(L,J){return{$$typeof:p,type:L,compare:J===void 0?null:J}},Pt.startTransition=function(L){var J=O.T,C={};O.T=C;try{var ht=L(),St=O.S;St!==null&&St(C,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then($,kt)}catch(Tt){kt(Tt)}finally{J!==null&&C.types!==null&&(J.types=C.types),O.T=J}},Pt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Pt.use=function(L){return O.H.use(L)},Pt.useActionState=function(L,J,C){return O.H.useActionState(L,J,C)},Pt.useCallback=function(L,J){return O.H.useCallback(L,J)},Pt.useContext=function(L){return O.H.useContext(L)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(L,J){return O.H.useDeferredValue(L,J)},Pt.useEffect=function(L,J){return O.H.useEffect(L,J)},Pt.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Pt.useId=function(){return O.H.useId()},Pt.useImperativeHandle=function(L,J,C){return O.H.useImperativeHandle(L,J,C)},Pt.useInsertionEffect=function(L,J){return O.H.useInsertionEffect(L,J)},Pt.useLayoutEffect=function(L,J){return O.H.useLayoutEffect(L,J)},Pt.useMemo=function(L,J){return O.H.useMemo(L,J)},Pt.useOptimistic=function(L,J){return O.H.useOptimistic(L,J)},Pt.useReducer=function(L,J,C){return O.H.useReducer(L,J,C)},Pt.useRef=function(L){return O.H.useRef(L)},Pt.useState=function(L){return O.H.useState(L)},Pt.useSyncExternalStore=function(L,J,C){return O.H.useSyncExternalStore(L,J,C)},Pt.useTransition=function(){return O.H.useTransition()},Pt.version="19.2.3",Pt}var iT;function _g(){return iT||(iT=1,em.exports=ZC()),em.exports}var ge=_g();const pe=yg(ge);var nm={exports:{}},du={},im={exports:{}},rm={};var rT;function tR(){return rT||(rT=1,(function(e){function t(Y,at){var yt=Y.length;Y.push(at);t:for(;0<yt;){var kt=yt-1>>>1,N=Y[kt];if(0<a(N,at))Y[kt]=at,Y[yt]=N,yt=kt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var at=Y[0],yt=Y.pop();if(yt!==at){Y[0]=yt;t:for(var kt=0,N=Y.length,L=N>>>1;kt<L;){var J=2*(kt+1)-1,C=Y[J],ht=J+1,St=Y[ht];if(0>a(C,yt))ht<N&&0>a(St,C)?(Y[kt]=St,Y[ht]=yt,kt=ht):(Y[kt]=C,Y[J]=yt,kt=J);else if(ht<N&&0>a(St,yt))Y[kt]=St,Y[ht]=yt,kt=ht;else break t}}return at}function a(Y,at){var yt=Y.sortIndex-at.sortIndex;return yt!==0?yt:Y.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,v=null,w=3,S=!1,V=!1,z=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function dt(Y){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=Y)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function Et(Y){if(z=!1,dt(Y),!V)if(n(m)!==null)V=!0,$||($=!0,k());else{var at=n(p);at!==null&&ot(Et,at.startTime-Y)}}var $=!1,O=-1,R=5,x=-1;function P(){return j?!0:!(e.unstable_now()-x<R)}function D(){if(j=!1,$){var Y=e.unstable_now();x=Y;var at=!0;try{t:{V=!1,z&&(z=!1,st(O),O=-1),S=!0;var yt=w;try{e:{for(dt(Y),v=n(m);v!==null&&!(v.expirationTime>Y&&P());){var kt=v.callback;if(typeof kt=="function"){v.callback=null,w=v.priorityLevel;var N=kt(v.expirationTime<=Y);if(Y=e.unstable_now(),typeof N=="function"){v.callback=N,dt(Y),at=!0;break e}v===n(m)&&r(m),dt(Y)}else r(m);v=n(m)}if(v!==null)at=!0;else{var L=n(p);L!==null&&ot(Et,L.startTime-Y),at=!1}}break t}finally{v=null,w=yt,S=!1}at=void 0}}finally{at?k():$=!1}}}var k;if(typeof W=="function")k=function(){W(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ft=I.port2;I.port1.onmessage=D,k=function(){ft.postMessage(null)}}else k=function(){F(D,0)};function ot(Y,at){O=F(function(){Y(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var yt=w;w=at;try{return Y()}finally{w=yt}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=w;w=Y;try{return at()}finally{w=yt}},e.unstable_scheduleCallback=function(Y,at,yt){var kt=e.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?kt+yt:kt):yt=kt,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=yt+N,Y={id:y++,callback:at,priorityLevel:Y,startTime:yt,expirationTime:N,sortIndex:-1},yt>kt?(Y.sortIndex=yt,t(p,Y),n(m)===null&&Y===n(p)&&(z?(st(O),O=-1):z=!0,ot(Et,yt-kt))):(Y.sortIndex=N,t(m,Y),V||S||(V=!0,$||($=!0,k()))),Y},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(Y){var at=w;return function(){var yt=w;w=at;try{return Y.apply(this,arguments)}finally{w=yt}}}})(rm)),rm}var sT;function eR(){return sT||(sT=1,im.exports=tR()),im.exports}var sm={exports:{}},Tn={};var aT;function nR(){if(aT)return Tn;aT=1;var e=_g();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},Tn.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},Tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Tn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):y==="script"&&r.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Tn.requestFormReset=function(m){r.d.r(m)},Tn.unstable_batchedUpdates=function(m,p){return m(p)},Tn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var oT;function iR(){if(oT)return sm.exports;oT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sm.exports=nR(),sm.exports}var lT;function rR(){if(lT)return du;lT=1;var e=eR(),t=_g(),n=iR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),W=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function ft(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case Et:return"Suspense";case $:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case W:return i.displayName||"Context";case st:return(i._context.displayName||"Context")+".Consumer";case dt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:ft(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return ft(i(s))}catch{}}return null}var ot=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},kt=[],N=-1;function L(i){return{current:i}}function J(i){0>N||(i.current=kt[N],kt[N]=null,N--)}function C(i,s){N++,kt[N]=i.current,i.current=s}var ht=L(null),St=L(null),Tt=L(null),Vt=L(null);function mt(i,s){switch(C(Tt,s),C(St,i),C(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?SE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=SE(s),i=bE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ht),C(ht,i)}function bt(){J(ht),J(St),J(Tt)}function ue(i){i.memoizedState!==null&&C(Vt,i);var s=ht.current,o=bE(s,i.type);s!==o&&(C(St,i),C(ht,o))}function Ee(i){St.current===i&&(J(ht),J(St)),Vt.current===i&&(J(Vt),lu._currentValue=yt)}var In,_n;function Ie(i){if(In===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);In=s&&s[1]||"",_n=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+In+i+_n}var xn=!1;function Gn(i,s){if(!i||xn)return"";xn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var K=X}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(X){K=X}i.call(nt.prototype)}}else{try{throw Error()}catch(X){K=X}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var M=E.split(`
`),G=b.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===G.length)for(u=M.length-1,f=G.length-1;1<=u&&0<=f&&M[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==G[f]){var Z=`
`+M[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{xn=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ie(o):""}function Yn(i,s){switch(i.tag){case 26:case 27:case 5:return Ie(i.type);case 16:return Ie("Lazy");case 13:return i.child!==s&&s!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Gn(i.type,!1);case 11:return Gn(i.type.render,!1);case 1:return Gn(i.type,!0);case 31:return Ie("Activity");default:return""}}function nn(i){try{var s="",o=null;do s+=Yn(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Te=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,zi=e.unstable_cancelCallback,fl=e.unstable_shouldYield,Qa=e.unstable_requestPaint,un=e.unstable_now,Tr=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,ut=e.unstable_UserBlockingPriority,Rt=e.unstable_NormalPriority,jt=e.unstable_LowPriority,Jt=e.unstable_IdlePriority,vn=e.log,oi=e.unstable_setDisableYieldValue,Ve=null,xe=null;function rn(i){if(typeof vn=="function"&&oi(i),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Ve,i)}catch{}}var Xt=Math.clz32?Math.clz32:pc,wi=Math.log,En=Math.LN2;function pc(i){return i>>>=0,i===0?32:31-(wi(i)/En|0)|0}var Bi=256,ia=262144,He=4194304;function ji(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Hi(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=ji(u):(E&=b,E!==0?f=ji(E):o||(o=b&~i,o!==0&&(f=ji(o))))):(b=u&~g,b!==0?f=ji(b):E!==0?f=ji(E):o||(o=u&~i,o!==0&&(f=ji(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Si(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function rd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function Fi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ra(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sd(i,s,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,M=i.expirationTimes,G=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Xt(o),nt=1<<Z;b[Z]=0,M[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var X=K[Z];X!==null&&(X.lane&=-536870913)}o&=~nt}u!==0&&sa(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function sa(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Xt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function dl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Xt(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function pl(i,s){var o=s&-s;return o=(o&42)!==0?1:aa(o),(o&(i.suspendedLanes|s))!==0?0:o}function aa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gc(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:KE(i.type))}function bi(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var Ai=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ai,sn="__reactProps$"+Ai,qi="__reactContainer$"+Ai,Xa="__reactEvents$"+Ai,ad="__reactListeners$"+Ai,yc="__reactHandles$"+Ai,_c="__reactResources$"+Ai,Gi="__reactMarker$"+Ai;function $a(i){delete i[Fe],delete i[sn],delete i[Xa],delete i[ad],delete i[yc]}function Yi(i){var s=i[Fe];if(s)return s;for(var o=i.parentNode;o;){if(s=o[qi]||o[Fe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=OE(i);i!==null;){if(o=i[Fe])return o;i=OE(i)}return s}i=o,o=i.parentNode}return null}function li(i){if(i=i[Fe]||i[qi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Kn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ki(i){var s=i[_c];return s||(s=i[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qe(i){i[Gi]=!0}var ml=new Set,gl={};function Qi(i,s){Xi(i,s),Xi(i+"Capture",s)}function Xi(i,s){for(gl[i]=s,i=0;i<s.length;i++)ml.add(s[i])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function vc(i){return Te.call(vl,i)?!0:Te.call(_l,i)?!1:yl.test(i)?vl[i]=!0:(_l[i]=!0,!1)}function Wa(i,s,o){if(vc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Qn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ge(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $r(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function El(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ae(i){if(!i._valueTracker){var s=$r(i)?"checked":"value";i._valueTracker=El(i,s,""+i[s])}}function oa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=$r(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var la=/[\n"\\]/g;function kn(i){return i.replace(la,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ja(i,s,o,u,f,g,E,b){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+an(s)):i.value!==""+an(s)&&(i.value=""+an(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Tl(i,E,an(s)):o!=null?Tl(i,E,an(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+an(b):i.removeAttribute("name")}function Ec(i,s,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ae(i);return}o=o!=null?""+an(o):"",s=s!=null?""+an(s):o,b||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),ae(i)}function Tl(i,s,o){s==="number"&&$i(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Wr(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+an(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Tc(i,s,o){if(s!=null&&(s=""+an(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+an(o):""}function Jr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ot(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=an(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),ae(i)}function Mn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||wc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Sl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&wl(i,f,u)}else for(var g in s)s.hasOwnProperty(g)&&wl(i,g,s[g])}function Za(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(i){return Zr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ci(){}var bl=null;function ui(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,Wi=null;function ua(i){var s=li(i);if(s&&(i=s.stateNode)){var o=i[sn]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+kn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[sn]||null;if(!f)throw Error(r(90));Ja(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&oa(u)}break t;case"textarea":Tc(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Wr(i,!!o.multiple,s,!1)}}}var eo=!1;function es(i,s,o){if(eo)return i(s,o);eo=!0;try{var u=i(s);return u}finally{if(eo=!1,(ts!==null||Wi!==null)&&(gh(),ts&&(s=ts,i=Wi,Wi=ts=null,ua(s),i)))for(s=0;s<i.length;s++)ua(i[s])}}function Ri(i,s){var o=i.stateNode;if(o===null)return null;var u=o[sn]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(ci)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){ca=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{ca=!1}var Ji=null,Al=null,ha=null;function Cl(){if(ha)return ha;var i,s=Al,o=s.length,u,f="value"in Ji?Ji.value:Ji.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return ha=f.slice(i,1<u?1-u:void 0)}function fa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Sr(){return!0}function Ii(){return!1}function cn(i){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Sr:Ii,this.isPropagationStopped=Ii,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=cn(br),ns=v({},br,{view:0,detail:0}),Rl=cn(ns),is,no,tr,io=v({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==tr&&(tr&&i.type==="mousemove"?(is=i.screenX-tr.screenX,no=i.screenY-tr.screenY):no=is=0,tr=i),is)},movementY:function(i){return"movementY"in i?i.movementY:no}}),Il=cn(io),da=v({},io,{dataTransfer:0}),bc=cn(da),Ac=v({},ns,{relatedTarget:0}),pa=cn(Ac),xl=v({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=cn(xl),ro=v({},br,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rc=cn(ro),Ic=v({},br,{data:0}),er=cn(Ic),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Oc[i])?!!s[i]:!1}function rs(){return Nc}var Dn=v({},ns,{key:function(i){if(i.key){var s=xc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(i){return i.type==="keypress"?fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kc=cn(Dn),Mc=v({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=cn(Mc),h=v({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),_=cn(h),T=v({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=cn(T),H=v({},io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=cn(H),ct=v({},br,{newState:0,oldState:0}),Lt=cn(ct),Le=[9,13,27,32],ee=ci&&"CompositionEvent"in window,Ae=null;ci&&"documentMode"in document&&(Ae=document.documentMode);var hi=ci&&"TextEvent"in window&&!Ae,nr=ci&&(!ee||Ae&&8<Ae&&11>=Ae),xi=" ",Di=!1;function ma(i,s){switch(i){case"keyup":return Le.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ao=!1;function T1(i,s){switch(i){case"compositionend":return so(s);case"keypress":return s.which!==32?null:(Di=!0,xi);case"textInput":return i=s.data,i===xi&&Di?null:i;default:return null}}function w1(i,s){if(ao)return i==="compositionend"||!ee&&ma(i,s)?(i=Cl(),ha=Al=Ji=null,ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nr&&s.locale!=="ko"?null:s.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!S1[i.type]:s==="textarea"}function Py(i,s,o,u){ts?Wi?Wi.push(u):Wi=[u]:ts=u,s=Sh(s,"onChange"),0<s.length&&(o=new Zi("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Dl=null,Ol=null;function b1(i){yE(i,0)}function Pc(i){var s=Kn(i);if(oa(s))return i}function Vy(i,s){if(i==="change")return s}var Ly=!1;if(ci){var od;if(ci){var ld="oninput"in document;if(!ld){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),ld=typeof Uy.oninput=="function"}od=ld}else od=!1;Ly=od&&(!document.documentMode||9<document.documentMode)}function zy(){Dl&&(Dl.detachEvent("onpropertychange",By),Ol=Dl=null)}function By(i){if(i.propertyName==="value"&&Pc(Ol)){var s=[];Py(s,Ol,i,ui(i)),es(b1,s)}}function A1(i,s,o){i==="focusin"?(zy(),Dl=s,Ol=o,Dl.attachEvent("onpropertychange",By)):i==="focusout"&&zy()}function C1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pc(Ol)}function R1(i,s){if(i==="click")return Pc(s)}function I1(i,s){if(i==="input"||i==="change")return Pc(s)}function x1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Xn=typeof Object.is=="function"?Object.is:x1;function Nl(i,s){if(Xn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Te.call(s,f)||!Xn(i[f],s[f]))return!1}return!0}function jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hy(i,s){var o=jy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=jy(o)}}function Fy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Fy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function qy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=$i(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=$i(i.document)}return s}function ud(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var D1=ci&&"documentMode"in document&&11>=document.documentMode,oo=null,cd=null,kl=null,hd=!1;function Gy(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hd||oo==null||oo!==$i(u)||(u=oo,"selectionStart"in u&&ud(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&Nl(kl,u)||(kl=u,u=Sh(cd,"onSelect"),0<u.length&&(s=new Zi("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=oo)))}function ga(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var lo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},fd={},Yy={};ci&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ya(i){if(fd[i])return fd[i];if(!lo[i])return i;var s=lo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Yy)return fd[i]=s[o];return i}var Ky=ya("animationend"),Qy=ya("animationiteration"),Xy=ya("animationstart"),O1=ya("transitionrun"),N1=ya("transitionstart"),k1=ya("transitioncancel"),$y=ya("transitionend"),Wy=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function Oi(i,s){Wy.set(i,s),Qi(s,[i])}var Vc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fi=[],uo=0,pd=0;function Lc(){for(var i=uo,s=pd=uo=0;s<i;){var o=fi[s];fi[s++]=null;var u=fi[s];fi[s++]=null;var f=fi[s];fi[s++]=null;var g=fi[s];if(fi[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Jy(o,f,g)}}function Uc(i,s,o,u){fi[uo++]=i,fi[uo++]=s,fi[uo++]=o,fi[uo++]=u,pd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function md(i,s,o,u){return Uc(i,s,o,u),zc(i)}function _a(i,s){return Uc(i,null,null,s),zc(i)}function Jy(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&s!==null&&(f=31-Xt(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function zc(i){if(50<eu)throw eu=0,bp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var co={};function M1(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,s,o,u){return new M1(i,s,o,u)}function gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cr(i,s){var o=i.alternate;return o===null?(o=$n(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zy(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Bc(i,s,o,u,f,g){var E=0;if(u=i,typeof i=="function")gd(i)&&(E=1);else if(typeof i=="string")E=zC(i,o,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=$n(31,o,s,f),i.elementType=x,i.lanes=g,i;case z:return va(o.children,f,g,s);case j:E=8,f|=24;break;case F:return i=$n(12,o,s,f|2),i.elementType=F,i.lanes=g,i;case Et:return i=$n(13,o,s,f),i.elementType=Et,i.lanes=g,i;case $:return i=$n(19,o,s,f),i.elementType=$,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:E=10;break t;case st:E=9;break t;case dt:E=11;break t;case O:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=$n(E,o,s,f),s.elementType=i,s.type=u,s.lanes=g,s}function va(i,s,o,u){return i=$n(7,i,u,s),i.lanes=o,i}function yd(i,s,o){return i=$n(6,i,null,s),i.lanes=o,i}function t_(i){var s=$n(18,null,null,0);return s.stateNode=i,s}function _d(i,s,o){return s=$n(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var e_=new WeakMap;function di(i,s){if(typeof i=="object"&&i!==null){var o=e_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:nn(s)},e_.set(i,s),s)}return{value:i,source:s,stack:nn(s)}}var ho=[],fo=0,jc=null,Ml=0,pi=[],mi=0,ss=null,ir=1,rr="";function Rr(i,s){ho[fo++]=Ml,ho[fo++]=jc,jc=i,Ml=s}function n_(i,s,o){pi[mi++]=ir,pi[mi++]=rr,pi[mi++]=ss,ss=i;var u=ir;i=rr;var f=32-Xt(u)-1;u&=~(1<<f),o+=1;var g=32-Xt(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,ir=1<<32-Xt(s)+f|o<<f|u,rr=g+i}else ir=1<<g|o<<f|u,rr=i}function vd(i){i.return!==null&&(Rr(i,1),n_(i,1,0))}function Ed(i){for(;i===jc;)jc=ho[--fo],ho[fo]=null,Ml=ho[--fo],ho[fo]=null;for(;i===ss;)ss=pi[--mi],pi[mi]=null,rr=pi[--mi],pi[mi]=null,ir=pi[--mi],pi[mi]=null}function i_(i,s){pi[mi++]=ir,pi[mi++]=rr,pi[mi++]=ss,ir=s.id,rr=s.overflow,ss=i}var hn=null,we=null,$t=!1,as=null,gi=!1,Td=Error(r(519));function os(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(di(s,i)),Td}function r_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Fe]=i,s[sn]=u,o){case"dialog":Ft("cancel",s),Ft("close",s);break;case"iframe":case"object":case"embed":Ft("load",s);break;case"video":case"audio":for(o=0;o<iu.length;o++)Ft(iu[o],s);break;case"source":Ft("error",s);break;case"img":case"image":case"link":Ft("error",s),Ft("load",s);break;case"details":Ft("toggle",s);break;case"input":Ft("invalid",s),Ec(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ft("invalid",s);break;case"textarea":Ft("invalid",s),Jr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||TE(s.textContent,o)?(u.popover!=null&&(Ft("beforetoggle",s),Ft("toggle",s)),u.onScroll!=null&&Ft("scroll",s),u.onScrollEnd!=null&&Ft("scrollend",s),u.onClick!=null&&(s.onclick=Ci),s=!0):s=!1,s||os(i,!0)}function s_(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:hn=hn.return}}function po(i){if(i!==hn)return!1;if(!$t)return s_(i),$t=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zp(i.type,i.memoizedProps)),o=!o),o&&we&&os(i),s_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));we=DE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));we=DE(i)}else s===27?(s=we,Ts(i.type)?(i=qp,qp=null,we=i):we=s):we=hn?_i(i.stateNode.nextSibling):null;return!0}function Ea(){we=hn=null,$t=!1}function wd(){var i=as;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),as=null),i}function Pl(i){as===null?as=[i]:as.push(i)}var Sd=L(null),Ta=null,Ir=null;function ls(i,s,o){C(Sd,s._currentValue),s._currentValue=o}function xr(i){i._currentValue=Sd.current,J(Sd)}function bd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Ad(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var M=0;M<s.length;M++)if(b.context===s[M]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),bd(g.return,o,i),u||(E=null);break t}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),bd(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function mo(i,s,o,u){i=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;Xn(f.pendingProps.value,E.value)||(i!==null?i.push(b):i=[b])}}else if(f===Vt.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(lu):i=[lu])}f=f.return}i!==null&&Ad(s,i,o,u),s.flags|=262144}function Hc(i){for(i=i.firstContext;i!==null;){if(!Xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wa(i){Ta=i,Ir=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return a_(Ta,i)}function Fc(i,s){return Ta===null&&wa(i),a_(i,s)}function a_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ir===null){if(i===null)throw Error(r(308));Ir=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ir=Ir.next=s;return o}var P1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},V1=e.unstable_scheduleCallback,L1=e.unstable_NormalPriority,Ye={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new P1,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&V1(L1,function(){i.controller.abort()})}var Ll=null,Rd=0,go=0,yo=null;function U1(i,s){if(Ll===null){var o=Ll=[];Rd=0,go=Dp(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rd++,s.then(o_,o_),s}function o_(){if(--Rd===0&&Ll!==null){yo!==null&&(yo.status="fulfilled");var i=Ll;Ll=null,go=0,yo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function z1(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var l_=Y.S;Y.S=function(i,s){Gv=un(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&U1(i,s),l_!==null&&l_(i,s)};var Sa=L(null);function Id(){var i=Sa.current;return i!==null?i:me.pooledCache}function qc(i,s){s===null?C(Sa,Sa.current):C(Sa,s.pool)}function u_(){var i=Id();return i===null?null:{parent:Ye._currentValue,pool:i}}var _o=Error(r(460)),xd=Error(r(474)),Gc=Error(r(542)),Yc={then:function(){}};function c_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function h_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Ci,Ci),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,d_(i),i;default:if(typeof s.status=="string")s.then(Ci,Ci);else{if(i=me,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,d_(i),i}throw Aa=s,_o}}function ba(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,_o):o}}var Aa=null;function f_(){if(Aa===null)throw Error(r(459));var i=Aa;return Aa=null,i}function d_(i){if(i===_o||i===Gc)throw Error(r(483))}var vo=null,Ul=0;function Kc(i){var s=Ul;return Ul+=1,vo===null&&(vo=[]),h_(vo,i,s)}function zl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Qc(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function p_(i){function s(B,U){if(i){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function o(B,U){if(!i)return null;for(;U!==null;)s(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=Cr(B,U),B.index=0,B.sibling=null,B}function g(B,U,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,q,et){return U===null||U.tag!==6?(U=yd(q,B.mode,et),U.return=B,U):(U=f(U,q),U.return=B,U)}function M(B,U,q,et){var At=q.type;return At===z?Z(B,U,q.props.children,et,q.key):U!==null&&(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&ba(At)===U.type)?(U=f(U,q.props),zl(U,q),U.return=B,U):(U=Bc(q.type,q.key,q.props,null,B.mode,et),zl(U,q),U.return=B,U)}function G(B,U,q,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=_d(q,B.mode,et),U.return=B,U):(U=f(U,q.children||[]),U.return=B,U)}function Z(B,U,q,et,At){return U===null||U.tag!==7?(U=va(q,B.mode,et,At),U.return=B,U):(U=f(U,q),U.return=B,U)}function nt(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=yd(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return q=Bc(U.type,U.key,U.props,null,B.mode,q),zl(q,U),q.return=B,q;case V:return U=_d(U,B.mode,q),U.return=B,U;case R:return U=ba(U),nt(B,U,q)}if(ot(U)||k(U))return U=va(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return nt(B,Kc(U),q);if(U.$$typeof===W)return nt(B,Fc(B,U),q);Qc(B,U)}return null}function K(B,U,q,et){var At=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return At!==null?null:b(B,U,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===At?M(B,U,q,et):null;case V:return q.key===At?G(B,U,q,et):null;case R:return q=ba(q),K(B,U,q,et)}if(ot(q)||k(q))return At!==null?null:Z(B,U,q,et,null);if(typeof q.then=="function")return K(B,U,Kc(q),et);if(q.$$typeof===W)return K(B,U,Fc(B,q),et);Qc(B,q)}return null}function X(B,U,q,et,At){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,b(U,B,""+et,At);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return B=B.get(et.key===null?q:et.key)||null,M(U,B,et,At);case V:return B=B.get(et.key===null?q:et.key)||null,G(U,B,et,At);case R:return et=ba(et),X(B,U,q,et,At)}if(ot(et)||k(et))return B=B.get(q)||null,Z(U,B,et,At,null);if(typeof et.then=="function")return X(B,U,q,Kc(et),At);if(et.$$typeof===W)return X(B,U,q,Fc(U,et),At);Qc(U,et)}return null}function vt(B,U,q,et){for(var At=null,Zt=null,wt=U,zt=U=0,Gt=null;wt!==null&&zt<q.length;zt++){wt.index>zt?(Gt=wt,wt=null):Gt=wt.sibling;var te=K(B,wt,q[zt],et);if(te===null){wt===null&&(wt=Gt);break}i&&wt&&te.alternate===null&&s(B,wt),U=g(te,U,zt),Zt===null?At=te:Zt.sibling=te,Zt=te,wt=Gt}if(zt===q.length)return o(B,wt),$t&&Rr(B,zt),At;if(wt===null){for(;zt<q.length;zt++)wt=nt(B,q[zt],et),wt!==null&&(U=g(wt,U,zt),Zt===null?At=wt:Zt.sibling=wt,Zt=wt);return $t&&Rr(B,zt),At}for(wt=u(wt);zt<q.length;zt++)Gt=X(wt,B,zt,q[zt],et),Gt!==null&&(i&&Gt.alternate!==null&&wt.delete(Gt.key===null?zt:Gt.key),U=g(Gt,U,zt),Zt===null?At=Gt:Zt.sibling=Gt,Zt=Gt);return i&&wt.forEach(function(Cs){return s(B,Cs)}),$t&&Rr(B,zt),At}function It(B,U,q,et){if(q==null)throw Error(r(151));for(var At=null,Zt=null,wt=U,zt=U=0,Gt=null,te=q.next();wt!==null&&!te.done;zt++,te=q.next()){wt.index>zt?(Gt=wt,wt=null):Gt=wt.sibling;var Cs=K(B,wt,te.value,et);if(Cs===null){wt===null&&(wt=Gt);break}i&&wt&&Cs.alternate===null&&s(B,wt),U=g(Cs,U,zt),Zt===null?At=Cs:Zt.sibling=Cs,Zt=Cs,wt=Gt}if(te.done)return o(B,wt),$t&&Rr(B,zt),At;if(wt===null){for(;!te.done;zt++,te=q.next())te=nt(B,te.value,et),te!==null&&(U=g(te,U,zt),Zt===null?At=te:Zt.sibling=te,Zt=te);return $t&&Rr(B,zt),At}for(wt=u(wt);!te.done;zt++,te=q.next())te=X(wt,B,zt,te.value,et),te!==null&&(i&&te.alternate!==null&&wt.delete(te.key===null?zt:te.key),U=g(te,U,zt),Zt===null?At=te:Zt.sibling=te,Zt=te);return i&&wt.forEach(function($C){return s(B,$C)}),$t&&Rr(B,zt),At}function de(B,U,q,et){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var At=q.key;U!==null;){if(U.key===At){if(At=q.type,At===z){if(U.tag===7){o(B,U.sibling),et=f(U,q.props.children),et.return=B,B=et;break t}}else if(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&ba(At)===U.type){o(B,U.sibling),et=f(U,q.props),zl(et,q),et.return=B,B=et;break t}o(B,U);break}else s(B,U);U=U.sibling}q.type===z?(et=va(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=Bc(q.type,q.key,q.props,null,B.mode,et),zl(et,q),et.return=B,B=et)}return E(B);case V:t:{for(At=q.key;U!==null;){if(U.key===At)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){o(B,U.sibling),et=f(U,q.children||[]),et.return=B,B=et;break t}else{o(B,U);break}else s(B,U);U=U.sibling}et=_d(q,B.mode,et),et.return=B,B=et}return E(B);case R:return q=ba(q),de(B,U,q,et)}if(ot(q))return vt(B,U,q,et);if(k(q)){if(At=k(q),typeof At!="function")throw Error(r(150));return q=At.call(q),It(B,U,q,et)}if(typeof q.then=="function")return de(B,U,Kc(q),et);if(q.$$typeof===W)return de(B,U,Fc(B,q),et);Qc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(o(B,U.sibling),et=f(U,q),et.return=B,B=et):(o(B,U),et=yd(q,B.mode,et),et.return=B,B=et),E(B)):o(B,U)}return function(B,U,q,et){try{Ul=0;var At=de(B,U,q,et);return vo=null,At}catch(wt){if(wt===_o||wt===Gc)throw wt;var Zt=$n(29,wt,null,B.mode);return Zt.lanes=et,Zt.return=B,Zt}}}var Ca=p_(!0),m_=p_(!1),us=!1;function Dd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hs(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ne&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=zc(i),Jy(i,null,o),s}return Uc(i,u,s,o),zc(i)}function Bl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,dl(i,o)}}function Nd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var kd=!1;function jl(){if(kd){var i=yo;if(i!==null)throw i}}function Hl(i,s,o,u){kd=!1;var f=i.updateQueue;us=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,G=M.next;M.next=null,E===null?g=G:E.next=G,E=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=M))}if(g!==null){var nt=f.baseState;E=0,Z=G=M=null,b=g;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(qt&K)===K:(u&K)===K){K!==0&&K===go&&(kd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var vt=i,It=b;K=s;var de=o;switch(It.tag){case 1:if(vt=It.payload,typeof vt=="function"){nt=vt.call(de,nt,K);break t}nt=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=It.payload,K=typeof vt=="function"?vt.call(de,nt,K):vt,K==null)break t;nt=v({},nt,K);break t;case 2:us=!0}}K=b.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=X,M=nt):Z=Z.next=X,E|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(M=nt),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),gs|=E,i.lanes=E,i.memoizedState=nt}}function g_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function y_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)g_(o[i],s)}var Eo=L(null),Xc=L(0);function __(i,s){i=Ur,C(Xc,i),C(Eo,s),Ur=i|s.baseLanes}function Md(){C(Xc,Ur),C(Eo,Eo.current)}function Pd(){Ur=Xc.current,J(Eo),J(Xc)}var Wn=L(null),yi=null;function fs(i){var s=i.alternate;C(Ue,Ue.current&1),C(Wn,i),yi===null&&(s===null||Eo.current!==null||s.memoizedState!==null)&&(yi=i)}function Vd(i){C(Ue,Ue.current),C(Wn,i),yi===null&&(yi=i)}function v_(i){i.tag===22?(C(Ue,Ue.current),C(Wn,i),yi===null&&(yi=i)):ds()}function ds(){C(Ue,Ue.current),C(Wn,Wn.current)}function Jn(i){J(Wn),yi===i&&(yi=null),J(Ue)}var Ue=L(0);function $c(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Hp(o)||Fp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dr=0,Ut=null,he=null,Ke=null,Wc=!1,To=!1,Ra=!1,Jc=0,Fl=0,wo=null,B1=0;function Oe(){throw Error(r(321))}function Ld(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Xn(i[o],s[o]))return!1;return!0}function Ud(i,s,o,u,f,g){return Dr=g,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?nv:Zd,Ra=!1,g=o(u,f),Ra=!1,To&&(g=T_(s,o,u,f)),E_(i),g}function E_(i){Y.H=Yl;var s=he!==null&&he.next!==null;if(Dr=0,Ke=he=Ut=null,Wc=!1,Fl=0,wo=null,s)throw Error(r(300));i===null||Qe||(i=i.dependencies,i!==null&&Hc(i)&&(Qe=!0))}function T_(i,s,o,u){Ut=i;var f=0;do{if(To&&(wo=null),Fl=0,To=!1,25<=f)throw Error(r(301));if(f+=1,Ke=he=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=iv,g=s(o,u)}while(To);return g}function j1(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?ql(s):s,i=i.useState()[0],(he!==null?he.memoizedState:null)!==i&&(Ut.flags|=1024),s}function zd(){var i=Jc!==0;return Jc=0,i}function Bd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function jd(i){if(Wc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wc=!1}Dr=0,Ke=he=Ut=null,To=!1,Fl=Jc=0,wo=null}function On(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ut.memoizedState=Ke=i:Ke=Ke.next=i,Ke}function ze(){if(he===null){var i=Ut.alternate;i=i!==null?i.memoizedState:null}else i=he.next;var s=Ke===null?Ut.memoizedState:Ke.next;if(s!==null)Ke=s,he=i;else{if(i===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));he=i,i={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ke===null?Ut.memoizedState=Ke=i:Ke=Ke.next=i}return Ke}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var s=Fl;return Fl+=1,wo===null&&(wo=[]),i=h_(wo,i,s),s=Ut,(Ke===null?s.memoizedState:Ke.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?nv:Zd),i}function th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===W)return fn(i)}throw Error(r(438,String(i)))}function Hd(i){var s=null,o=Ut.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ut.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zc(),Ut.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=P;return s.index++,o}function Or(i,s){return typeof s=="function"?s(i):s}function eh(i){var s=ze();return Fd(s,he,i)}function Fd(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var b=E=null,M=null,G=s,Z=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(qt&nt)===nt:(Dr&nt)===nt){var K=G.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===go&&(Z=!0);else if((Dr&K)===K){G=G.next,K===go&&(Z=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(b=M=nt,E=g):M=M.next=nt,Ut.lanes|=K,gs|=K;nt=G.action,Ra&&o(g,nt),g=G.hasEagerState?G.eagerState:o(g,nt)}else K={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(b=M=K,E=g):M=M.next=K,Ut.lanes|=nt,gs|=nt;G=G.next}while(G!==null&&G!==s);if(M===null?E=g:M.next=b,!Xn(g,i.memoizedState)&&(Qe=!0,Z&&(o=yo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=M,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function qd(i){var s=ze(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Xn(g,s.memoizedState)||(Qe=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function w_(i,s,o){var u=Ut,f=ze(),g=$t;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Xn((he||f).memoizedState,o);if(E&&(f.memoizedState=o,Qe=!0),f=f.queue,Kd(A_.bind(null,u,f,i),[i]),f.getSnapshot!==s||E||Ke!==null&&Ke.memoizedState.tag&1){if(u.flags|=2048,So(9,{destroy:void 0},b_.bind(null,u,f,o,s),null),me===null)throw Error(r(349));g||(Dr&127)!==0||S_(u,s,o)}return o}function S_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ut.updateQueue,s===null?(s=Zc(),Ut.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function b_(i,s,o,u){s.value=o,s.getSnapshot=u,C_(s)&&R_(i)}function A_(i,s,o){return o(function(){C_(s)&&R_(i)})}function C_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Xn(i,o)}catch{return!0}}function R_(i){var s=_a(i,2);s!==null&&zn(s,i,2)}function Gd(i){var s=On();if(typeof i=="function"){var o=i;if(i=o(),Ra){rn(!0);try{o()}finally{rn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:i},s}function I_(i,s,o,u){return i.baseState=o,Fd(i,he,typeof u=="function"?u:Or)}function H1(i,s,o,u,f){if(rh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Y.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,x_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function x_(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var g=Y.T,E={};Y.T=E;try{var b=o(f,u),M=Y.S;M!==null&&M(E,b),D_(i,s,b)}catch(G){Yd(i,s,G)}finally{g!==null&&E.types!==null&&(g.types=E.types),Y.T=g}}else try{g=o(f,u),D_(i,s,g)}catch(G){Yd(i,s,G)}}function D_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){O_(i,s,u)},function(u){return Yd(i,s,u)}):O_(i,s,o)}function O_(i,s,o){s.status="fulfilled",s.value=o,N_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,x_(i,o)))}function Yd(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,N_(s),s=s.next;while(s!==u)}i.action=null}function N_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function k_(i,s){return s}function M_(i,s){if($t){var o=me.formState;if(o!==null){t:{var u=Ut;if($t){if(we){e:{for(var f=we,g=gi;f.nodeType!==8;){if(!g){f=null;break e}if(f=_i(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){we=_i(f.nextSibling),u=f.data==="F!";break t}}os(u)}u=!1}u&&(s=o[0])}}return o=On(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:s},o.queue=u,o=Z_.bind(null,Ut,u),u.dispatch=o,u=Gd(!1),g=Jd.bind(null,Ut,!1,u.queue),u=On(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=H1.bind(null,Ut,f,g,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function P_(i){var s=ze();return V_(s,he,i)}function V_(i,s,o){if(s=Fd(i,s,k_)[0],i=eh(Or)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ql(s)}catch(E){throw E===_o?Gc:E}else u=s;s=ze();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Ut.flags|=2048,So(9,{destroy:void 0},F1.bind(null,f,o),null)),[u,g,i]}function F1(i,s){i.action=s}function L_(i){var s=ze(),o=he;if(o!==null)return V_(s,o,i);ze(),s=s.memoizedState,o=ze();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function So(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ut.updateQueue,s===null&&(s=Zc(),Ut.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function U_(){return ze().memoizedState}function nh(i,s,o,u){var f=On();Ut.flags|=i,f.memoizedState=So(1|s,{destroy:void 0},o,u===void 0?null:u)}function ih(i,s,o,u){var f=ze();u=u===void 0?null:u;var g=f.memoizedState.inst;he!==null&&u!==null&&Ld(u,he.memoizedState.deps)?f.memoizedState=So(s,g,o,u):(Ut.flags|=i,f.memoizedState=So(1|s,g,o,u))}function z_(i,s){nh(8390656,8,i,s)}function Kd(i,s){ih(2048,8,i,s)}function q1(i){Ut.flags|=4;var s=Ut.updateQueue;if(s===null)s=Zc(),Ut.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function B_(i){var s=ze().memoizedState;return q1({ref:s,nextImpl:i}),function(){if((ne&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function j_(i,s){return ih(4,2,i,s)}function H_(i,s){return ih(4,4,i,s)}function F_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function q_(i,s,o){o=o!=null?o.concat([i]):null,ih(4,4,F_.bind(null,s,i),o)}function Qd(){}function G_(i,s){var o=ze();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ld(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Y_(i,s){var o=ze();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ld(s,u[1]))return u[0];if(u=i(),Ra){rn(!0);try{i()}finally{rn(!1)}}return o.memoizedState=[u,s],u}function Xd(i,s,o){return o===void 0||(Dr&1073741824)!==0&&(qt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=Kv(),Ut.lanes|=i,gs|=i,o)}function K_(i,s,o,u){return Xn(o,s)?o:Eo.current!==null?(i=Xd(i,o,u),Xn(i,s)||(Qe=!0),i):(Dr&42)===0||(Dr&1073741824)!==0&&(qt&261930)===0?(Qe=!0,i.memoizedState=o):(i=Kv(),Ut.lanes|=i,gs|=i,s)}function Q_(i,s,o,u,f){var g=at.p;at.p=g!==0&&8>g?g:8;var E=Y.T,b={};Y.T=b,Jd(i,!1,s,o);try{var M=f(),G=Y.S;if(G!==null&&G(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=z1(M,u);Gl(i,s,Z,ei(i))}else Gl(i,s,u,ei(i))}catch(nt){Gl(i,s,{then:function(){},status:"rejected",reason:nt},ei())}finally{at.p=g,E!==null&&b.types!==null&&(E.types=b.types),Y.T=E}}function G1(){}function $d(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=X_(i).queue;Q_(i,f,s,yt,o===null?G1:function(){return $_(i),o(u)})}function X_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:yt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function $_(i){var s=X_(i);s.next===null&&(s=i.alternate.memoizedState),Gl(i,s.next.queue,{},ei())}function Wd(){return fn(lu)}function W_(){return ze().memoizedState}function J_(){return ze().memoizedState}function Y1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=ei();i=cs(o);var u=hs(s,i,o);u!==null&&(zn(u,s,o),Bl(u,s,o)),s={cache:Cd()},i.payload=s;return}s=s.return}}function K1(i,s,o){var u=ei();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rh(i)?tv(s,o):(o=md(i,s,o,u),o!==null&&(zn(o,i,u),ev(o,s,u)))}function Z_(i,s,o){var u=ei();Gl(i,s,o,u)}function Gl(i,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(rh(i))tv(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,Xn(b,E))return Uc(i,s,f,0),me===null&&Lc(),!1}catch{}if(o=md(i,s,f,u),o!==null)return zn(o,i,u),ev(o,s,u),!0}return!1}function Jd(i,s,o,u){if(u={lane:2,revertLane:Dp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rh(i)){if(s)throw Error(r(479))}else s=md(i,o,u,2),s!==null&&zn(s,i,2)}function rh(i){var s=i.alternate;return i===Ut||s!==null&&s===Ut}function tv(i,s){To=Wc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function ev(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,dl(i,o)}}var Yl={readContext:fn,use:th,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Yl.useEffectEvent=Oe;var nv={readContext:fn,use:th,useCallback:function(i,s){return On().memoizedState=[i,s===void 0?null:s],i},useContext:fn,useEffect:z_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,nh(4194308,4,F_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return nh(4194308,4,i,s)},useInsertionEffect:function(i,s){nh(4,2,i,s)},useMemo:function(i,s){var o=On();s=s===void 0?null:s;var u=i();if(Ra){rn(!0);try{i()}finally{rn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=On();if(o!==void 0){var f=o(s);if(Ra){rn(!0);try{o(s)}finally{rn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=K1.bind(null,Ut,i),[u.memoizedState,i]},useRef:function(i){var s=On();return i={current:i},s.memoizedState=i},useState:function(i){i=Gd(i);var s=i.queue,o=Z_.bind(null,Ut,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Qd,useDeferredValue:function(i,s){var o=On();return Xd(o,i,s)},useTransition:function(){var i=Gd(!1);return i=Q_.bind(null,Ut,i.queue,!0,!1),On().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ut,f=On();if($t){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),me===null)throw Error(r(349));(qt&127)!==0||S_(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,z_(A_.bind(null,u,g,i),[i]),u.flags|=2048,So(9,{destroy:void 0},b_.bind(null,u,g,o,s),null),o},useId:function(){var i=On(),s=me.identifierPrefix;if($t){var o=rr,u=ir;o=(u&~(1<<32-Xt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Jc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=B1++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Wd,useFormState:M_,useActionState:M_,useOptimistic:function(i){var s=On();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jd.bind(null,Ut,!0,o),o.dispatch=s,[i,s]},useMemoCache:Hd,useCacheRefresh:function(){return On().memoizedState=Y1.bind(null,Ut)},useEffectEvent:function(i){var s=On(),o={impl:i};return s.memoizedState=o,function(){if((ne&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Zd={readContext:fn,use:th,useCallback:G_,useContext:fn,useEffect:Kd,useImperativeHandle:q_,useInsertionEffect:j_,useLayoutEffect:H_,useMemo:Y_,useReducer:eh,useRef:U_,useState:function(){return eh(Or)},useDebugValue:Qd,useDeferredValue:function(i,s){var o=ze();return K_(o,he.memoizedState,i,s)},useTransition:function(){var i=eh(Or)[0],s=ze().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:w_,useId:W_,useHostTransitionStatus:Wd,useFormState:P_,useActionState:P_,useOptimistic:function(i,s){var o=ze();return I_(o,he,i,s)},useMemoCache:Hd,useCacheRefresh:J_};Zd.useEffectEvent=B_;var iv={readContext:fn,use:th,useCallback:G_,useContext:fn,useEffect:Kd,useImperativeHandle:q_,useInsertionEffect:j_,useLayoutEffect:H_,useMemo:Y_,useReducer:qd,useRef:U_,useState:function(){return qd(Or)},useDebugValue:Qd,useDeferredValue:function(i,s){var o=ze();return he===null?Xd(o,i,s):K_(o,he.memoizedState,i,s)},useTransition:function(){var i=qd(Or)[0],s=ze().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:w_,useId:W_,useHostTransitionStatus:Wd,useFormState:L_,useActionState:L_,useOptimistic:function(i,s){var o=ze();return he!==null?I_(o,he,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:J_};iv.useEffectEvent=B_;function tp(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ep={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=ei(),f=cs(u);f.payload=s,o!=null&&(f.callback=o),s=hs(i,f,u),s!==null&&(zn(s,i,u),Bl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=ei(),f=cs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=hs(i,f,u),s!==null&&(zn(s,i,u),Bl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=ei(),u=cs(o);u.tag=2,s!=null&&(u.callback=s),s=hs(i,u,o),s!==null&&(zn(s,i,o),Bl(s,i,o))}};function rv(i,s,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Nl(o,u)||!Nl(f,g):!0}function sv(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&ep.enqueueReplaceState(s,s.state,null)}function Ia(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function av(i){Vc(i)}function ov(i){console.error(i)}function lv(i){Vc(i)}function sh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function uv(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function np(i,s,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){sh(i,s)},o}function cv(i){return i=cs(i),i.tag=3,i}function hv(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){uv(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){uv(s,o,u),typeof f!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Q1(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&mo(s,o,f,!0),o=Wn.current,o!==null){switch(o.tag){case 31:case 13:return yi===null?yh():o.alternate===null&&Ne===0&&(Ne=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Yc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Rp(i,u,f)),!1;case 22:return o.flags|=65536,u===Yc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Rp(i,u,f)),!1}throw Error(r(435,o.tag))}return Rp(i,u,f),yh(),!1}if($t)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Td&&(i=Error(r(422),{cause:u}),Pl(di(i,o)))):(u!==Td&&(s=Error(r(423),{cause:u}),Pl(di(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=di(u,o),f=np(i.stateNode,u,f),Nd(i,f),Ne!==4&&(Ne=2)),!1;var g=Error(r(520),{cause:u});if(g=di(g,o),tu===null?tu=[g]:tu.push(g),Ne!==4&&(Ne=2),s===null)return!0;u=di(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=np(o.stateNode,u,i),Nd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ys===null||!ys.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=cv(f),hv(f,i,o,u),Nd(o,f),!1}o=o.return}while(o!==null);return!1}var ip=Error(r(461)),Qe=!1;function dn(i,s,o,u){s.child=i===null?m_(s,null,o,u):Ca(s,i.child,o,u)}function fv(i,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return wa(s),u=Ud(i,s,o,E,g,f),b=zd(),i!==null&&!Qe?(Bd(i,s,f),Nr(i,s,f)):($t&&b&&vd(s),s.flags|=1,dn(i,s,u,f),s.child)}function dv(i,s,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!gd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,pv(i,s,g,u,f)):(i=Bc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!hp(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Nl,o(E,u)&&i.ref===s.ref)return Nr(i,s,f)}return s.flags|=1,i=Cr(g,u),i.ref=s.ref,i.return=s,s.child=i}function pv(i,s,o,u,f){if(i!==null){var g=i.memoizedProps;if(Nl(g,u)&&i.ref===s.ref)if(Qe=!1,s.pendingProps=u=g,hp(i,f))(i.flags&131072)!==0&&(Qe=!0);else return s.lanes=i.lanes,Nr(i,s,f)}return rp(i,s,o,u,f)}function mv(i,s,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,s.child=null;return gv(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&qc(s,g!==null?g.cachePool:null),g!==null?__(s,g):Md(),v_(s);else return u=s.lanes=536870912,gv(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(qc(s,g.cachePool),__(s,g),ds(),s.memoizedState=null):(i!==null&&qc(s,null),Md(),ds());return dn(i,s,f,o),s.child}function Kl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function gv(i,s,o,u,f){var g=Id();return g=g===null?null:{parent:Ye._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&qc(s,null),Md(),v_(s),i!==null&&mo(i,s,u,!0),s.childLanes=f,null}function ah(i,s){return s=lh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function yv(i,s,o){return Ca(s,i.child,null,o),i=ah(s,s.pendingProps),i.flags|=2,Jn(s),s.memoizedState=null,i}function X1(i,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if($t){if(u.mode==="hidden")return i=ah(s,u),s.lanes=536870912,Kl(null,i);if(Vd(s),(i=we)?(i=xE(i,gi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ss!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},o=t_(i),o.return=s,s.child=o,hn=s,we=null)):i=null,i===null)throw os(s);return s.lanes=536870912,null}return ah(s,u)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Vd(s),f)if(s.flags&256)s.flags&=-257,s=yv(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Qe||mo(i,s,o,!1),f=(o&i.childLanes)!==0,Qe||f){if(u=me,u!==null&&(E=pl(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,_a(i,E),zn(u,i,E),ip;yh(),s=yv(i,s,o)}else i=g.treeContext,we=_i(E.nextSibling),hn=s,$t=!0,as=null,gi=!1,i!==null&&i_(s,i),s=ah(s,u),s.flags|=4096;return s}return i=Cr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function oh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function rp(i,s,o,u,f){return wa(s),o=Ud(i,s,o,u,void 0,f),u=zd(),i!==null&&!Qe?(Bd(i,s,f),Nr(i,s,f)):($t&&u&&vd(s),s.flags|=1,dn(i,s,o,f),s.child)}function _v(i,s,o,u,f,g){return wa(s),s.updateQueue=null,o=T_(s,u,o,f),E_(i),u=zd(),i!==null&&!Qe?(Bd(i,s,g),Nr(i,s,g)):($t&&u&&vd(s),s.flags|=1,dn(i,s,o,g),s.child)}function vv(i,s,o,u,f){if(wa(s),s.stateNode===null){var g=co,E=o.contextType;typeof E=="object"&&E!==null&&(g=fn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ep,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Dd(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?fn(E):co,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(tp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&ep.enqueueReplaceState(g,g.state,null),Hl(s,u,g,f),jl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var b=s.memoizedProps,M=Ia(o,b);g.props=M;var G=g.context,Z=o.contextType;E=co,typeof Z=="object"&&Z!==null&&(E=fn(Z));var nt=o.getDerivedStateFromProps;Z=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||G!==E)&&sv(s,g,u,E),us=!1;var K=s.memoizedState;g.state=K,Hl(s,u,g,f),jl(),G=s.memoizedState,b||K!==G||us?(typeof nt=="function"&&(tp(s,o,nt,u),G=s.memoizedState),(M=us||rv(s,o,M,u,K,G,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=E,u=M):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Od(i,s),E=s.memoizedProps,Z=Ia(o,E),g.props=Z,nt=s.pendingProps,K=g.context,G=o.contextType,M=co,typeof G=="object"&&G!==null&&(M=fn(G)),b=o.getDerivedStateFromProps,(G=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==nt||K!==M)&&sv(s,g,u,M),us=!1,K=s.memoizedState,g.state=K,Hl(s,u,g,f),jl();var X=s.memoizedState;E!==nt||K!==X||us||i!==null&&i.dependencies!==null&&Hc(i.dependencies)?(typeof b=="function"&&(tp(s,o,b,u),X=s.memoizedState),(Z=us||rv(s,o,Z,u,K,X,M)||i!==null&&i.dependencies!==null&&Hc(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,M)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=M,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,oh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=Ca(s,i.child,null,f),s.child=Ca(s,null,o,f)):dn(i,s,o,f),s.memoizedState=g.state,i=s.child):i=Nr(i,s,f),i}function Ev(i,s,o,u){return Ea(),s.flags|=256,dn(i,s,o,u),s.child}var sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(i){return{baseLanes:i,cachePool:u_()}}function op(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ti),i}function Tv(i,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ue.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if($t){if(f?fs(s):ds(),(i=we)?(i=xE(i,gi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ss!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},o=t_(i),o.return=s,s.child=o,hn=s,we=null)):i=null,i===null)throw os(s);return Fp(i)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,f?(ds(),f=s.mode,b=lh({mode:"hidden",children:b},f),u=va(u,f,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=ap(o),u.childLanes=op(i,E,o),s.memoizedState=sp,Kl(null,u)):(fs(s),lp(s,b))}var M=i.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(g)s.flags&256?(fs(s),s.flags&=-257,s=up(i,s,o)):s.memoizedState!==null?(ds(),s.child=i.child,s.flags|=128,s=null):(ds(),b=u.fallback,f=s.mode,u=lh({mode:"visible",children:u.children},f),b=va(b,f,o,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,Ca(s,i.child,null,o),u=s.child,u.memoizedState=ap(o),u.childLanes=op(i,E,o),s.memoizedState=sp,s=Kl(null,u));else if(fs(s),Fp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(r(419)),u.stack="",u.digest=E,Pl({value:u,source:null,stack:null}),s=up(i,s,o)}else if(Qe||mo(i,s,o,!1),E=(o&i.childLanes)!==0,Qe||E){if(E=me,E!==null&&(u=pl(E,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,_a(i,u),zn(E,i,u),ip;Hp(b)||yh(),s=up(i,s,o)}else Hp(b)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,we=_i(b.nextSibling),hn=s,$t=!0,as=null,gi=!1,i!==null&&i_(s,i),s=lp(s,u.children),s.flags|=4096);return s}return f?(ds(),b=u.fallback,f=s.mode,M=i.child,G=M.sibling,u=Cr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,G!==null?b=Cr(G,b):(b=va(b,f,o,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,Kl(null,u),u=s.child,b=i.child.memoizedState,b===null?b=ap(o):(f=b.cachePool,f!==null?(M=Ye._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=u_(),b={baseLanes:b.baseLanes|o,cachePool:f}),u.memoizedState=b,u.childLanes=op(i,E,o),s.memoizedState=sp,Kl(i.child,u)):(fs(s),o=i.child,i=o.sibling,o=Cr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function lp(i,s){return s=lh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function lh(i,s){return i=$n(22,i,null,s),i.lanes=0,i}function up(i,s,o){return Ca(s,i.child,null,o),i=lp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function wv(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),bd(i.return,s,o)}function cp(i,s,o,u,f,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=g)}function Sv(i,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var E=Ue.current,b=(E&2)!==0;if(b?(E=E&1|2,s.flags|=128):E&=1,C(Ue,E),dn(i,s,u,o),u=$t?Ml:0,!b&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wv(i,o,s);else if(i.tag===19)wv(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&$c(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),cp(s,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&$c(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}cp(s,!0,o,null,g,u);break;case"together":cp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Nr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),gs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(mo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Cr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Cr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function hp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Hc(i)))}function $1(i,s,o){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),ls(s,Ye,i.memoizedState.cache),Ea();break;case 27:case 5:ue(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vd(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(fs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Tv(i,s,o):(fs(s),i=Nr(i,s,o),i!==null?i.sibling:null);fs(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(mo(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Sv(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),C(Ue,Ue.current),u)break;return null;case 22:return s.lanes=0,mv(i,s,o,s.pendingProps);case 24:ls(s,Ye,i.memoizedState.cache)}return Nr(i,s,o)}function bv(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Qe=!0;else{if(!hp(i,o)&&(s.flags&128)===0)return Qe=!1,$1(i,s,o);Qe=(i.flags&131072)!==0}else Qe=!1,$t&&(s.flags&1048576)!==0&&n_(s,Ml,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=ba(s.elementType),s.type=i,typeof i=="function")gd(i)?(u=Ia(i,u),s.tag=1,s=vv(null,s,i,u,o)):(s.tag=0,s=rp(null,s,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===dt){s.tag=11,s=fv(null,s,i,u,o);break t}else if(f===O){s.tag=14,s=dv(null,s,i,u,o);break t}}throw s=ft(i)||i,Error(r(306,s,""))}}return s;case 0:return rp(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ia(u,s.pendingProps),vv(i,s,u,f,o);case 3:t:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Od(i,s),Hl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,ls(s,Ye,u),u!==g.cache&&Ad(s,[Ye],o,!0),jl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Ev(i,s,u,o);break t}else if(u!==f){f=di(Error(r(424)),s),Pl(f),s=Ev(i,s,u,o);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,we=_i(i.firstChild),hn=s,$t=!0,as=null,gi=!0,o=m_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ea(),u===f){s=Nr(i,s,o);break t}dn(i,s,u,o)}s=s.child}return s;case 26:return oh(i,s),i===null?(o=PE(s.type,null,s.pendingProps,null))?s.memoizedState=o:$t||(o=s.type,i=s.pendingProps,u=bh(Tt.current).createElement(o),u[Fe]=s,u[sn]=i,pn(u,o,i),qe(u),s.stateNode=u):s.memoizedState=PE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ue(s),i===null&&$t&&(u=s.stateNode=NE(s.type,s.pendingProps,Tt.current),hn=s,gi=!0,f=we,Ts(s.type)?(qp=f,we=_i(u.firstChild)):we=f),dn(i,s,s.pendingProps.children,o),oh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&$t&&((f=u=we)&&(u=CC(u,s.type,s.pendingProps,gi),u!==null?(s.stateNode=u,hn=s,we=_i(u.firstChild),gi=!1,f=!0):f=!1),f||os(s)),ue(s),f=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,zp(f,g)?u=null:E!==null&&zp(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Ud(i,s,j1,null,null,o),lu._currentValue=f),oh(i,s),dn(i,s,u,o),s.child;case 6:return i===null&&$t&&((i=o=we)&&(o=RC(o,s.pendingProps,gi),o!==null?(s.stateNode=o,hn=s,we=null,i=!0):i=!1),i||os(s)),null;case 13:return Tv(i,s,o);case 4:return mt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Ca(s,null,u,o):dn(i,s,u,o),s.child;case 11:return fv(i,s,s.type,s.pendingProps,o);case 7:return dn(i,s,s.pendingProps,o),s.child;case 8:return dn(i,s,s.pendingProps.children,o),s.child;case 12:return dn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ls(s,s.type,u.value),dn(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,wa(s),f=fn(f),u=u(f),s.flags|=1,dn(i,s,u,o),s.child;case 14:return dv(i,s,s.type,s.pendingProps,o);case 15:return pv(i,s,s.type,s.pendingProps,o);case 19:return Sv(i,s,o);case 31:return X1(i,s,o);case 22:return mv(i,s,o,s.pendingProps);case 24:return wa(s),u=fn(Ye),i===null?(f=Id(),f===null&&(f=me,g=Cd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Dd(s),ls(s,Ye,f)):((i.lanes&o)!==0&&(Od(i,s),Hl(s,null,null,o),jl()),f=i.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ls(s,Ye,u)):(u=g.cache,ls(s,Ye,u),u!==f.cache&&Ad(s,[Ye],o,!0))),dn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function kr(i){i.flags|=4}function fp(i,s,o,u,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Wv())i.flags|=8192;else throw Aa=Yc,xd}else i.flags&=-16777217}function Av(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!BE(s))if(Wv())i.flags|=8192;else throw Aa=Yc,xd}function uh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?mc():536870912,i.lanes|=s,Ro|=s)}function Ql(i,s){if(!$t)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Se(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function W1(i,s,o){var u=s.pendingProps;switch(Ed(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),xr(Ye),bt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(po(s)?kr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wd())),Se(s),null;case 26:var f=s.type,g=s.memoizedState;return i===null?(kr(s),g!==null?(Se(s),Av(s,g)):(Se(s),fp(s,f,null,u,o))):g?g!==i.memoizedState?(kr(s),Se(s),Av(s,g)):(Se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&kr(s),Se(s),fp(s,f,i,u,o)),null;case 27:if(Ee(s),o=Tt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&kr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Se(s),null}i=ht.current,po(s)?r_(s):(i=NE(f,u,o),s.stateNode=i,kr(s))}return Se(s),null;case 5:if(Ee(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&kr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(g=ht.current,po(s))r_(s);else{var E=bh(Tt.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}g[Fe]=s,g[sn]=u;t:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break t;for(;E.sibling===null;){if(E.return===null||E.return===s)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;t:switch(pn(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&kr(s)}}return Se(s),fp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&kr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Tt.current,po(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Fe]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||TE(i.nodeValue,o)),i||os(s,!0)}else i=bh(i).createTextNode(u),i[Fe]=s,s.stateNode=i}return Se(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=po(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Fe]=s}else Ea(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),i=!1}else o=wd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Jn(s),s):(Jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Se(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=po(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Fe]=s}else Ea(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),f=!1}else f=wd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Jn(s),s):(Jn(s),null)}return Jn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),uh(s,s.updateQueue),Se(s),null);case 4:return bt(),i===null&&Mp(s.stateNode.containerInfo),Se(s),null;case 10:return xr(s.type),Se(s),null;case 19:if(J(Ue),u=s.memoizedState,u===null)return Se(s),null;if(f=(s.flags&128)!==0,g=u.rendering,g===null)if(f)Ql(u,!1);else{if(Ne!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=$c(i),g!==null){for(s.flags|=128,Ql(u,!1),i=g.updateQueue,s.updateQueue=i,uh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Zy(o,i),o=o.sibling;return C(Ue,Ue.current&1|2),$t&&Rr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&un()>ph&&(s.flags|=128,f=!0,Ql(u,!1),s.lanes=4194304)}else{if(!f)if(i=$c(g),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,uh(s,i),Ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!$t)return Se(s),null}else 2*un()-u.renderingStartTime>ph&&o!==536870912&&(s.flags|=128,f=!0,Ql(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=un(),i.sibling=null,o=Ue.current,C(Ue,f?o&1|2:o&1),$t&&Rr(s,u.treeForkCount),i):(Se(s),null);case 22:case 23:return Jn(s),Pd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),o=s.updateQueue,o!==null&&uh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&J(Sa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),xr(Ye),Se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function J1(i,s){switch(Ed(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xr(Ye),bt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 31:if(s.memoizedState!==null){if(Jn(s),s.alternate===null)throw Error(r(340));Ea()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Jn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ea()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return J(Ue),null;case 4:return bt(),null;case 10:return xr(s.type),null;case 22:case 23:return Jn(s),Pd(),i!==null&&J(Sa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return xr(Ye),null;case 25:return null;default:return null}}function Cv(i,s){switch(Ed(s),s.tag){case 3:xr(Ye),bt();break;case 26:case 27:case 5:Ee(s);break;case 4:bt();break;case 31:s.memoizedState!==null&&Jn(s);break;case 13:Jn(s);break;case 19:J(Ue);break;case 10:xr(s.type);break;case 22:case 23:Jn(s),Pd(),i!==null&&J(Sa);break;case 24:xr(Ye)}}function Xl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){le(s,s.return,b)}}function ps(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var M=o,G=b;try{G()}catch(Z){le(f,M,Z)}}}u=u.next}while(u!==g)}}catch(Z){le(s,s.return,Z)}}function Rv(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{y_(s,o)}catch(u){le(i,i.return,u)}}}function Iv(i,s,o){o.props=Ia(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){le(i,s,u)}}function $l(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){le(i,s,f)}}function sr(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){le(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){le(i,s,f)}else o.current=null}function xv(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){le(i,i.return,f)}}function dp(i,s,o){try{var u=i.stateNode;EC(u,i.type,o,s),u[sn]=s}catch(f){le(i,i.return,f)}}function Dv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ts(i.type)||i.tag===4}function pp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Dv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ts(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mp(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ci));else if(u!==4&&(u===27&&Ts(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(mp(i,s,o),i=i.sibling;i!==null;)mp(i,s,o),i=i.sibling}function ch(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Ts(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ch(i,s,o),i=i.sibling;i!==null;)ch(i,s,o),i=i.sibling}function Ov(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);pn(s,u,o),s[Fe]=i,s[sn]=o}catch(g){le(i,i.return,g)}}var Mr=!1,Xe=!1,gp=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,on=null;function Z1(i,s){if(i=i.containerInfo,Lp=Oh,i=qy(i),ud(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,M=-1,G=0,Z=0,nt=i,K=null;e:for(;;){for(var X;nt!==o||f!==0&&nt.nodeType!==3||(b=E+f),nt!==g||u!==0&&nt.nodeType!==3||(M=E+u),nt.nodeType===3&&(E+=nt.nodeValue.length),(X=nt.firstChild)!==null;)K=nt,nt=X;for(;;){if(nt===i)break e;if(K===o&&++G===f&&(b=E),K===g&&++Z===u&&(M=E),(X=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=X}o=b===-1||M===-1?null:{start:b,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Up={focusedElem:i,selectionRange:o},Oh=!1,on=s;on!==null;)if(s=on,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,on=i;else for(;on!==null;){switch(s=on,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var vt=Ia(o.type,f);i=u.getSnapshotBeforeUpdate(vt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(It){le(o,o.return,It)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,on=i;break}on=s.return}}function kv(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vr(i,o),u&4&&Xl(5,o);break;case 1:if(Vr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){le(o,o.return,E)}else{var f=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){le(o,o.return,E)}}u&64&&Rv(o),u&512&&$l(o,o.return);break;case 3:if(Vr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{y_(i,s)}catch(E){le(o,o.return,E)}}break;case 27:s===null&&u&4&&Ov(o);case 26:case 5:Vr(i,o),s===null&&u&4&&xv(o),u&512&&$l(o,o.return);break;case 12:Vr(i,o);break;case 31:Vr(i,o),u&4&&Vv(i,o);break;case 13:Vr(i,o),u&4&&Lv(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=lC.bind(null,o),IC(i,o))));break;case 22:if(u=o.memoizedState!==null||Mr,!u){s=s!==null&&s.memoizedState!==null||Xe,f=Mr;var g=Xe;Mr=u,(Xe=s)&&!g?Lr(i,o,(o.subtreeFlags&8772)!==0):Vr(i,o),Mr=f,Xe=g}break;case 30:break;default:Vr(i,o)}}function Mv(i){var s=i.alternate;s!==null&&(i.alternate=null,Mv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&$a(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ce=null,Pn=!1;function Pr(i,s,o){for(o=o.child;o!==null;)Pv(i,s,o),o=o.sibling}function Pv(i,s,o){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Ve,o)}catch{}switch(o.tag){case 26:Xe||sr(o,s),Pr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Xe||sr(o,s);var u=Ce,f=Pn;Ts(o.type)&&(Ce=o.stateNode,Pn=!1),Pr(i,s,o),su(o.stateNode),Ce=u,Pn=f;break;case 5:Xe||sr(o,s);case 6:if(u=Ce,f=Pn,Ce=null,Pr(i,s,o),Ce=u,Pn=f,Ce!==null)if(Pn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(o.stateNode)}catch(g){le(o,s,g)}else try{Ce.removeChild(o.stateNode)}catch(g){le(o,s,g)}break;case 18:Ce!==null&&(Pn?(i=Ce,RE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Po(i)):RE(Ce,o.stateNode));break;case 4:u=Ce,f=Pn,Ce=o.stateNode.containerInfo,Pn=!0,Pr(i,s,o),Ce=u,Pn=f;break;case 0:case 11:case 14:case 15:ps(2,o,s),Xe||ps(4,o,s),Pr(i,s,o);break;case 1:Xe||(sr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Iv(o,s,u)),Pr(i,s,o);break;case 21:Pr(i,s,o);break;case 22:Xe=(u=Xe)||o.memoizedState!==null,Pr(i,s,o),Xe=u;break;default:Pr(i,s,o)}}function Vv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Po(i)}catch(o){le(s,s.return,o)}}}function Lv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Po(i)}catch(o){le(s,s.return,o)}}function tC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Nv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Nv),s;default:throw Error(r(435,i.tag))}}function hh(i,s){var o=tC(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=uC.bind(null,i,u);u.then(f,f)}})}function Vn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=s,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Ts(b.type)){Ce=b.stateNode,Pn=!1;break t}break;case 5:Ce=b.stateNode,Pn=!1;break t;case 3:case 4:Ce=b.stateNode.containerInfo,Pn=!0;break t}b=b.return}if(Ce===null)throw Error(r(160));Pv(g,E,f),Ce=null,Pn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Uv(s,i),s=s.sibling}var Ni=null;function Uv(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(s,i),Ln(i),u&4&&(ps(3,i,i.return),Xl(3,i),ps(5,i,i.return));break;case 1:Vn(s,i),Ln(i),u&512&&(Xe||o===null||sr(o,o.return)),u&64&&Mr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ni;if(Vn(s,i),Ln(i),u&512&&(Xe||o===null||sr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Gi]||g[Fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),pn(g,u,o),g[Fe]=i,qe(g),u=g;break t;case"link":var E=UE("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=f.createElement(u),pn(g,u,o),f.head.appendChild(g);break;case"meta":if(E=UE("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=f.createElement(u),pn(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Fe]=i,qe(g),u=g}i.stateNode=u}else zE(f,i.type,i.stateNode);else i.stateNode=LE(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?zE(f,i.type,i.stateNode):LE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&dp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Vn(s,i),Ln(i),u&512&&(Xe||o===null||sr(o,o.return)),o!==null&&u&4&&dp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Vn(s,i),Ln(i),u&512&&(Xe||o===null||sr(o,o.return)),i.flags&32){f=i.stateNode;try{Mn(f,"")}catch(vt){le(i,i.return,vt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,dp(i,f,o!==null?o.memoizedProps:f)),u&1024&&(gp=!0);break;case 6:if(Vn(s,i),Ln(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(vt){le(i,i.return,vt)}}break;case 3:if(Rh=null,f=Ni,Ni=Ah(s.containerInfo),Vn(s,i),Ni=f,Ln(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(vt){le(i,i.return,vt)}gp&&(gp=!1,zv(i));break;case 4:u=Ni,Ni=Ah(i.stateNode.containerInfo),Vn(s,i),Ln(i),Ni=u;break;case 12:Vn(s,i),Ln(i);break;case 31:Vn(s,i),Ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 13:Vn(s,i),Ln(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dh=un()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,G=Mr,Z=Xe;if(Mr=G||f,Xe=Z||M,Vn(s,i),Xe=Z,Mr=G,Ln(i),u&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||M||Mr||Xe||xa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(g=M.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=M.stateNode;var nt=M.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(vt){le(M,M.return,vt)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(vt){le(M,M.return,vt)}}}else if(s.tag===18){if(o===null){M=s;try{var X=M.stateNode;f?IE(X,!0):IE(M.stateNode,!1)}catch(vt){le(M,M.return,vt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hh(i,o))));break;case 19:Vn(s,i),Ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 30:break;case 21:break;default:Vn(s,i),Ln(i)}}function Ln(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(Dv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=pp(i);ch(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Mn(E,""),o.flags&=-33);var b=pp(i);ch(i,b,E);break;case 3:case 4:var M=o.stateNode.containerInfo,G=pp(i);mp(i,G,M);break;default:throw Error(r(161))}}catch(Z){le(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function zv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;zv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Vr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kv(i,s.alternate,s),s=s.sibling}function xa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),xa(s);break;case 1:sr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Iv(s,s.return,o),xa(s);break;case 27:su(s.stateNode);case 26:case 5:sr(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}i=i.sibling}}function Lr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Lr(f,g,o),Xl(4,g);break;case 1:if(Lr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){le(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)g_(M[f],b)}catch(G){le(u,u.return,G)}}o&&E&64&&Rv(g),$l(g,g.return);break;case 27:Ov(g);case 26:case 5:Lr(f,g,o),o&&u===null&&E&4&&xv(g),$l(g,g.return);break;case 12:Lr(f,g,o);break;case 31:Lr(f,g,o),o&&E&4&&Vv(f,g);break;case 13:Lr(f,g,o),o&&E&4&&Lv(f,g);break;case 22:g.memoizedState===null&&Lr(f,g,o),$l(g,g.return);break;case 30:break;default:Lr(f,g,o)}s=s.sibling}}function yp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vl(o))}function _p(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i))}function ki(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bv(i,s,o,u),s=s.sibling}function Bv(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ki(i,s,o,u),f&2048&&Xl(9,s);break;case 1:ki(i,s,o,u);break;case 3:ki(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i)));break;case 12:if(f&2048){ki(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){le(s,s.return,M)}}else ki(i,s,o,u);break;case 31:ki(i,s,o,u);break;case 13:ki(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?ki(i,s,o,u):Wl(i,s):g._visibility&2?ki(i,s,o,u):(g._visibility|=2,bo(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&yp(E,s);break;case 24:ki(i,s,o,u),f&2048&&_p(s.alternate,s);break;default:ki(i,s,o,u)}}function bo(i,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,E=s,b=o,M=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:bo(g,E,b,M,f),Xl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?bo(g,E,b,M,f):Wl(g,E):(Z._visibility|=2,bo(g,E,b,M,f)),f&&G&2048&&yp(E.alternate,E);break;case 24:bo(g,E,b,M,f),f&&G&2048&&_p(E.alternate,E);break;default:bo(g,E,b,M,f)}s=s.sibling}}function Wl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:Wl(o,u),f&2048&&yp(u.alternate,u);break;case 24:Wl(o,u),f&2048&&_p(u.alternate,u);break;default:Wl(o,u)}s=s.sibling}}var Jl=8192;function Ao(i,s,o){if(i.subtreeFlags&Jl)for(i=i.child;i!==null;)jv(i,s,o),i=i.sibling}function jv(i,s,o){switch(i.tag){case 26:Ao(i,s,o),i.flags&Jl&&i.memoizedState!==null&&BC(o,Ni,i.memoizedState,i.memoizedProps);break;case 5:Ao(i,s,o);break;case 3:case 4:var u=Ni;Ni=Ah(i.stateNode.containerInfo),Ao(i,s,o),Ni=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Jl,Jl=16777216,Ao(i,s,o),Jl=u):Ao(i,s,o));break;default:Ao(i,s,o)}}function Hv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Zl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];on=u,qv(u,i)}Hv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fv(i),i=i.sibling}function Fv(i){switch(i.tag){case 0:case 11:case 15:Zl(i),i.flags&2048&&ps(9,i,i.return);break;case 3:Zl(i);break;case 12:Zl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,fh(i)):Zl(i);break;default:Zl(i)}}function fh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];on=u,qv(u,i)}Hv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ps(8,s,s.return),fh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,fh(s));break;default:fh(s)}i=i.sibling}}function qv(i,s){for(;on!==null;){var o=on;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,on=u;else t:for(o=i;on!==null;){u=on;var f=u.sibling,g=u.return;if(Mv(u),u===o){on=null;break t}if(f!==null){f.return=g,on=f;break t}on=g}}}var eC={getCacheForType:function(i){var s=fn(Ye),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return fn(Ye).controller.signal}},nC=typeof WeakMap=="function"?WeakMap:Map,ne=0,me=null,Ht=null,qt=0,oe=0,Zn=null,ms=!1,Co=!1,vp=!1,Ur=0,Ne=0,gs=0,Da=0,Ep=0,ti=0,Ro=0,tu=null,Un=null,Tp=!1,dh=0,Gv=0,ph=1/0,mh=null,ys=null,tn=0,_s=null,Io=null,zr=0,wp=0,Sp=null,Yv=null,eu=0,bp=null;function ei(){return(ne&2)!==0&&qt!==0?qt&-qt:Y.T!==null?Dp():gc()}function Kv(){if(ti===0)if((qt&536870912)===0||$t){var i=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),ti=i}else ti=536870912;return i=Wn.current,i!==null&&(i.flags|=32),ti}function zn(i,s,o){(i===me&&(oe===2||oe===9)||i.cancelPendingCommit!==null)&&(xo(i,0),vs(i,qt,ti,!1)),ra(i,o),((ne&2)===0||i!==me)&&(i===me&&((ne&2)===0&&(Da|=o),Ne===4&&vs(i,qt,ti,!1)),ar(i))}function Qv(i,s,o){if((ne&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Si(i,s),f=u?sC(i,s):Cp(i,s,!0),g=u;do{if(f===0){Co&&!u&&vs(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!iC(o)){f=Cp(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var b=i;f=tu;var M=b.current.memoizedState.isDehydrated;if(M&&(xo(b,E).flags|=256),E=Cp(b,E,!1),E!==2){if(vp&&!M){b.errorRecoveryDisabledLanes|=g,Da|=g,f=4;break t}g=Un,Un=f,g!==null&&(Un===null?Un=g:Un.push.apply(Un,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){xo(i,0),vs(i,s,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vs(u,s,ti,!ms);break t;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=dh+300-un(),10<f)){if(vs(u,s,ti,!ms),Hi(u,0,!0)!==0)break t;zr=s,u.timeoutHandle=AE(Xv.bind(null,u,o,Un,mh,Tp,s,ti,Da,Ro,ms,g,"Throttled",-0,0),f);break t}Xv(u,o,Un,mh,Tp,s,ti,Da,Ro,ms,g,null,-0,0)}}break}while(!0);ar(i)}function Xv(i,s,o,u,f,g,E,b,M,G,Z,nt,K,X){if(i.timeoutHandle=-1,nt=s.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},jv(s,g,nt);var vt=(g&62914560)===g?dh-un():(g&4194048)===g?Gv-un():0;if(vt=jC(nt,vt),vt!==null){zr=g,i.cancelPendingCommit=vt(iE.bind(null,i,s,g,o,u,f,E,b,M,Z,nt,null,K,X)),vs(i,g,E,!G);return}}iE(i,s,g,o,u,f,E,b,M)}function iC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Xn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(i,s,o,u){s&=~Ep,s&=~Da,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var g=31-Xt(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&sa(i,o,s)}function gh(){return(ne&6)===0?(nu(0),!1):!0}function Ap(){if(Ht!==null){if(oe===0)var i=Ht.return;else i=Ht,Ir=Ta=null,jd(i),vo=null,Ul=0,i=Ht;for(;i!==null;)Cv(i.alternate,i),i=i.return;Ht=null}}function xo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,SC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),zr=0,Ap(),me=i,Ht=o=Cr(i.current,null),qt=s,oe=0,Zn=null,ms=!1,Co=Si(i,s),vp=!1,Ro=ti=Ep=Da=gs=Ne=0,Un=tu=null,Tp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-Xt(u),g=1<<f;s|=i[f],u&=~g}return Ur=s,Lc(),o}function $v(i,s){Ut=null,Y.H=Yl,s===_o||s===Gc?(s=f_(),oe=3):s===xd?(s=f_(),oe=4):oe=s===ip?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zn=s,Ht===null&&(Ne=1,sh(i,di(s,i.current)))}function Wv(){var i=Wn.current;return i===null?!0:(qt&4194048)===qt?yi===null:(qt&62914560)===qt||(qt&536870912)!==0?i===yi:!1}function Jv(){var i=Y.H;return Y.H=Yl,i===null?Yl:i}function Zv(){var i=Y.A;return Y.A=eC,i}function yh(){Ne=4,ms||(qt&4194048)!==qt&&Wn.current!==null||(Co=!0),(gs&134217727)===0&&(Da&134217727)===0||me===null||vs(me,qt,ti,!1)}function Cp(i,s,o){var u=ne;ne|=2;var f=Jv(),g=Zv();(me!==i||qt!==s)&&(mh=null,xo(i,s)),s=!1;var E=Ne;t:do try{if(oe!==0&&Ht!==null){var b=Ht,M=Zn;switch(oe){case 8:Ap(),E=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var G=oe;if(oe=0,Zn=null,Do(i,b,M,G),o&&Co){E=0;break t}break;default:G=oe,oe=0,Zn=null,Do(i,b,M,G)}}rC(),E=Ne;break}catch(Z){$v(i,Z)}while(!0);return s&&i.shellSuspendCounter++,Ir=Ta=null,ne=u,Y.H=f,Y.A=g,Ht===null&&(me=null,qt=0,Lc()),E}function rC(){for(;Ht!==null;)tE(Ht)}function sC(i,s){var o=ne;ne|=2;var u=Jv(),f=Zv();me!==i||qt!==s?(mh=null,ph=un()+500,xo(i,s)):Co=Si(i,s);t:do try{if(oe!==0&&Ht!==null){s=Ht;var g=Zn;e:switch(oe){case 1:oe=0,Zn=null,Do(i,s,g,1);break;case 2:case 9:if(c_(g)){oe=0,Zn=null,eE(s);break}s=function(){oe!==2&&oe!==9||me!==i||(oe=7),ar(i)},g.then(s,s);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:c_(g)?(oe=0,Zn=null,eE(s)):(oe=0,Zn=null,Do(i,s,g,7));break;case 5:var E=null;switch(Ht.tag){case 26:E=Ht.memoizedState;case 5:case 27:var b=Ht;if(E?BE(E):b.stateNode.complete){oe=0,Zn=null;var M=b.sibling;if(M!==null)Ht=M;else{var G=b.return;G!==null?(Ht=G,_h(G)):Ht=null}break e}}oe=0,Zn=null,Do(i,s,g,5);break;case 6:oe=0,Zn=null,Do(i,s,g,6);break;case 8:Ap(),Ne=6;break t;default:throw Error(r(462))}}aC();break}catch(Z){$v(i,Z)}while(!0);return Ir=Ta=null,Y.H=u,Y.A=f,ne=o,Ht!==null?0:(me=null,qt=0,Lc(),Ne)}function aC(){for(;Ht!==null&&!fl();)tE(Ht)}function tE(i){var s=bv(i.alternate,i,Ur);i.memoizedProps=i.pendingProps,s===null?_h(i):Ht=s}function eE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=_v(o,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=_v(o,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:jd(s);default:Cv(o,s),s=Ht=Zy(s,Ur),s=bv(o,s,Ur)}i.memoizedProps=i.pendingProps,s===null?_h(i):Ht=s}function Do(i,s,o,u){Ir=Ta=null,jd(s),vo=null,Ul=0;var f=s.return;try{if(Q1(i,f,s,o,qt)){Ne=1,sh(i,di(o,i.current)),Ht=null;return}}catch(g){if(f!==null)throw Ht=f,g;Ne=1,sh(i,di(o,i.current)),Ht=null;return}s.flags&32768?($t||u===1?i=!0:Co||(qt&536870912)!==0?i=!1:(ms=i=!0,(u===2||u===9||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),nE(s,i)):_h(s)}function _h(i){var s=i;do{if((s.flags&32768)!==0){nE(s,ms);return}i=s.return;var o=W1(s.alternate,s,Ur);if(o!==null){Ht=o;return}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=i}while(s!==null);Ne===0&&(Ne=5)}function nE(i,s){do{var o=J1(i.alternate,i);if(o!==null){o.flags&=32767,Ht=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ht=i;return}Ht=i=o}while(i!==null);Ne=6,Ht=null}function iE(i,s,o,u,f,g,E,b,M){i.cancelPendingCommit=null;do vh();while(tn!==0);if((ne&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=pd,sd(i,o,g,E,b,M),i===me&&(Ht=me=null,qt=0),Io=s,_s=i,zr=o,wp=g,Sp=f,Yv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cC(Rt,function(){return lE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=at.p,at.p=2,E=ne,ne|=4;try{Z1(i,s,o)}finally{ne=E,at.p=f,Y.T=u}}tn=1,rE(),sE(),aE()}}function rE(){if(tn===1){tn=0;var i=_s,s=Io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=at.p;at.p=2;var f=ne;ne|=4;try{Uv(s,i);var g=Up,E=qy(i.containerInfo),b=g.focusedElem,M=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&Fy(b.ownerDocument.documentElement,b)){if(M!==null&&ud(b)){var G=M.start,Z=M.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var nt=b.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var X=K.getSelection(),vt=b.textContent.length,It=Math.min(M.start,vt),de=M.end===void 0?It:Math.min(M.end,vt);!X.extend&&It>de&&(E=de,de=It,It=E);var B=Hy(b,It),U=Hy(b,de);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),It>de?(X.addRange(q),X.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),X.addRange(q))}}}}for(nt=[],X=b;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<nt.length;b++){var et=nt[b];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Oh=!!Lp,Up=Lp=null}finally{ne=f,at.p=u,Y.T=o}}i.current=s,tn=2}}function sE(){if(tn===2){tn=0;var i=_s,s=Io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=at.p;at.p=2;var f=ne;ne|=4;try{kv(i,s.alternate,s)}finally{ne=f,at.p=u,Y.T=o}}tn=3}}function aE(){if(tn===4||tn===3){tn=0,Qa();var i=_s,s=Io,o=zr,u=Yv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Io=_s=null,oE(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(ys=null),wr(o),s=s.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Ve,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Y.T,f=at.p,at.p=2,Y.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{Y.T=s,at.p=f}}(zr&3)!==0&&vh(),ar(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===bp?eu++:(eu=0,bp=i):eu=0,nu(0)}}function oE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vl(s)))}function vh(){return rE(),sE(),aE(),lE()}function lE(){if(tn!==5)return!1;var i=_s,s=wp;wp=0;var o=wr(zr),u=Y.T,f=at.p;try{at.p=32>o?32:o,Y.T=null,o=Sp,Sp=null;var g=_s,E=zr;if(tn=0,Io=_s=null,zr=0,(ne&6)!==0)throw Error(r(331));var b=ne;if(ne|=4,Fv(g.current),Bv(g,g.current,E,o),ne=b,nu(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Ve,g)}catch{}return!0}finally{at.p=f,Y.T=u,oE(i,s)}}function uE(i,s,o){s=di(o,s),s=np(i.stateNode,s,2),i=hs(i,s,2),i!==null&&(ra(i,2),ar(i))}function le(i,s,o){if(i.tag===3)uE(i,i,o);else for(;s!==null;){if(s.tag===3){uE(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ys===null||!ys.has(u))){i=di(o,i),o=cv(2),u=hs(s,o,2),u!==null&&(hv(o,u,s,i),ra(u,2),ar(u));break}}s=s.return}}function Rp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new nC;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(vp=!0,f.add(o),i=oC.bind(null,i,s,o),s.then(i,i))}function oC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,me===i&&(qt&o)===o&&(Ne===4||Ne===3&&(qt&62914560)===qt&&300>un()-dh?(ne&2)===0&&xo(i,0):Ep|=o,Ro===qt&&(Ro=0)),ar(i)}function cE(i,s){s===0&&(s=mc()),i=_a(i,s),i!==null&&(ra(i,s),ar(i))}function lC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),cE(i,o)}function uC(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),cE(i,o)}function cC(i,s){return se(i,s)}var Eh=null,Oo=null,Ip=!1,Th=!1,xp=!1,Es=0;function ar(i){i!==Oo&&i.next===null&&(Oo===null?Eh=Oo=i:Oo=Oo.next=i),Th=!0,Ip||(Ip=!0,fC())}function nu(i,s){if(!xp&&Th){xp=!0;do for(var o=!1,u=Eh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-Xt(42|i)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,pE(u,g))}else g=qt,g=Hi(u,u===me?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Si(u,g)||(o=!0,pE(u,g));u=u.next}while(o);xp=!1}}function hC(){hE()}function hE(){Th=Ip=!1;var i=0;Es!==0&&wC()&&(i=Es);for(var s=un(),o=null,u=Eh;u!==null;){var f=u.next,g=fE(u,s);g===0?(u.next=null,o===null?Eh=f:o.next=f,f===null&&(Oo=o)):(o=u,(i!==0||(g&3)!==0)&&(Th=!0)),u=f}tn!==0&&tn!==5||nu(i),Es!==0&&(Es=0)}function fE(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Xt(g),b=1<<E,M=f[E];M===-1?((b&o)===0||(b&u)!==0)&&(f[E]=rd(b,s)):M<=s&&(i.expiredLanes|=b),g&=~b}if(s=me,o=qt,o=Hi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(oe===2||oe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&zi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Si(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&zi(u),wr(o)){case 2:case 8:o=ut;break;case 32:o=Rt;break;case 268435456:o=Jt;break;default:o=Rt}return u=dE.bind(null,i),o=se(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&zi(u),i.callbackPriority=2,i.callbackNode=null,2}function dE(i,s){if(tn!==0&&tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(vh()&&i.callbackNode!==o)return null;var u=qt;return u=Hi(i,i===me?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Qv(i,u,s),fE(i,un()),i.callbackNode!=null&&i.callbackNode===o?dE.bind(null,i):null)}function pE(i,s){if(vh())return null;Qv(i,s,!0)}function fC(){bC(function(){(ne&6)!==0?se(tt,hC):hE()})}function Dp(){if(Es===0){var i=go;i===0&&(i=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Es=i}return Es}function mE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:to(""+i)}function gE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function dC(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=mE((f[sn]||null).action),E=u.submitter;E&&(s=(s=E[sn]||null)?mE(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var b=new Zi("action","action",null,u,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Es!==0){var M=E?gE(f,E):new FormData(f);$d(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(b.preventDefault(),M=E?gE(f,E):new FormData(f),$d(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Op=0;Op<dd.length;Op++){var Np=dd[Op],pC=Np.toLowerCase(),mC=Np[0].toUpperCase()+Np.slice(1);Oi(pC,"on"+mC)}Oi(Ky,"onAnimationEnd"),Oi(Qy,"onAnimationIteration"),Oi(Xy,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(O1,"onTransitionRun"),Oi(N1,"onTransitionStart"),Oi(k1,"onTransitionCancel"),Oi($y,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function yE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],M=b.instance,G=b.currentTarget;if(b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=G;try{g(f)}catch(Z){Vc(Z)}f.currentTarget=null,g=M}else for(E=0;E<u.length;E++){if(b=u[E],M=b.instance,G=b.currentTarget,b=b.listener,M!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=G;try{g(f)}catch(Z){Vc(Z)}f.currentTarget=null,g=M}}}}function Ft(i,s){var o=s[Xa];o===void 0&&(o=s[Xa]=new Set);var u=i+"__bubble";o.has(u)||(_E(s,i,2,!1),o.add(u))}function kp(i,s,o){var u=0;s&&(u|=4),_E(o,i,u,s)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Mp(i){if(!i[wh]){i[wh]=!0,ml.forEach(function(o){o!=="selectionchange"&&(gC.has(o)||kp(o,!1,i),kp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wh]||(s[wh]=!0,kp("selectionchange",!1,s))}}function _E(i,s,o,u){switch(KE(s)){case 2:var f=qC;break;case 8:f=GC;break;default:f=Xp}o=f.bind(null,s,o,i),f=void 0,!ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function Pp(i,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Yi(b),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=g=E;continue t}b=b.parentNode}}u=u.return}es(function(){var G=g,Z=ui(o),nt=[];t:{var K=Wy.get(i);if(K!==void 0){var X=Zi,vt=i;switch(i){case"keypress":if(fa(o)===0)break t;case"keydown":case"keyup":X=kc;break;case"focusin":vt="focus",X=pa;break;case"focusout":vt="blur",X=pa;break;case"beforeblur":case"afterblur":X=pa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case Ky:case Qy:case Xy:X=Cc;break;case $y:X=A;break;case"scroll":case"scrollend":X=Rl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ar;break;case"toggle":case"beforetoggle":X=Lt}var It=(s&4)!==0,de=!It&&(i==="scroll"||i==="scrollend"),B=It?K!==null?K+"Capture":null:K;It=[];for(var U=G,q;U!==null;){var et=U;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=Ri(U,B),et!=null&&It.push(ru(U,et,q))),de)break;U=U.return}0<It.length&&(K=new X(K,vt,null,o,Z),nt.push({event:K,listeners:It}))}}if((s&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&o!==bl&&(vt=o.relatedTarget||o.fromElement)&&(Yi(vt)||vt[qi]))break t;if((X||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,X?(vt=o.relatedTarget||o.toElement,X=G,vt=vt?Yi(vt):null,vt!==null&&(de=l(vt),It=vt.tag,vt!==de||It!==5&&It!==27&&It!==6)&&(vt=null)):(X=null,vt=G),X!==vt)){if(It=Il,et="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(It=Ar,et="onPointerLeave",B="onPointerEnter",U="pointer"),de=X==null?K:Kn(X),q=vt==null?K:Kn(vt),K=new It(et,U+"leave",X,o,Z),K.target=de,K.relatedTarget=q,et=null,Yi(Z)===G&&(It=new It(B,U+"enter",vt,o,Z),It.target=q,It.relatedTarget=de,et=It),de=et,X&&vt)e:{for(It=yC,B=X,U=vt,q=0,et=B;et;et=It(et))q++;et=0;for(var At=U;At;At=It(At))et++;for(;0<q-et;)B=It(B),q--;for(;0<et-q;)U=It(U),et--;for(;q--;){if(B===U||U!==null&&B===U.alternate){It=B;break e}B=It(B),U=It(U)}It=null}else It=null;X!==null&&vE(nt,K,X,It,!1),vt!==null&&de!==null&&vE(nt,de,vt,It,!0)}}t:{if(K=G?Kn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Zt=Vy;else if(My(K))if(Ly)Zt=I1;else{Zt=C1;var wt=A1}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Za(G.elementType)&&(Zt=Vy):Zt=R1;if(Zt&&(Zt=Zt(i,G))){Py(nt,Zt,o,Z);break t}wt&&wt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Tl(K,"number",K.value)}switch(wt=G?Kn(G):window,i){case"focusin":(My(wt)||wt.contentEditable==="true")&&(oo=wt,cd=G,kl=null);break;case"focusout":kl=cd=oo=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Gy(nt,o,Z);break;case"selectionchange":if(D1)break;case"keydown":case"keyup":Gy(nt,o,Z)}var zt;if(ee)t:{switch(i){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else ao?ma(i,o)&&(Gt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Gt="onCompositionStart");Gt&&(nr&&o.locale!=="ko"&&(ao||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ao&&(zt=Cl()):(Ji=Z,Al="value"in Ji?Ji.value:Ji.textContent,ao=!0)),wt=Sh(G,Gt),0<wt.length&&(Gt=new er(Gt,i,null,o,Z),nt.push({event:Gt,listeners:wt}),zt?Gt.data=zt:(zt=so(o),zt!==null&&(Gt.data=zt)))),(zt=hi?T1(i,o):w1(i,o))&&(Gt=Sh(G,"onBeforeInput"),0<Gt.length&&(wt=new er("onBeforeInput","beforeinput",null,o,Z),nt.push({event:wt,listeners:Gt}),wt.data=zt)),dC(nt,i,G,o,Z)}yE(nt,s)})}function ru(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Sh(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ri(i,o),f!=null&&u.unshift(ru(i,f,g)),f=Ri(i,s),f!=null&&u.push(ru(i,f,g))),i.tag===3)return u;i=i.return}return[]}function yC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vE(i,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var b=o,M=b.alternate,G=b.stateNode;if(b=b.tag,M!==null&&M===u)break;b!==5&&b!==26&&b!==27||G===null||(M=G,f?(G=Ri(o,g),G!=null&&E.unshift(ru(o,G,M))):f||(G=Ri(o,g),G!=null&&E.push(ru(o,G,M)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var _C=/\r\n?/g,vC=/\u0000|\uFFFD/g;function EE(i){return(typeof i=="string"?i:""+i).replace(_C,`
`).replace(vC,"")}function TE(i,s){return s=EE(s),EE(i)===s}function fe(i,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Mn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Mn(i,""+u);break;case"className":Qn(i,"class",u);break;case"tabIndex":Qn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(i,o,u);break;case"style":Sl(i,u,g);break;case"data":if(s!=="object"){Qn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=to(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&fe(i,s,"name",f.name,f,null),fe(i,s,"formEncType",f.formEncType,f,null),fe(i,s,"formMethod",f.formMethod,f,null),fe(i,s,"formTarget",f.formTarget,f,null)):(fe(i,s,"encType",f.encType,f,null),fe(i,s,"method",f.method,f,null),fe(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=to(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ci);break;case"onScroll":u!=null&&Ft("scroll",i);break;case"onScrollEnd":u!=null&&Ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=to(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ft("beforetoggle",i),Ft("toggle",i),Wa(i,"popover",u);break;case"xlinkActuate":Ge(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ge(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ge(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ge(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ge(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ge(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ge(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ge(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ge(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sc.get(o)||o,Wa(i,o,u))}}function Vp(i,s,o,u,f,g){switch(o){case"style":Sl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Mn(i,u):(typeof u=="number"||typeof u=="bigint")&&Mn(i,""+u);break;case"onScroll":u!=null&&Ft("scroll",i);break;case"onScrollEnd":u!=null&&Ft("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[sn]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Wa(i,o,u)}}}function pn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",i),Ft("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:fe(i,s,g,E,o,null)}}f&&fe(i,s,"srcSet",o.srcSet,o,null),u&&fe(i,s,"src",o.src,o,null);return;case"input":Ft("invalid",i);var b=g=E=f=null,M=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":M=Z;break;case"defaultChecked":G=Z;break;case"value":g=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:fe(i,s,u,Z,o,null)}}Ec(i,g,b,M,G,E,f,!1);return;case"select":Ft("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:fe(i,s,f,b,o,null)}s=g,o=E,i.multiple=!!u,s!=null?Wr(i,!!u,s,!1):o!=null&&Wr(i,!!u,o,!0);return;case"textarea":Ft("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:fe(i,s,E,b,o,null)}Jr(i,u,f,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":fe(i,s,M,u,o,null));return;case"dialog":Ft("beforetoggle",i),Ft("toggle",i),Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":Ft("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)Ft(iu[u],i);break;case"image":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"embed":case"source":case"link":Ft("error",i),Ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:fe(i,s,G,u,o,null)}return;default:if(Za(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Vp(i,s,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&fe(i,s,b,u,o,null))}function EC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,M=null,G=null,Z=null;for(X in o){var nt=o[X];if(o.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=nt;default:u.hasOwnProperty(X)||fe(i,s,X,null,u,nt)}}for(var K in u){var X=u[K];if(nt=o[K],u.hasOwnProperty(K)&&(X!=null||nt!=null))switch(K){case"type":g=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":Z=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==nt&&fe(i,s,K,X,u,nt)}}Ja(i,E,b,M,G,Z,g,f);return;case"select":X=E=b=K=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(g)||fe(i,s,g,null,u,M)}for(f in u)if(g=u[f],M=o[f],u.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":K=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==M&&fe(i,s,f,g,u,M)}s=b,o=E,u=X,K!=null?Wr(i,!!o,K,!1):!!u!=!!o&&(s!=null?Wr(i,!!o,s,!0):Wr(i,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:fe(i,s,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&fe(i,s,E,f,u,g)}Tc(i,K,X);return;case"option":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&(vt==="selected"?i.selected=!1:fe(i,s,vt,null,u,K));for(M in u)K=u[M],X=o[M],u.hasOwnProperty(M)&&K!==X&&(K!=null||X!=null)&&(M==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":fe(i,s,M,K,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in o)K=o[It],o.hasOwnProperty(It)&&K!=null&&!u.hasOwnProperty(It)&&fe(i,s,It,null,u,K);for(G in u)if(K=u[G],X=o[G],u.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:fe(i,s,G,K,u,X)}return;default:if(Za(s)){for(var de in o)K=o[de],o.hasOwnProperty(de)&&K!==void 0&&!u.hasOwnProperty(de)&&Vp(i,s,de,void 0,u,K);for(Z in u)K=u[Z],X=o[Z],!u.hasOwnProperty(Z)||K===X||K===void 0&&X===void 0||Vp(i,s,Z,K,u,X);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&fe(i,s,B,null,u,K);for(nt in u)K=u[nt],X=o[nt],!u.hasOwnProperty(nt)||K===X||K==null&&X==null||fe(i,s,nt,K,u,X)}function wE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,E=f.initiatorType,b=f.duration;if(g&&b&&wE(E)){for(E=0,b=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],G=M.startTime;if(G>b)break;var Z=M.transferSize,nt=M.initiatorType;Z&&wE(nt)&&(M=M.responseEnd,E+=Z*(M<b?1:(b-G)/(M-G)))}if(--u,s+=8*(g+E)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lp=null,Up=null;function bh(i){return i.nodeType===9?i:i.ownerDocument}function SE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function wC(){var i=window.event;return i&&i.type==="popstate"?i===Bp?!1:(Bp=i,!0):(Bp=null,!1)}var AE=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,bC=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(i){return CE.resolve(null).then(i).catch(AC)}:AE;function AC(i){setTimeout(function(){throw i})}function Ts(i){return i==="head"}function RE(i,s){var o=s,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Po(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")su(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,su(o);for(var g=o.firstChild;g;){var E=g.nextSibling,b=g.nodeName;g[Gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&su(i.ownerDocument.body);o=f}while(o);Po(s)}function IE(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function jp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function CC(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Gi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=_i(i.nextSibling),i===null)break}return null}function RC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=_i(i.nextSibling),i===null))return null;return i}function xE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=_i(i.nextSibling),i===null))return null;return i}function Hp(i){return i.data==="$?"||i.data==="$~"}function Fp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function IC(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function _i(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var qp=null;function DE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return _i(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function OE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function NE(i,s,o){switch(s=bh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function su(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);$a(i)}var vi=new Map,kE=new Set;function Ah(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Br=at.d;at.d={f:xC,r:DC,D:OC,C:NC,L:kC,m:MC,X:VC,S:PC,M:LC};function xC(){var i=Br.f(),s=gh();return i||s}function DC(i){var s=li(i);s!==null&&s.tag===5&&s.type==="form"?$_(s):Br.r(i)}var No=typeof document>"u"?null:document;function ME(i,s,o){var u=No;if(u&&typeof s=="string"&&s){var f=kn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),kE.has(f)||(kE.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),pn(s,"link",i),qe(s),u.head.appendChild(s)))}}function OC(i){Br.D(i),ME("dns-prefetch",i,null)}function NC(i,s){Br.C(i,s),ME("preconnect",i,s)}function kC(i,s,o){Br.L(i,s,o);var u=No;if(u&&i&&s){var f='link[rel="preload"][as="'+kn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+kn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+kn(o.imageSizes)+'"]')):f+='[href="'+kn(i)+'"]';var g=f;switch(s){case"style":g=ko(i);break;case"script":g=Mo(i)}vi.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),vi.set(g,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(au(g))||s==="script"&&u.querySelector(ou(g))||(s=u.createElement("link"),pn(s,"link",i),qe(s),u.head.appendChild(s)))}}function MC(i,s){Br.m(i,s);var o=No;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+kn(u)+'"][href="'+kn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Mo(i)}if(!vi.has(g)&&(i=v({rel:"modulepreload",href:i},s),vi.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(g)))return}u=o.createElement("link"),pn(u,"link",i),qe(u),o.head.appendChild(u)}}}function PC(i,s,o){Br.S(i,s,o);var u=No;if(u&&i){var f=Ki(u).hoistableStyles,g=ko(i);s=s||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(au(g)))b.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=vi.get(g))&&Gp(i,o);var M=E=u.createElement("link");qe(M),pn(M,"link",i),M._p=new Promise(function(G,Z){M.onload=G,M.onerror=Z}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ch(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function VC(i,s){Br.X(i,s);var o=No;if(o&&i){var u=Ki(o).hoistableScripts,f=Mo(i),g=u.get(f);g||(g=o.querySelector(ou(f)),g||(i=v({src:i,async:!0},s),(s=vi.get(f))&&Yp(i,s),g=o.createElement("script"),qe(g),pn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function LC(i,s){Br.M(i,s);var o=No;if(o&&i){var u=Ki(o).hoistableScripts,f=Mo(i),g=u.get(f);g||(g=o.querySelector(ou(f)),g||(i=v({src:i,async:!0,type:"module"},s),(s=vi.get(f))&&Yp(i,s),g=o.createElement("script"),qe(g),pn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function PE(i,s,o,u){var f=(f=Tt.current)?Ah(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ko(o.href),o=Ki(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ko(o.href);var g=Ki(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(au(i)))&&!g._p&&(E.instance=g,E.state.loading=5),vi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vi.set(i,o),g||UC(f,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mo(o),o=Ki(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ko(i){return'href="'+kn(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function VE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function UC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),pn(s,"link",o),qe(s),i.head.appendChild(s))}function Mo(i){return'[src="'+kn(i)+'"]'}function ou(i){return"script[async]"+i}function LE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+kn(o.href)+'"]');if(u)return s.instance=u,qe(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),qe(u),pn(u,"style",f),Ch(u,o.precedence,i),s.instance=u;case"stylesheet":f=ko(o.href);var g=i.querySelector(au(f));if(g)return s.state.loading|=4,s.instance=g,qe(g),g;u=VE(o),(f=vi.get(f))&&Gp(u,f),g=(i.ownerDocument||i).createElement("link"),qe(g);var E=g;return E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),pn(g,"link",u),s.state.loading|=4,Ch(g,o.precedence,i),s.instance=g;case"script":return g=Mo(o.src),(f=i.querySelector(ou(g)))?(s.instance=f,qe(f),f):(u=o,(f=vi.get(g))&&(u=v({},o),Yp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),qe(f),pn(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ch(u,o.precedence,i));return s.instance}function Ch(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Yp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Rh=null;function UE(i,s,o){if(Rh===null){var u=new Map,f=Rh=new Map;f.set(o,u)}else f=Rh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Gi]||g[Fe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function zE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function zC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function BE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function BC(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(u.href),g=s.querySelector(au(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Ih.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,qe(g);return}g=s.ownerDocument||s,u=VE(u),(f=vi.get(f))&&Gp(u,f),g=g.createElement("link"),qe(g);var E=g;E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),pn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Ih.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Kp=0;function jC(i,s){return i.stylesheets&&i.count===0&&Dh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Kp===0&&(Kp=62500*TC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Kp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var xh=null;function Dh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,xh=new Map,s.forEach(HC,i),xh=null,Ih.call(i))}function HC(i,s){if(!(s.state.loading&4)){var o=xh.get(i);if(o)var u=o.get(null);else{o=new Map,xh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Ih.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var lu={$$typeof:W,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function FC(i,s,o,u,f,g,E,b,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function jE(i,s,o,u,f,g,E,b,M,G,Z,nt){return i=new FC(i,s,o,E,M,G,Z,nt,b),s=1,g===!0&&(s|=24),g=$n(3,null,null,s),i.current=g,g.stateNode=i,s=Cd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Dd(g),i}function HE(i){return i?(i=co,i):co}function FE(i,s,o,u,f,g){f=HE(f),u.context===null?u.context=f:u.pendingContext=f,u=cs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=hs(i,u,s),o!==null&&(zn(o,i,s),Bl(o,i,s))}function qE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Qp(i,s){qE(i,s),(i=i.alternate)&&qE(i,s)}function GE(i){if(i.tag===13||i.tag===31){var s=_a(i,67108864);s!==null&&zn(s,i,67108864),Qp(i,67108864)}}function YE(i){if(i.tag===13||i.tag===31){var s=ei();s=aa(s);var o=_a(i,s);o!==null&&zn(o,i,s),Qp(i,s)}}var Oh=!0;function qC(i,s,o,u){var f=Y.T;Y.T=null;var g=at.p;try{at.p=2,Xp(i,s,o,u)}finally{at.p=g,Y.T=f}}function GC(i,s,o,u){var f=Y.T;Y.T=null;var g=at.p;try{at.p=8,Xp(i,s,o,u)}finally{at.p=g,Y.T=f}}function Xp(i,s,o,u){if(Oh){var f=$p(u);if(f===null)Pp(i,s,u,Nh,o),QE(i,u);else if(KC(f,i,s,o,u))u.stopPropagation();else if(QE(i,u),s&4&&-1<YC.indexOf(i)){for(;f!==null;){var g=li(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ji(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var M=1<<31-Xt(E);b.entanglements[1]|=M,E&=~M}ar(g),(ne&6)===0&&(ph=un()+500,nu(0))}}break;case 31:case 13:b=_a(g,2),b!==null&&zn(b,g,2),gh(),Qp(g,2)}if(g=$p(u),g===null&&Pp(i,s,u,Nh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Pp(i,s,u,null,o)}}function $p(i){return i=ui(i),Wp(i)}var Nh=null;function Wp(i){if(Nh=null,i=Yi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=d(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Nh=i,null}function KE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case tt:return 2;case ut:return 8;case Rt:case jt:return 32;case Jt:return 268435456;default:return 32}default:return 32}}var Jp=!1,ws=null,Ss=null,bs=null,uu=new Map,cu=new Map,As=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(i,s){switch(i){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(s.pointerId)}}function hu(i,s,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=li(s),s!==null&&GE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function KC(i,s,o,u,f){switch(s){case"focusin":return ws=hu(ws,i,s,o,u,f),!0;case"dragenter":return Ss=hu(Ss,i,s,o,u,f),!0;case"mouseover":return bs=hu(bs,i,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return uu.set(g,hu(uu.get(g)||null,i,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,cu.set(g,hu(cu.get(g)||null,i,s,o,u,f)),!0}return!1}function XE(i){var s=Yi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,bi(i.priority,function(){YE(o)});return}}else if(s===31){if(s=d(o),s!==null){i.blockedOn=s,bi(i.priority,function(){YE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=$p(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);bl=u,o.target.dispatchEvent(u),bl=null}else return s=li(o),s!==null&&GE(s),i.blockedOn=o,!1;s.shift()}return!0}function $E(i,s,o){kh(i)&&o.delete(s)}function QC(){Jp=!1,ws!==null&&kh(ws)&&(ws=null),Ss!==null&&kh(Ss)&&(Ss=null),bs!==null&&kh(bs)&&(bs=null),uu.forEach($E),cu.forEach($E)}function Mh(i,s){i.blockedOn===s&&(i.blockedOn=null,Jp||(Jp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QC)))}var Ph=null;function WE(i){Ph!==i&&(Ph=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ph===i&&(Ph=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(Wp(u||o)===null)continue;break}var g=li(o);g!==null&&(i.splice(s,3),s-=3,$d(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Po(i){function s(M){return Mh(M,i)}ws!==null&&Mh(ws,i),Ss!==null&&Mh(Ss,i),bs!==null&&Mh(bs,i),uu.forEach(s),cu.forEach(s);for(var o=0;o<As.length;o++){var u=As[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<As.length&&(o=As[0],o.blockedOn===null);)XE(o),o.blockedOn===null&&As.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[sn]||null;if(typeof g=="function")E||WE(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[sn]||null)b=E.formAction;else if(Wp(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),WE(o)}}}function JE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Zp(i){this._internalRoot=i}Vh.prototype.render=Zp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=ei();FE(o,u,i,s,null,null)},Vh.prototype.unmount=Zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;FE(i.current,2,null,i,null,null),gh(),s[qi]=null}};function Vh(i){this._internalRoot=i}Vh.prototype.unstable_scheduleHydration=function(i){if(i){var s=gc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<As.length&&s!==0&&s<As[o].priority;o++);As.splice(o,0,i),o===0&&XE(i)}};var ZE=t.version;if(ZE!=="19.2.3")throw Error(r(527,ZE,"19.2.3"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var XC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{Ve=Lh.inject(XC),xe=Lh}catch{}}return du.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=av,g=ov,E=lv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=jE(i,1,!1,null,null,o,u,null,f,g,E,JE),i[qi]=s.current,Mp(i),new Zp(s)},du.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",g=av,E=ov,b=lv,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),s=jE(i,1,!0,s,o??null,u,f,M,g,E,b,JE),s.context=HE(null),o=s.current,u=ei(),u=aa(u),f=cs(u),f.callback=null,hs(o,f,u),o=u,s.current.lanes=o,ra(s,o),ar(s),i[qi]=s.current,Mp(i),new Vh(s)},du.version="19.2.3",du}var uT;function sR(){if(uT)return nm.exports;uT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nm.exports=rR(),nm.exports}var aR=sR(),oR=Object.defineProperty,lR=(e,t,n)=>t in e?oR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Re=(e,t,n)=>lR(e,typeof t!="symbol"?t+"":t,n);const cf={x:0,y:0,width:0,height:0,unit:"px"},Vo=(e,t,n)=>Math.min(Math.max(e,t),n),uR=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),cT=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Lo(e,t,n){return e.unit==="%"?{...cf,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function Rs(e,t,n){return e.unit?e.unit==="px"?{...cf,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...cf,...e,unit:"px"}}function hT(e,t,n,r,a,l=0,c=0,d=r,m=a){const p={...e};let y=Math.min(l,r),v=Math.min(c,a),w=Math.min(d,r),S=Math.min(m,a);t&&(t>1?(y=c?c*t:y,v=y/t,w=d*t):(v=l?l/t:v,y=v*t,S=m/t)),p.y<0&&(p.height=Math.max(p.height+p.y,v),p.y=0),p.x<0&&(p.width=Math.max(p.width+p.x,y),p.x=0);const V=r-(p.x+p.width);V<0&&(p.x=Math.min(p.x,r-y),p.width+=V);const z=a-(p.y+p.height);if(z<0&&(p.y=Math.min(p.y,a-v),p.height+=z),p.width<y&&((n==="sw"||n=="nw")&&(p.x-=y-p.width),p.width=y),p.height<v&&((n==="nw"||n=="ne")&&(p.y-=v-p.height),p.height=v),p.width>w&&((n==="sw"||n=="nw")&&(p.x-=w-p.width),p.width=w),p.height>S&&((n==="nw"||n=="ne")&&(p.y-=S-p.height),p.height=S),t){const j=p.width/p.height;if(j<t){const F=Math.max(p.width/t,v);(n==="nw"||n=="ne")&&(p.y-=F-p.height),p.height=F}else if(j>t){const F=Math.max(p.height*t,y);(n==="sw"||n=="nw")&&(p.x-=F-p.width),p.width=F}}return p}function cR(e,t,n,r){const a={...e};return t==="ArrowLeft"?r==="nw"?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):r==="w"?(a.x-=n,a.width+=n):r==="sw"?(a.x-=n,a.width+=n,a.height+=n):r==="ne"?(a.y+=n,a.width-=n,a.height-=n):r==="e"?a.width-=n:r==="se"&&(a.width-=n,a.height-=n):t==="ArrowRight"&&(r==="nw"?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):r==="w"?(a.x+=n,a.width-=n):r==="sw"?(a.x+=n,a.width-=n,a.height-=n):r==="ne"?(a.y-=n,a.width+=n,a.height+=n):r==="e"?a.width+=n:r==="se"&&(a.width+=n,a.height+=n)),t==="ArrowUp"?r==="nw"?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):r==="n"?(a.y-=n,a.height+=n):r==="ne"?(a.y-=n,a.width+=n,a.height+=n):r==="sw"?(a.x+=n,a.width-=n,a.height-=n):r==="s"?a.height-=n:r==="se"&&(a.width-=n,a.height-=n):t==="ArrowDown"&&(r==="nw"?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):r==="n"?(a.y+=n,a.height-=n):r==="ne"?(a.y+=n,a.width-=n,a.height-=n):r==="sw"?(a.x-=n,a.width+=n,a.height+=n):r==="s"?a.height+=n:r==="se"&&(a.width+=n,a.height+=n)),a}const Uo={capture:!0,passive:!1};let hR=0;const Ds=class Mi extends ge.PureComponent{constructor(){super(...arguments),Re(this,"docMoveBound",!1),Re(this,"mouseDownOnCrop",!1),Re(this,"dragStarted",!1),Re(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Re(this,"componentRef",ge.createRef()),Re(this,"mediaRef",ge.createRef()),Re(this,"resizeObserver"),Re(this,"initChangeCalled",!1),Re(this,"instanceId",`rc-${hR++}`),Re(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Re(this,"onCropPointerDown",t=>{const{crop:n,disabled:r}=this.props,a=this.getBox();if(!n)return;const l=Rs(n,a.width,a.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.target.dataset.ord,d=!!c;let m=t.clientX,p=t.clientY,y=l.x,v=l.y;if(c){const w=t.clientX-a.x,S=t.clientY-a.y;let V=0,z=0;c==="ne"||c=="e"?(V=w-(l.x+l.width),z=S-l.y,y=l.x,v=l.y+l.height):c==="se"||c==="s"?(V=w-(l.x+l.width),z=S-(l.y+l.height),y=l.x,v=l.y):c==="sw"||c=="w"?(V=w-l.x,z=S-(l.y+l.height),y=l.x+l.width,v=l.y):(c==="nw"||c=="n")&&(V=w-l.x,z=S-l.y,y=l.x+l.width,v=l.y+l.height),m=y+a.x+V,p=v+a.y+z}this.evData={startClientX:m,startClientY:p,startCropX:y,startCropY:v,clientX:t.clientX,clientY:t.clientY,isResize:d,ord:c},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Re(this,"onComponentPointerDown",t=>{const{crop:n,disabled:r,locked:a,keepSelection:l,onChange:c}=this.props,d=this.getBox();if(r||a||l&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=t.clientX-d.x,p=t.clientY-d.y,y={unit:"px",x:m,y:p,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:m,startCropY:p,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,c(Rs(y,d.width,d.height),Lo(y,d.width,d.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Re(this,"onDocPointerMove",t=>{const{crop:n,disabled:r,onChange:a,onDragStart:l}=this.props,c=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,l&&l(t));const{evData:d}=this;d.clientX=t.clientX,d.clientY=t.clientY;let m;d.isResize?m=this.resizeCrop():m=this.dragCrop(),cT(n,m)||a(Rs(m,c.width,c.height),Lo(m,c.width,c.height))}),Re(this,"onComponentKeyDown",t=>{const{crop:n,disabled:r,onChange:a,onComplete:l}=this.props;if(r)return;const c=t.key;let d=!1;if(!n)return;const m=this.getBox(),p=this.makePixelCrop(m),y=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Mi.nudgeStepLarge:t.shiftKey?Mi.nudgeStepMedium:Mi.nudgeStep;if(c==="ArrowLeft"?(p.x-=y,d=!0):c==="ArrowRight"?(p.x+=y,d=!0):c==="ArrowUp"?(p.y-=y,d=!0):c==="ArrowDown"&&(p.y+=y,d=!0),d){t.cancelable&&t.preventDefault(),p.x=Vo(p.x,0,m.width-p.width),p.y=Vo(p.y,0,m.height-p.height);const v=Rs(p,m.width,m.height),w=Lo(p,m.width,m.height);a(v,w),l&&l(v,w)}}),Re(this,"onHandlerKeyDown",(t,n)=>{const{aspect:r=0,crop:a,disabled:l,minWidth:c=0,minHeight:d=0,maxWidth:m,maxHeight:p,onChange:y,onComplete:v}=this.props,w=this.getBox();if(l||!a)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const S=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Mi.nudgeStepLarge:t.shiftKey?Mi.nudgeStepMedium:Mi.nudgeStep,V=Rs(a,w.width,w.height),z=cR(V,t.key,S,n),j=hT(z,r,n,w.width,w.height,c,d,m,p);if(!cT(a,j)){const F=Lo(j,w.width,w.height);y(j,F),v&&v(j,F)}}),Re(this,"onDocPointerDone",t=>{const{crop:n,disabled:r,onComplete:a,onDragEnd:l}=this.props,c=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,l&&l(t),a&&a(Rs(n,c.width,c.height),Lo(n,c.width,c.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Re(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:a,height:l}=t.getBoundingClientRect();return{x:n,y:r,width:a,height:l}}componentDidUpdate(t){const{crop:n,onComplete:r}=this.props;if(r&&!t.crop&&n){const{width:a,height:l}=this.getBox();a&&l&&r(Rs(n,a,l),Lo(n,a,l))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Uo),this.document.addEventListener("pointerup",this.onDocPointerDone,Uo),this.document.addEventListener("pointercancel",this.onDocPointerDone,Uo),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Uo),this.document.removeEventListener("pointerup",this.onDocPointerDone,Uo),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Uo),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),r=this.makePixelCrop(n),a=t.clientX-t.startClientX,l=t.clientY-t.startClientY;return r.x=Vo(t.startCropX+a,0,n.width-r.width),r.y=Vo(t.startCropY+l,0,n.height-r.height),r}getPointRegion(t,n,r,a){const{evData:l}=this,c=l.clientX-t.x,d=l.clientY-t.y;let m;a&&n?m=n==="nw"||n==="n"||n==="ne":m=d<l.startCropY;let p;return r&&n?p=n==="nw"||n==="w"||n==="sw":p=c<l.startCropX,p?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(t,n,r=0,a=0){const l=Math.min(r,t.width),c=Math.min(a,t.height);return!n||!l&&!c?[l,c]:n>1?l?[l,l/n]:[c*n,c]:c?[c*n,c]:[l,l/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:a}=this.props,l=this.getBox(),[c,d]=this.resolveMinDimensions(l,n,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(l);const p=this.getPointRegion(l,t.ord,c,d),y=t.ord||p;let v=t.clientX-t.startClientX,w=t.clientY-t.startClientY;(c&&y==="nw"||y==="w"||y==="sw")&&(v=Math.min(v,-c)),(d&&y==="nw"||y==="n"||y==="ne")&&(w=Math.min(w,-d));const S={unit:"px",x:0,y:0,width:0,height:0};p==="ne"?(S.x=t.startCropX,S.width=v,n?(S.height=S.width/n,S.y=t.startCropY-S.height):(S.height=Math.abs(w),S.y=t.startCropY-S.height)):p==="se"?(S.x=t.startCropX,S.y=t.startCropY,S.width=v,n?S.height=S.width/n:S.height=w):p==="sw"?(S.x=t.startCropX+v,S.y=t.startCropY,S.width=Math.abs(v),n?S.height=S.width/n:S.height=w):p==="nw"&&(S.x=t.startCropX+v,S.width=Math.abs(v),n?(S.height=S.width/n,S.y=t.startCropY-S.height):(S.height=Math.abs(w),S.y=t.startCropY+w));const V=hT(S,n,p,l.width,l.height,c,d,r,a);return n||Mi.xyOrds.indexOf(y)>-1?m=V:Mi.xOrds.indexOf(y)>-1?(m.x=V.x,m.width=V.width):Mi.yOrds.indexOf(y)>-1&&(m.y=V.y,m.height=V.height),m.x=Vo(m.x,0,l.width-m.width),m.y=Vo(m.y,0,l.height-m.height),m}renderCropSelection(){const{ariaLabels:t=Mi.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:a,ruleOfThirds:l,crop:c}=this.props,d=this.getCropStyle();if(c)return pe.createElement("div",{style:d,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&pe.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},pe.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),pe.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),pe.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),pe.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),pe.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),a&&pe.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},a(this.state)),l&&pe.createElement(pe.Fragment,null,pe.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),pe.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...cf,...this.props.crop||{}};return Rs(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:r,className:a,crop:l,disabled:c,locked:d,style:m,ruleOfThirds:p}=this.props,{cropIsActive:y,newCropIsBeingDrawn:v}=this.state,w=l?this.renderCropSelection():null,S=uR("ReactCrop",a,y&&"ReactCrop--active",c&&"ReactCrop--disabled",d&&"ReactCrop--locked",v&&"ReactCrop--new-crop",l&&t&&"ReactCrop--fixed-aspect",l&&r&&"ReactCrop--circular-crop",l&&p&&"ReactCrop--rule-of-thirds",!this.dragStarted&&l&&!l.width&&!l.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return pe.createElement("div",{ref:this.componentRef,className:S,style:m},pe.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),l?pe.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},pe.createElement("defs",null,pe.createElement("mask",{id:`hole-${this.instanceId}`},pe.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?pe.createElement("ellipse",{cx:`${l.x+l.width/2}${l.unit}`,cy:`${l.y+l.height/2}${l.unit}`,rx:`${l.width/2}${l.unit}`,ry:`${l.height/2}${l.unit}`,fill:"black"}):pe.createElement("rect",{x:`${l.x}${l.unit}`,y:`${l.y}${l.unit}`,width:`${l.width}${l.unit}`,height:`${l.height}${l.unit}`,fill:"black"}))),pe.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,w)}};Re(Ds,"xOrds",["e","w"]),Re(Ds,"yOrds",["n","s"]),Re(Ds,"xyOrds",["nw","ne","se","sw"]),Re(Ds,"nudgeStep",1),Re(Ds,"nudgeStepMedium",10),Re(Ds,"nudgeStepLarge",100),Re(Ds,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let fR=Ds;const dR=()=>{};var fT={};const Xw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},pR=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,S=p&63;m||(S=64,c||(w=64)),r.push(n[y],n[v],n[w],n[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||v==null)throw new mR;const w=l<<2|d>>4;if(r.push(w),p!==64){const S=d<<4&240|p>>2;if(r.push(S),v!==64){const V=p<<6&192|v;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gR=function(e){const t=Xw(e);return $w.encodeByteArray(t,!0)},hf=function(e){return gR(e).replace(/\./g,"")},Ww=function(e){try{return $w.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _R=()=>yR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof fT>"u")return;const e=fT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ER=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ww(e[1]);return t&&JSON.parse(t)},Nf=()=>{try{return dR()||_R()||vR()||ER()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Jw=e=>Nf()?.emulatorHosts?.[e],Zw=e=>{const t=Jw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tS=()=>Nf()?.config,eS=e=>Nf()?.[`_${e}`];class TR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Ws(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vg(e){return(await fetch(e,{credentials:"include"})).ok}function nS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[hf(JSON.stringify(n)),hf(JSON.stringify(c)),""].join(".")}const Cu={};function wR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Cu))Cu[t]?e.emulator.push(t):e.prod.push(t);return e}function SR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let dT=!1;function Eg(e,t){if(typeof window>"u"||typeof document>"u"||!Ws(window.location.host)||Cu[e]===t||Cu[e]||dT)return;Cu[e]=t;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=wR().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{dT=!0,c()},w}function y(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=SR(r),S=n("text"),V=document.getElementById(S)||document.createElement("span"),z=n("learnmore"),j=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),st=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;d(W),y(j,z);const dt=p();m(st,F),W.append(st,V,j,dt),document.body.appendChild(W)}l?(V.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function AR(){const e=Nf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const e=Cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function DR(){return!AR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OR(){try{return typeof indexedDB=="object"}catch{return!1}}function NR(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const kR="FirebaseError";class Er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=kR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?MR(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Er(a,d,r)}}function MR(e,t){return e.replace(PR,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const PR=/\{\$([^}]+)}/g;function VR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(pT(l)&&pT(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function pT(e){return e!==null&&typeof e=="object"}function Ju(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Eu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Tu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function LR(e,t){const n=new UR(e,t);return n.subscribe.bind(n)}class UR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zR(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=am),a.error===void 0&&(a.error=am),a.complete===void 0&&(a.complete=am);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function am(){}function ke(e){return e&&e._delegate?e._delegate:e}class qs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Oa="[DEFAULT]";class BR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new TR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HR(t))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=Oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Oa){return this.instances.has(t)}getOptions(t=Oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Oa){return this.component?this.component.multipleInstances?t:Oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jR(e){return e===Oa?void 0:e}function HR(e){return e.instantiationMode==="EAGER"}class FR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Yt||(Yt={}));const qR={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},GR=Yt.INFO,YR={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},KR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=YR[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tg{constructor(t){this.name=t,this._logLevel=GR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const QR=(e,t)=>t.some(n=>e instanceof n);let mT,gT;function XR(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return gT||(gT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,km=new WeakMap,rS=new WeakMap,om=new WeakMap,wg=new WeakMap;function WR(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(zs(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&iS.set(n,e)}).catch(()=>{}),wg.set(t,e),t}function JR(e){if(km.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});km.set(e,t)}let Mm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return km.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZR(e){Mm=e(Mm)}function tI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(lm(this),t,...n);return rS.set(r,t.sort?t.sort():[t]),zs(r)}:$R().includes(e)?function(...t){return e.apply(lm(this),t),zs(iS.get(this))}:function(...t){return zs(e.apply(lm(this),t))}}function eI(e){return typeof e=="function"?tI(e):(e instanceof IDBTransaction&&JR(e),QR(e,XR())?new Proxy(e,Mm):e)}function zs(e){if(e instanceof IDBRequest)return WR(e);if(om.has(e))return om.get(e);const t=eI(e);return t!==e&&(om.set(e,t),wg.set(t,e)),t}const lm=e=>wg.get(e);function nI(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=zs(c);return r&&c.addEventListener("upgradeneeded",m=>{r(zs(c.result),m.oldVersion,m.newVersion,zs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const iI=["get","getKey","getAll","getAllKeys","count"],rI=["put","add","delete","clear"],um=new Map;function yT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(um.get(t))return um.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=rI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||iI.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return um.set(t,l),l}ZR(e=>({...e,get:(t,n,r)=>yT(t,n)||e.get(t,n,r),has:(t,n)=>!!yT(t,n)||e.has(t,n)}));class sI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aI(e){return e.getComponent()?.type==="VERSION"}const Pm="@firebase/app",_T="0.14.6";const Gr=new Tg("@firebase/app"),oI="@firebase/app-compat",lI="@firebase/analytics-compat",uI="@firebase/analytics",cI="@firebase/app-check-compat",hI="@firebase/app-check",fI="@firebase/auth",dI="@firebase/auth-compat",pI="@firebase/database",mI="@firebase/data-connect",gI="@firebase/database-compat",yI="@firebase/functions",_I="@firebase/functions-compat",vI="@firebase/installations",EI="@firebase/installations-compat",TI="@firebase/messaging",wI="@firebase/messaging-compat",SI="@firebase/performance",bI="@firebase/performance-compat",AI="@firebase/remote-config",CI="@firebase/remote-config-compat",RI="@firebase/storage",II="@firebase/storage-compat",xI="@firebase/firestore",DI="@firebase/ai",OI="@firebase/firestore-compat",NI="firebase",kI="12.6.0";const Vm="[DEFAULT]",MI={[Pm]:"fire-core",[oI]:"fire-core-compat",[uI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[cI]:"fire-app-check-compat",[fI]:"fire-auth",[dI]:"fire-auth-compat",[pI]:"fire-rtdb",[mI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[yI]:"fire-fn",[_I]:"fire-fn-compat",[vI]:"fire-iid",[EI]:"fire-iid-compat",[TI]:"fire-fcm",[wI]:"fire-fcm-compat",[SI]:"fire-perf",[bI]:"fire-perf-compat",[AI]:"fire-rc",[CI]:"fire-rc-compat",[RI]:"fire-gcs",[II]:"fire-gcs-compat",[xI]:"fire-fst",[OI]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[NI]:"fire-js-all"};const ff=new Map,PI=new Map,Lm=new Map;function vT(e,t){try{e.container.addComponent(t)}catch(n){Gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Va(e){const t=e.name;if(Lm.has(t))return Gr.debug(`There were multiple attempts to register component ${t}.`),!1;Lm.set(t,e);for(const n of ff.values())vT(n,e);for(const n of PI.values())vT(n,e);return!0}function kf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ii(e){return e==null?!1:e.settings!==void 0}const VI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Wu("app","Firebase",VI);class LI{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}const Fa=kI;function sS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Vm,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(n||(n=tS()),!n)throw Bs.create("no-options");const l=ff.get(a);if(l){if(Pa(n,l.options)&&Pa(r,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const c=new FR(a);for(const m of Lm.values())c.addComponent(m);const d=new LI(n,r,c);return ff.set(a,d),d}function Sg(e=Vm){const t=ff.get(e);if(!t&&e===Vm&&tS())return sS();if(!t)throw Bs.create("no-app",{appName:e});return t}function hr(e,t,n){let r=MI[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gr.warn(c.join(" "));return}Va(new qs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const UI="firebase-heartbeat-database",zI=1,Uu="firebase-heartbeat-store";let cm=null;function aS(){return cm||(cm=nI(UI,zI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Bs.create("idb-open",{originalErrorMessage:e.message})})),cm}async function BI(e){try{const n=(await aS()).transaction(Uu),r=await n.objectStore(Uu).get(oS(e));return await n.done,r}catch(t){if(t instanceof Er)Gr.warn(t.message);else{const n=Bs.create("idb-get",{originalErrorMessage:t?.message});Gr.warn(n.message)}}}async function ET(e,t){try{const r=(await aS()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(t,oS(e)),await r.done}catch(n){if(n instanceof Er)Gr.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(r.message)}}}function oS(e){return`${e.name}!${e.options.appId}`}const jI=1024,HI=30;class FI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HI){const a=YI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TT(),{heartbeatsToSend:n,unsentEntries:r}=qI(this._heartbeatsCache.heartbeats),a=hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Gr.warn(t),""}}}function TT(){return new Date().toISOString().substring(0,10)}function qI(e,t=jI){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),wT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OR()?NR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ET(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ET(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function wT(e){return hf(JSON.stringify({version:2,heartbeats:e})).length}function YI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function KI(e){Va(new qs("platform-logger",t=>new sI(t),"PRIVATE")),Va(new qs("heartbeat",t=>new FI(t),"PRIVATE")),hr(Pm,_T,e),hr(Pm,_T,"esm2020"),hr("fire-js","")}KI("");const lS="firebasestorage.googleapis.com",uS="storageBucket",QI=120*1e3,XI=600*1e3;class Pe extends Er{constructor(t,n,r=0){super(hm(t),`Firebase Storage: ${n} (${hm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return hm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function hm(e){return"storage/"+e}function bg(){const e="An unknown error occurred, please check the error payload for server response.";return new Pe(Me.UNKNOWN,e)}function $I(e){return new Pe(Me.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function WI(e){return new Pe(Me.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JI(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pe(Me.UNAUTHENTICATED,e)}function ZI(){return new Pe(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tx(e){return new Pe(Me.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function ex(){return new Pe(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nx(){return new Pe(Me.CANCELED,"User canceled the upload/download.")}function ix(e){return new Pe(Me.INVALID_URL,"Invalid URL '"+e+"'.")}function rx(e){return new Pe(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function sx(){return new Pe(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uS+"' property when initializing the app?")}function ax(){return new Pe(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ox(){return new Pe(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lx(e){return new Pe(Me.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Um(e){return new Pe(Me.INVALID_ARGUMENT,e)}function cS(){return new Pe(Me.APP_DELETED,"The Firebase app was deleted.")}function ux(e){return new Pe(Me.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ru(e,t){return new Pe(Me.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function pu(e){throw new Pe(Me.INTERNAL_ERROR,"Internal error: "+e)}class ri{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ri.makeFromUrl(t,n)}catch{return new ri(t,"")}if(r.path==="")return r;throw rx(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(dt){dt.path.charAt(dt.path.length-1)==="/"&&(dt.path_=dt.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(dt){dt.path_=decodeURIComponent(dt.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${y}/b/${a}/o${w}`,"i"),V={bucket:1,path:3},z=n===lS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",F=new RegExp(`^https?://${z}/${a}/${j}`,"i"),W=[{regex:d,indices:m,postModify:l},{regex:S,indices:V,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let dt=0;dt<W.length;dt++){const Et=W[dt],$=Et.regex.exec(t);if($){const O=$[Et.indices.bucket];let R=$[Et.indices.path];R||(R=""),r=new ri(O,R),Et.postModify(r);break}}if(r==null)throw ix(t);return r}}class cx{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function hx(e,t,n){let r=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...j){p||(p=!0,t.apply(null,j))}function v(j){a=setTimeout(()=>{a=null,e(S,m())},j)}function w(){l&&clearTimeout(l)}function S(j,...F){if(p){w();return}if(j){w(),y.call(null,j,...F);return}if(m()||c){w(),y.call(null,j,...F);return}r<64&&(r*=2);let W;d===1?(d=2,W=0):W=(r+Math.random())*1e3,v(W)}let V=!1;function z(j){V||(V=!0,w(),!p&&(a!==null?(j||(d=2),clearTimeout(a),v(0)):j||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,z(!0)},n),z}function fx(e){e(!1)}function dx(e){return e!==void 0}function px(e){return typeof e=="object"&&!Array.isArray(e)}function Ag(e){return typeof e=="string"||e instanceof String}function ST(e){return Cg()&&e instanceof Blob}function Cg(){return typeof Blob<"u"}function bT(e,t,n,r){if(r<t)throw Um(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Um(`Invalid value for '${e}'. Expected ${n} or less.`)}function Rg(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function hS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var ka;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ka||(ka={}));function mx(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}class gx{constructor(t,n,r,a,l,c,d,m,p,y,v,w=!0,S=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,z)=>{this.resolve_=V,this.reject_=z,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new Uh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===ka.NO_ERROR,m=l.getStatus();if(!d||mx(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===ka.ABORT;r(!1,new Uh(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new Uh(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());dx(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=bg();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?cS():nx();c(m)}else{const m=ex();c(m)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=hx(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&fx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function yx(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function _x(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function vx(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ex(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Tx(e,t,n,r,a,l,c=!0,d=!1){const m=hS(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return vx(y,t),yx(y,n),_x(y,l),Ex(y,r),new gx(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,d)}function wx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Sx(...e){const t=wx();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Cg())return new Blob(e);throw new Pe(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bx(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function Ax(e){if(typeof atob>"u")throw lx("base-64");return atob(e)}const cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fm{constructor(t,n){this.data=t,this.contentType=n||null}}function Cx(e,t){switch(e){case cr.RAW:return new fm(fS(t));case cr.BASE64:case cr.BASE64URL:return new fm(dS(e,t));case cr.DATA_URL:return new fm(Ix(t),xx(t))}throw bg()}function fS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=r,c=e.charCodeAt(++n);r=65536|(l&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Rx(e){let t;try{t=decodeURIComponent(e)}catch{throw Ru(cr.DATA_URL,"Malformed data URL.")}return fS(t)}function dS(e,t){switch(e){case cr.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw Ru(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case cr.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw Ru(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ax(t)}catch(a){throw a.message.includes("polyfill")?a:Ru(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class pS{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ru(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Dx(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Ix(e){const t=new pS(e);return t.base64?dS(cr.BASE64,t.rest):Rx(t.rest)}function xx(e){return new pS(e).contentType}function Dx(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Ns{constructor(t,n){let r=0,a="";ST(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(ST(this.data_)){const r=this.data_,a=bx(r,t,n);return a===null?null:new Ns(a)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ns(r,!0)}}static getBlob(...t){if(Cg()){const n=t.map(r=>r instanceof Ns?r.data_:r);return new Ns(Sx.apply(null,n))}else{const n=t.map(c=>Ag(c)?Cx(cr.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Ns(a,!0)}}uploadData(){return this.data_}}function mS(e){let t;try{t=JSON.parse(e)}catch{return null}return px(t)?t:null}function Ox(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Nx(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function gS(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function kx(e,t){return t}class Nn{constructor(t,n,r,a){this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||kx}}let zh=null;function Mx(e){return!Ag(e)||e.length<2?e:gS(e)}function yS(){if(zh)return zh;const e=[];e.push(new Nn("bucket")),e.push(new Nn("generation")),e.push(new Nn("metageneration")),e.push(new Nn("name","fullPath",!0));function t(l,c){return Mx(c)}const n=new Nn("name");n.xform=t,e.push(n);function r(l,c){return c!==void 0?Number(c):c}const a=new Nn("size");return a.xform=r,e.push(a),e.push(new Nn("timeCreated")),e.push(new Nn("updated")),e.push(new Nn("md5Hash",null,!0)),e.push(new Nn("cacheControl",null,!0)),e.push(new Nn("contentDisposition",null,!0)),e.push(new Nn("contentEncoding",null,!0)),e.push(new Nn("contentLanguage",null,!0)),e.push(new Nn("contentType",null,!0)),e.push(new Nn("metadata","customMetadata",!0)),zh=e,zh}function Px(e,t){function n(){const r=e.bucket,a=e.fullPath,l=new ri(r,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function Vx(e,t,n){const r={};r.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];r[c.local]=c.xform(r,t[c.server])}return Px(r,e),r}function _S(e,t,n){const r=mS(t);return r===null?null:Vx(e,r,n)}function Lx(e,t,n,r){const a=mS(t);if(a===null||!Ag(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=e.bucket,v=e.fullPath,w="/b/"+c(y)+"/o/"+c(v),S=Rg(w,n,r),V=hS({alt:"media",token:p});return S+V})[0]}function Ux(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class vS{constructor(t,n,r,a){this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ES(e){if(!e)throw bg()}function zx(e,t){function n(r,a){const l=_S(e,a,t);return ES(l!==null),l}return n}function Bx(e,t){function n(r,a){const l=_S(e,a,t);return ES(l!==null),Lx(l,a,e.host,e._protocol)}return n}function TS(e){function t(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=ZI():a=JI():n.getStatus()===402?a=WI(e.bucket):n.getStatus()===403?a=tx(e.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return t}function jx(e){const t=TS(e);function n(r,a){let l=t(r,a);return r.getStatus()===404&&(l=$I(e.path)),l.serverResponse=a.serverResponse,l}return n}function Hx(e,t,n){const r=t.fullServerUrl(),a=Rg(r,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,d=new vS(a,l,Bx(e,n),c);return d.errorHandler=jx(t),d}function Fx(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function qx(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Fx(null,t)),r}function Gx(e,t,n,r,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let W="";for(let dt=0;dt<2;dt++)W=W+Math.random().toString().slice(2);return W}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const p=qx(t,r,a),y=Ux(p,n),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=Ns.getBlob(v,r,w);if(S===null)throw ax();const V={name:p.fullPath},z=Rg(l,e.host,e._protocol),j="POST",F=e.maxUploadRetryTime,st=new vS(z,j,zx(e,n),F);return st.urlParams=V,st.headers=c,st.body=S.uploadData(),st.errorHandler=TS(t),st}class Yx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,a,l){if(this.sent_)throw pu("cannot .send() more than once");if(Ws(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Kx extends Yx{initXhr(){this.xhr_.responseType="text"}}function wS(){return new Kx}class La{constructor(t,n){this._service=t,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new La(t,n)}get root(){const t=new ri(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gS(this._location.path)}get storage(){return this._service}get parent(){const t=Ox(this._location.path);if(t===null)return null;const n=new ri(this._location.bucket,t);return new La(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw ux(t)}}function Qx(e,t,n){e._throwIfRoot("uploadBytes");const r=Gx(e.storage,e._location,yS(),new Ns(t,!0),n);return e.storage.makeRequestWithTokens(r,wS).then(a=>({metadata:a,ref:e}))}function Xx(e){e._throwIfRoot("getDownloadURL");const t=Hx(e.storage,e._location,yS());return e.storage.makeRequestWithTokens(t,wS).then(n=>{if(n===null)throw ox();return n})}function $x(e,t){const n=Nx(e._location.path,t),r=new ri(e._location.bucket,n);return new La(e.storage,r)}function Wx(e){return/^[A-Za-z]+:\/\//.test(e)}function Jx(e,t){return new La(e,t)}function SS(e,t){if(e instanceof Ig){const n=e;if(n._bucket==null)throw sx();const r=new La(n,n._bucket);return t!=null?SS(r,t):r}else return t!==void 0?$x(e,t):e}function Zx(e,t){if(t&&Wx(t)){if(e instanceof Ig)return Jx(e,t);throw Um("To use ref(service, url), the first argument must be a Storage instance.")}else return SS(e,t)}function AT(e,t){const n=t?.[uS];return n==null?null:ri.makeFromBucketSpec(n,e)}function tD(e,t,n,r={}){e.host=`${t}:${n}`;const a=Ws(t);a&&(vg(`https://${e.host}/b`),Eg("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(e._overrideAuthToken=typeof l=="string"?l:nS(l,e.app.options.projectId))}class Ig{constructor(t,n,r,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=lS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QI,this._maxUploadRetryTime=XI,this._requests=new Set,a!=null?this._bucket=ri.makeFromBucketSpec(a,this._host):this._bucket=AT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,t):this._bucket=AT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new La(this,t)}_makeRequest(t,n,r,a,l=!0){if(this._deleted)return new cx(cS());{const c=Tx(t,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const CT="@firebase/storage",RT="0.14.0";const bS="storage";function eD(e,t,n){return e=ke(e),Qx(e,t,n)}function nD(e){return e=ke(e),Xx(e)}function iD(e,t){return e=ke(e),Zx(e,t)}function rD(e=Sg(),t){e=ke(e);const r=kf(e,bS).getImmediate({identifier:t}),a=Zw("storage");return a&&sD(r,...a),r}function sD(e,t,n,r={}){tD(e,t,n,r)}function aD(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ig(n,r,a,t,Fa)}function oD(){Va(new qs(bS,aD,"PUBLIC").setMultipleInstances(!0)),hr(CT,RT,""),hr(CT,RT,"esm2020")}oD();var IT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var js,AS;(function(){var e;function t(O,R){function x(){}x.prototype=R.prototype,O.F=R.prototype,O.prototype=new x,O.prototype.constructor=O,O.D=function(P,D,k){for(var I=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)I[ft-2]=arguments[ft];return R.prototype[D].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,R,x){x||(x=0);const P=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)P[D]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(D=0;D<16;++D)P[D]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=O.g[0],x=O.g[1],D=O.g[2];let k=O.g[3],I;I=R+(k^x&(D^k))+P[0]+3614090360&4294967295,R=x+(I<<7&4294967295|I>>>25),I=k+(D^R&(x^D))+P[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(x^k&(R^x))+P[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(R^D&(k^R))+P[3]+3250441966&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(k^x&(D^k))+P[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=k+(D^R&(x^D))+P[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(x^k&(R^x))+P[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(R^D&(k^R))+P[7]+4249261313&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(k^x&(D^k))+P[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=k+(D^R&(x^D))+P[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(x^k&(R^x))+P[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(R^D&(k^R))+P[11]+2304563134&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(k^x&(D^k))+P[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=k+(D^R&(x^D))+P[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(x^k&(R^x))+P[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=x+(R^D&(k^R))+P[15]+1236535329&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(D^k&(x^D))+P[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(R^x))+P[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(k^R))+P[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^R&(D^k))+P[0]+3921069994&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(D^k&(x^D))+P[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(R^x))+P[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(k^R))+P[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^R&(D^k))+P[4]+3889429448&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(D^k&(x^D))+P[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(R^x))+P[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(k^R))+P[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^R&(D^k))+P[8]+1163531501&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(D^k&(x^D))+P[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=k+(x^D&(R^x))+P[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(k^R))+P[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=x+(k^R&(D^k))+P[12]+2368359562&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(x^D^k)+P[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=k+(R^x^D)+P[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^x)+P[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^R)+P[14]+4259657740&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(x^D^k)+P[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=k+(R^x^D)+P[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^x)+P[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^R)+P[10]+3200236656&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(x^D^k)+P[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=k+(R^x^D)+P[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^x)+P[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^R)+P[6]+76029189&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(x^D^k)+P[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=k+(R^x^D)+P[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^x)+P[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=x+(D^k^R)+P[2]+3299628645&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(D^(x|~k))+P[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=k+(x^(R|~D))+P[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~x))+P[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~R))+P[5]+4237533241&4294967295,x=D+(I<<21&4294967295|I>>>11),I=R+(D^(x|~k))+P[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=k+(x^(R|~D))+P[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~x))+P[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~R))+P[1]+2240044497&4294967295,x=D+(I<<21&4294967295|I>>>11),I=R+(D^(x|~k))+P[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=k+(x^(R|~D))+P[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~x))+P[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~R))+P[13]+1309151649&4294967295,x=D+(I<<21&4294967295|I>>>11),I=R+(D^(x|~k))+P[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=k+(x^(R|~D))+P[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~x))+P[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=x+(k^(D|~R))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+k&4294967295}r.prototype.v=function(O,R){R===void 0&&(R=O.length);const x=R-this.blockSize,P=this.C;let D=this.h,k=0;for(;k<R;){if(D==0)for(;k<=x;)a(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<R;)if(P[D++]=O.charCodeAt(k++),D==this.blockSize){a(this,P),D=0;break}}else for(;k<R;)if(P[D++]=O[k++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var x=O.length-8;x<O.length;++x)O[x]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,x=0;x<4;++x)for(let P=0;P<32;P+=8)O[R++]=this.g[x]>>>P&255;return O};function l(O,R){var x=d;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=R(O)}function c(O,R){this.h=R;const x=[];let P=!0;for(let D=O.length-1;D>=0;D--){const k=O[D]|0;P&&k==R||(x[D]=k,P=!1)}this.g=x}var d={};function m(O){return-128<=O&&O<128?l(O,function(R){return new c([R|0],R<0?-1:0)}):new c([O|0],O<0?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return v;if(O<0)return j(p(-O));const R=[];let x=1;for(let P=0;O>=x;P++)R[P]=O/x|0,x*=4294967296;return new c(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return j(y(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(R,8));let P=v;for(let k=0;k<O.length;k+=8){var D=Math.min(8,O.length-k);const I=parseInt(O.substring(k,k+D),R);D<8?(D=p(Math.pow(R,D)),P=P.j(D).add(p(I))):(P=P.j(x),P=P.add(p(I)))}return P}var v=m(0),w=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(z(this))return-j(this).m();let O=0,R=1;for(let x=0;x<this.g.length;x++){const P=this.i(x);O+=(P>=0?P:4294967296+P)*R,R*=4294967296}return O},e.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(z(this))return"-"+j(this).toString(O);const R=p(Math.pow(O,6));var x=this;let P="";for(;;){const D=dt(x,R).g;x=F(x,D.j(R));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(O);if(x=D,V(x))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},e.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}e.l=function(O){return O=F(this,O),z(O)?-1:V(O)?0:1};function j(O){const R=O.g.length,x=[];for(let P=0;P<R;P++)x[P]=~O.g[P];return new c(x,~O.h).add(w)}e.abs=function(){return z(this)?j(this):this},e.add=function(O){const R=Math.max(this.g.length,O.g.length),x=[];let P=0;for(let D=0;D<=R;D++){let k=P+(this.i(D)&65535)+(O.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);P=I>>>16,k&=65535,I&=65535,x[D]=I<<16|k}return new c(x,x[x.length-1]&-2147483648?-1:0)};function F(O,R){return O.add(j(R))}e.j=function(O){if(V(this)||V(O))return v;if(z(this))return z(O)?j(this).j(j(O)):j(j(this).j(O));if(z(O))return j(this.j(j(O)));if(this.l(S)<0&&O.l(S)<0)return p(this.m()*O.m());const R=this.g.length+O.g.length,x=[];for(var P=0;P<2*R;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<O.g.length;D++){const k=this.i(P)>>>16,I=this.i(P)&65535,ft=O.i(D)>>>16,ot=O.i(D)&65535;x[2*P+2*D]+=I*ot,st(x,2*P+2*D),x[2*P+2*D+1]+=k*ot,st(x,2*P+2*D+1),x[2*P+2*D+1]+=I*ft,st(x,2*P+2*D+1),x[2*P+2*D+2]+=k*ft,st(x,2*P+2*D+2)}for(O=0;O<R;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=R;O<2*R;O++)x[O]=0;return new c(x,0)};function st(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function W(O,R){this.g=O,this.h=R}function dt(O,R){if(V(R))throw Error("division by zero");if(V(O))return new W(v,v);if(z(O))return R=dt(j(O),R),new W(j(R.g),j(R.h));if(z(R))return R=dt(O,j(R)),new W(j(R.g),R.h);if(O.g.length>30){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,P=R;P.l(O)<=0;)x=Et(x),P=Et(P);var D=$(x,1),k=$(P,1);for(P=$(P,2),x=$(x,2);!V(P);){var I=k.add(P);I.l(O)<=0&&(D=D.add(x),k=I),P=$(P,1),x=$(x,1)}return R=F(O,D.j(R)),new W(D,R)}for(D=v;O.l(R)>=0;){for(x=Math.max(1,Math.floor(O.m()/R.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=p(x),I=k.j(R);z(I)||I.l(O)>0;)x-=P,k=p(x),I=k.j(R);V(k)&&(k=w),D=D.add(k),O=F(O,I)}return new W(D,O)}e.B=function(O){return dt(this,O).h},e.and=function(O){const R=Math.max(this.g.length,O.g.length),x=[];for(let P=0;P<R;P++)x[P]=this.i(P)&O.i(P);return new c(x,this.h&O.h)},e.or=function(O){const R=Math.max(this.g.length,O.g.length),x=[];for(let P=0;P<R;P++)x[P]=this.i(P)|O.i(P);return new c(x,this.h|O.h)},e.xor=function(O){const R=Math.max(this.g.length,O.g.length),x=[];for(let P=0;P<R;P++)x[P]=this.i(P)^O.i(P);return new c(x,this.h^O.h)};function Et(O){const R=O.g.length+1,x=[];for(let P=0;P<R;P++)x[P]=O.i(P)<<1|O.i(P-1)>>>31;return new c(x,O.h)}function $(O,R){const x=R>>5;R%=32;const P=O.g.length-x,D=[];for(let k=0;k<P;k++)D[k]=R>0?O.i(k+x)>>>R|O.i(k+x+1)<<32-R:O.i(k+x);return new c(D,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,js=c}).apply(typeof IT<"u"?IT:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CS,wu,RS,$h,zm,IS,xS,DS;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,_){if(_)t:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in T))break t;T=T[H]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&t(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=m,p.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function v(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,H,Q){for(var ct=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ct[Lt-2]=arguments[Lt];return _.prototype[H].apply(A,ct)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function V(h,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const Q=H.length||0;h.length=T+Q;for(let ct=0;ct<Q;ct++)h[T+ct]=H[ct]}else h.push(H)}}class z{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(h){c.setTimeout(()=>{throw h},0)}function F(){var h=O;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class st{constructor(){this.h=this.g=null}add(_,T){const A=W.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new z(()=>new dt,h=>h.reset());class dt{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,$=!1,O=new st,R=()=>{const h=Promise.resolve(void 0);Et=()=>{h.then(x)}};function x(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){j(T)}var _=W;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}$=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function ft(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ft,D),ft.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),Y=0;function at(h,_,T,A,H){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=H,this.key=++Y,this.da=this.fa=!1}function yt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function kt(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function N(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function L(h){const _={};for(const T in h)_[T]=h[T];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,_){let T,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(T in A)h[T]=A[T];for(let Q=0;Q<J.length;Q++)T=J[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,_,T,A,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ct=Tt(h,_,A,H);return ct>-1?(_=h[ct],T||(_.fa=!1)):(_=new at(_,this.src,Q,!!A,H),_.fa=T,h.push(_)),_};function St(h,_){const T=_.type;if(T in h.g){var A=h.g[T],H=Array.prototype.indexOf.call(A,_,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(A,H,1),Q&&(yt(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Tt(h,_,T,A){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==_&&Q.capture==!!T&&Q.ha==A)return H}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),mt={};function bt(h,_,T,A,H){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)bt(h,_[Q],T,A,H);return null}return T=nn(T),h&&h[ot]?h.J(_,T,d(A)?!!A.capture:!1,H):ue(h,_,T,!1,A,H)}function ue(h,_,T,A,H,Q){if(!_)throw Error("Invalid event type");const ct=d(H)?!!H.capture:!!H;let Lt=Gn(h);if(Lt||(h[Vt]=Lt=new ht(h)),T=Lt.add(_,T,A,ct,Q),T.proxy)return T;if(A=Ee(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)k||(H=ct),H===void 0&&(H=!1),h.addEventListener(_.toString(),A,H);else if(h.attachEvent)h.attachEvent(Ie(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ee(){function h(T){return _.call(h.src,h.listener,T)}const _=xn;return h}function In(h,_,T,A,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)In(h,_[Q],T,A,H);else A=d(A)?!!A.capture:!!A,T=nn(T),h&&h[ot]?(h=h.i,Q=String(_).toString(),Q in h.g&&(_=h.g[Q],T=Tt(_,T,A,H),T>-1&&(yt(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Gn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Tt(_,T,A,H)),(T=h>-1?_[h]:null)&&_n(T))}function _n(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ot])St(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(Ie(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=Gn(_))?(St(T,h),T.h==0&&(T.src=null,_[Vt]=null)):yt(h)}}}function Ie(h){return h in mt?mt[h]:mt[h]="on"+h}function xn(h,_){if(h.da)h=!0;else{_=new ft(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&_n(h),h=T.call(A,_)}return h}function Gn(h){return h=h[Vt],h instanceof ht?h:null}var Yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function nn(h){return typeof h=="function"?h:(h[Yn]||(h[Yn]=function(_){return h.handleEvent(_)}),h[Yn])}function Te(){P.call(this),this.i=new ht(this),this.M=this,this.G=null}v(Te,P),Te.prototype[ot]=!0,Te.prototype.removeEventListener=function(h,_,T,A){In(this,h,_,T,A)};function se(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var H=_;_=new D(A,h),C(_,H)}H=!0;let Q,ct;if(T)for(ct=T.length-1;ct>=0;ct--)Q=_.g=T[ct],H=zi(Q,A,!0,_)&&H;if(Q=_.g=h,H=zi(Q,A,!0,_)&&H,H=zi(Q,A,!1,_)&&H,T)for(ct=0;ct<T.length;ct++)Q=_.g=T[ct],H=zi(Q,A,!1,_)&&H}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)yt(T[A]);delete h.g[_],h.h--}}this.G=null},Te.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},Te.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function zi(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let Q=0;Q<_.length;++Q){const ct=_[Q];if(ct&&!ct.da&&ct.capture==T){const Lt=ct.listener,Le=ct.ha||ct.src;ct.fa&&St(h.i,ct),H=Lt.call(Le,A)!==!1&&H}}return H&&!A.defaultPrevented}function fl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Qa(h){h.g=fl(()=>{h.g=null,h.i&&(h.i=!1,Qa(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class un extends P{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(h){P.call(this),this.h=h,this.g={}}v(Tr,P);var tt=[];function ut(h){kt(h.g,function(_,T){this.g.hasOwnProperty(T)&&_n(_)},h),h.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),ut(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=c.JSON.stringify,jt=c.JSON.parse,Jt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function vn(){}function oi(){}var Ve={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){D.call(this,"d")}v(xe,D);function rn(){D.call(this,"c")}v(rn,D);var Xt={},wi=null;function En(){return wi=wi||new Te}Xt.Ia="serverreachability";function pc(h){D.call(this,Xt.Ia,h)}v(pc,D);function Bi(h){const _=En();se(_,new pc(_))}Xt.STAT_EVENT="statevent";function ia(h,_){D.call(this,Xt.STAT_EVENT,h),this.stat=_}v(ia,D);function He(h){const _=En();se(_,new ia(_,h))}Xt.Ja="timingevent";function ji(h,_){D.call(this,Xt.Ja,h),this.size=_}v(ji,D);function Hi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function rd(h,_,T,A,H,Q){h.info(function(){if(h.g)if(Q){var ct="",Lt=Q.split("&");for(let ee=0;ee<Lt.length;ee++){var Le=Lt[ee].split("=");if(Le.length>1){const Ae=Le[0];Le=Le[1];const hi=Ae.split("_");ct=hi.length>=2&&hi[1]=="type"?ct+(Ae+"="+Le+"&"):ct+(Ae+"=redacted&")}}}else ct=null;else ct=Q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+T+`
`+ct})}function mc(h,_,T,A,H,Q,ct){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+T+`
`+Q+" "+ct})}function Fi(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+sd(h,T)+(A?" "+A:"")})}function ra(h,_){h.info(function(){return"TIMEOUT: "+_})}Si.prototype.info=function(){};function sd(h,_){if(!h.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ct=1;ct<A.length;ct++)A[ct]=""}}}}return Rt(Q)}catch{return _}}var sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function aa(){}v(aa,vn),aa.prototype.g=function(){return new XMLHttpRequest},pl=new aa;function wr(h){return encodeURIComponent(String(h))}function gc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function bi(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var Fe={},sn={};function qi(h,_,T){h.M=1,h.A=oa(Ge(_)),h.u=T,h.R=!0,Xa(h,null)}function Xa(h,_){h.F=Date.now(),Gi(h),h.B=Ge(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Za(T.i,"t",A),h.C=0,T=h.j.L,h.h=new Ai,h.g=Oc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new un(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(tt[0]=H.toString()),H=tt);for(let Q=0;Q<H.length;Q++){const ct=bt(T,H[Q],A||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Bi(),rd(h.i,h.v,h.B,h.l,h.S,h.u)}bi.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ii(h)==3?_.j():this.Y(h)},bi.prototype.Y=function(h){try{if(h==this.g)t:{const Lt=Ii(this.g),Le=this.g.ya(),ee=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Lt!=4||Le==7||(Le==8||ee<=0?Bi(3):Bi(2)),Yi(this);var _=this.g.ca();this.X=_;var T=ad(this);if(this.o=_==200,mc(this.i,this.v,this.B,this.l,this.S,Lt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break e}}Q=null}if(h=Q)Fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,h);else{this.o=!1,this.m=3,He(12),Kn(this),li(this);break t}}if(this.R){h=!0;let Ae;for(;!this.K&&this.C<T.length;)if(Ae=_c(this,T),Ae==sn){Lt==4&&(this.m=4,He(14),h=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==Fe){this.m=4,He(15),Fi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Fi(this.i,this.l,Ae,null),Ki(this,Ae);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||T.length!=0||this.h.h||(this.m=1,He(16),h=!1),this.o=this.o&&h,!h)Fi(this.i,this.l,T,"[Invalid Chunked Response]"),Kn(this),li(this);else if(T.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),xl(ct),ct.P=!0,He(11))}}else Fi(this.i,this.l,T,null),Ki(this,T);Lt==4&&Kn(this),this.o&&!this.K&&(Lt==4?Rc(this.j,this):(this.o=!1,Gi(this)))}else br(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),Kn(this),li(this)}}}catch{}};function ad(h){if(!yc(h))return h.g.la();const _=cn(h.g);if(_==="")return"";let T="";const A=_.length,H=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Kn(h),li(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,T+=h.h.i.decode(_[Q],{stream:!(H&&Q==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function _c(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?sn:(T=Number(_.substring(T,A)),isNaN(T)?Fe:(A+=1,A+T>_.length?sn:(_=_.slice(A,A+T),h.C=A+T,_)))}bi.prototype.cancel=function(){this.K=!0,Kn(this)};function Gi(h){h.T=Date.now()+h.H,$a(h,h.H)}function $a(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Hi(p(h.aa,h),_)}function Yi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}bi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Bi(),He(17)),Kn(this),this.m=2,li(this)):$a(this,this.T-h)};function li(h){h.j.I==0||h.K||Rc(h.j,h)}function Kn(h){Yi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ut(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ki(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Xi(T.h,h))){if(!h.L&&Xi(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)ro(T),is(T);else break t;pa(T),He(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Hi(p(T.Va,T),6e3));Qi(T.h)<=1&&T.ta&&(T.ta=void 0)}else er(T,11)}else if((h.L||T.g==h)&&ro(T),!I(_))for(H=T.Ba.g.parse(_),_=0;_<H.length;_++){let ee=H[_];const Ae=ee[0];if(!(Ae<=T.K))if(T.K=Ae,ee=ee[1],T.I==2)if(ee[0]=="c"){T.M=ee[1],T.ba=ee[2];const hi=ee[3];hi!=null&&(T.ka=hi,T.j.info("VER="+T.ka));const nr=ee[4];nr!=null&&(T.za=nr,T.j.info("SVER="+T.za));const xi=ee[5];xi!=null&&typeof xi=="number"&&xi>0&&(A=1.5*xi,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Di=h.g;if(Di){const ma=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var Q=A.h;Q.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(yl(Q,Q.h),Q.h=null))}if(A.G){const so=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(A.wa=so,ae(A.J,A.G,so))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var ct=h;if(A.na=Dc(A,A.L?A.ba:null,A.W),ct.L){_l(A.h,ct);var Lt=ct,Le=A.O;Le&&(Lt.H=Le),Lt.D&&(Yi(Lt),Gi(Lt)),A.g=ct}else Ac(A);T.i.length>0&&tr(T)}else ee[0]!="stop"&&ee[0]!="close"||er(T,7);else T.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?er(T,7):Rl(T):ee[0]!="noop"&&T.l&&T.l.qa(ee),T.A=0)}}Bi(4)}catch{}}var qe=class{constructor(h,_){this.g=h,this.map=_}};function ml(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qi(h){return h.h?1:h.g?h.g.size:0}function Xi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function yl(h,_){h.g?h.g.add(_):h.h=_}function _l(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ml.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let H,Q=null;A>=0?(H=h[T].substring(0,A),Q=h[T].substring(A+1)):H=h[T],_(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Qn?(this.l=h.l,an(this,h.j),this.o=h.o,this.g=h.g,$r(this,h.u),this.h=h.h,El(this,Sc(h.i)),this.m=h.m):h&&(_=String(h).match(vc))?(this.l=!1,an(this,_[1]||"",!0),this.o=$i(_[2]||""),this.g=$i(_[3]||"",!0),$r(this,_[4]),this.h=$i(_[5]||"",!0),El(this,_[6]||"",!0),this.m=$i(_[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}Qn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(la(_,Ja,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(la(_,Ja,!0),"@"),h.push(wr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(la(T,T.charAt(0)=="/"?Tl:Ec,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",la(T,Tc)),h.join("")},Qn.prototype.resolve=function(h){const _=Ge(this);let T=!!h.j;T?an(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)$r(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ct=0;ct<H.length;){const Lt=H[ct++];Lt=="."?A&&ct==H.length&&Q.push(""):Lt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ct==H.length&&Q.push("")):(Q.push(Lt),A=!0)}A=Q.join("/")}else A=H}return T?_.h=A:T=h.i.toString()!=="",T?El(_,Sc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ge(h){return new Qn(h)}function an(h,_,T){h.j=T?$i(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function $r(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function El(h,_,T){_ instanceof Jr?(h.i=_,to(h.i,h.l)):(T||(_=la(_,Wr)),h.i=new Jr(_,h.l))}function ae(h,_,T){h.i.set(_,T)}function oa(h){return ae(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $i(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,kn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,Ec=/[#\?:]/g,Tl=/[#\?]/g,Wr=/[#\?@]/g,Tc=/#/g;function Jr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}e=Jr.prototype,e.add=function(h,_){Mn(this),this.i=null,h=Zr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function wc(h,_){Mn(h),_=Zr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function wl(h,_){return Mn(h),_=Zr(h,_),h.g.has(_)}e.forEach=function(h,_){Mn(this),this.g.forEach(function(T,A){T.forEach(function(H){h.call(_,H,A,this)},this)},this)};function Sl(h,_){Mn(h);let T=[];if(typeof _=="string")wl(h,_)&&(T=T.concat(h.g.get(Zr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}e.set=function(h,_){return Mn(this),this.i=null,h=Zr(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},e.get=function(h,_){return h?(h=Sl(this,h),h.length>0?String(h[0]):_):_};function Za(h,_,T){wc(h,_),T.length>0&&(h.i=null,h.g.set(Zr(h,_),S(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const H=wr(T);T=Sl(this,T);for(let Q=0;Q<T.length;Q++){let ct=H;T[Q]!==""&&(ct+="="+wr(T[Q])),h.push(ct)}}return this.i=h.join("&")};function Sc(h){const _=new Jr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Zr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function to(h,_){_&&!h.j&&(Mn(h),h.i=null,h.g.forEach(function(T,A){const H=A.toLowerCase();A!=H&&(wc(this,A),Za(this,H,T))},h)),h.j=_}function Ci(h,_){const T=new Si;if(c.Image){const A=new Image;A.onload=y(ui,T,"TestLoadImage: loaded",!0,_,A),A.onerror=y(ui,T,"TestLoadImage: error",!1,_,A),A.onabort=y(ui,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(ui,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function bl(h,_){const T=new Si,A=new AbortController,H=setTimeout(()=>{A.abort(),ui(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(H),Q.ok?ui(T,"TestPingServer: ok",!0,_):ui(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),ui(T,"TestPingServer: error",!1,_)})}function ui(h,_,T,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(T)}catch{}}function ts(){this.g=new Jt}function Wi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Wi,vn),Wi.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,_){Te.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ua,Te),e=ua.prototype,e.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ri(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?es(this):Ri(this),this.readyState==3&&eo(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,es(this))},e.Na=function(h){this.g&&(this.response=h,es(this))},e.ga=function(){this.g&&es(this)};function es(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ri(h)}e.setRequestHeader=function(h,_){this.A.append(h,_)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ci(h){let _="";return kt(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function ca(h,_,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=ci(T),typeof h=="string"?T!=null&&wr(T):ae(h,_,T))}function ce(h){Te.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ce,Te);var Ji=/^https?$/i,Al=["POST","PUT"];e=ce.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){ha(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)T.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Al,_,void 0)>=0)||A||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ct]of T)this.g.setRequestHeader(Q,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ha(this,Q)}};function ha(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Cl(h),Sr(h)}function Cl(h){h.A||(h.A=!0,se(h,"complete"),se(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,se(this,"complete"),se(this,"abort"),Sr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ce.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},e.Xa=function(){fa(this)};function fa(h){if(h.h&&typeof l<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(se(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var A;if(A=Q===0){let ct=String(h.D).match(vc)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),A=!Ji.test(ct?ct.toLowerCase():"")}T=A}if(T)se(h,"complete"),se(h,"success");else{h.o=6;try{var H=Ii(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Cl(h)}}finally{Sr(h)}}}}function Sr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||se(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),jt(_)}};function cn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function br(h){const _={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var T=gc(h[A]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=_[H]||[];_[H]=Q,Q.push(T)}N(_,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function ns(h){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,h),this.Za=Zi("retryDelaySeedMs",1e4,h),this.Ta=Zi("forwardChannelMaxRetries",2,h),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(h&&h.concurrentRequestLimit),this.Ba=new ts,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ns.prototype,e.ka=8,e.I=1,e.connect=function(h,_,T,A){He(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Dc(this,null,this.W),tr(this)};function Rl(h){if(no(h),h.I==3){var _=h.V++,T=Ge(h.J);if(ae(T,"SID",h.M),ae(T,"RID",_),ae(T,"TYPE","terminate"),da(h,T),_=new bi(h,h.j,_),_.M=2,_.A=oa(Ge(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Oc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Gi(_)}xc(h)}function is(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function no(h){is(h),h.v&&(c.clearTimeout(h.v),h.v=null),ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function tr(h){if(!gl(h.h)&&!h.m){h.m=!0;var _=h.Ea;Et||R(),$||(Et(),$=!0),O.add(_,h),h.D=0}}function io(h,_){return Qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Hi(p(h.Ea,h,_),Ic(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new bi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),C(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=bc(this,H,_),T=Ge(this.J),ae(T,"RID",h),ae(T,"CVER",22),this.G&&ae(T,"X-HTTP-Session-Id",this.G),da(this,T),Q&&(this.R?_="headers="+wr(ci(Q))+"&"+_:this.u&&ca(T,this.u,Q)),yl(this.h,H),this.Ra&&ae(T,"TYPE","init"),this.S?(ae(T,"$req",_),ae(T,"SID","null"),H.U=!0,qi(H,T,null)):qi(H,T,_),this.I=2}}else this.I==3&&(h?Il(this,h):this.i.length==0||gl(this.h)||Il(this))};function Il(h,_){var T;_?T=_.l:T=h.V++;const A=Ge(h.J);ae(A,"SID",h.M),ae(A,"RID",T),ae(A,"AID",h.K),da(h,A),h.u&&h.o&&ca(A,h.u,h.o),T=new bi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=bc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yl(h.h,T),qi(T,A,_)}function da(h,_){h.H&&kt(h.H,function(T,A){ae(_,A,T)}),h.l&&kt({},function(T,A){ae(_,A,T)})}function bc(h,_,T){T=Math.min(h.i.length,T);const A=h.l?p(h.l.Ka,h.l,h):null;t:{var H=h.i;let Lt=-1;for(;;){const Le=["count="+T];Lt==-1?T>0?(Lt=H[0].g,Le.push("ofs="+Lt)):Lt=0:Le.push("ofs="+Lt);let ee=!0;for(let Ae=0;Ae<T;Ae++){var Q=H[Ae].g;const hi=H[Ae].map;if(Q-=Lt,Q<0)Lt=Math.max(0,H[Ae].g-100),ee=!1;else try{Q="req"+Q+"_"||"";try{var ct=hi instanceof Map?hi:Object.entries(hi);for(const[nr,xi]of ct){let Di=xi;d(xi)&&(Di=Rt(xi)),Le.push(Q+nr+"="+encodeURIComponent(Di))}}catch(nr){throw Le.push(Q+"type="+encodeURIComponent("_badmap")),nr}}catch{A&&A(hi)}}if(ee){ct=Le.join("&");break t}}ct=void 0}return h=h.i.splice(0,T),_.G=h,ct}function Ac(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;Et||R(),$||(Et(),$=!0),O.add(_,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Hi(p(h.Da,h),Ic(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Hi(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),is(this),Cc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Cc(h){h.g=new bi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ge(h.na);ae(_,"RID","rpc"),ae(_,"SID",h.M),ae(_,"AID",h.K),ae(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ae(_,"TO",h.ia),ae(_,"TYPE","xmlhttp"),da(h,_),h.u&&h.o&&ca(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=oa(Ge(_)),T.u=null,T.R=!0,Xa(T,h)}e.Va=function(){this.C!=null&&(this.C=null,is(this),pa(this),He(19))};function ro(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Rc(h,_){var T=null;if(h.g==_){ro(h),xl(h),h.g=null;var A=2}else if(Xi(h.h,_))T=_.G,_l(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;A=En(),se(A,new ji(A,T)),tr(h)}else Ac(h);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&io(h,_)||A==2&&pa(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),H){case 1:er(h,5);break;case 4:er(h,10);break;case 3:er(h,6);break;default:er(h,2)}}}function Ic(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function er(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),A=h.Ua;const H=!A;A=new Qn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||an(A,"https"),oa(A),H?Ci(A.toString(),T):bl(A.toString(),T)}else He(2);h.I=0,h.l&&h.l.pa(_),xc(h),no(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function xc(h){if(h.I=0,h.ja=[],h.l){const _=vl(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function Dc(h,_,T){var A=T instanceof Qn?Ge(T):new Qn(T);if(A.g!="")_&&(A.g=_+"."+A.g),$r(A,A.u);else{var H=c.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const Q=new Qn(null);A&&an(Q,A),_&&(Q.g=_),H&&$r(Q,H),T&&(Q.h=T),A=Q}return T=h.G,_=h.wa,T&&_&&ae(A,T,_),ae(A,"VER",h.ka),da(h,A),A}function Oc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ce(new Wi({ab:T})):new ce(h.ma),_.Fa(h.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}e=Nc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function rs(){}rs.prototype.g=function(h,_){return new Dn(h,_)};function Dn(h,_){Te.call(this),this.g=new ns(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ar(this)}v(Dn,Te),Dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Rl(this.g)},Dn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Rt(h),h=T);_.i.push(new qe(_.Ya++,h)),_.I==3&&tr(_)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,Dn.Z.N.call(this)};function kc(h){xe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const T in _){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(kc,xe);function Mc(){rn.call(this),this.status=1}v(Mc,rn);function Ar(h){this.g=h}v(Ar,Nc),Ar.prototype.ra=function(){se(this.g,"a")},Ar.prototype.qa=function(h){se(this.g,new kc(h))},Ar.prototype.pa=function(h){se(this.g,new Mc)},Ar.prototype.oa=function(){se(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,DS=function(){return new rs},xS=function(){return En()},IS=Xt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,$h=sa,dl.COMPLETE="complete",RS=dl,oi.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",Te.prototype.listen=Te.prototype.J,wu=oi,ce.prototype.listenOnce=ce.prototype.K,ce.prototype.getLastError=ce.prototype.Ha,ce.prototype.getLastErrorCode=ce.prototype.ya,ce.prototype.getStatus=ce.prototype.ca,ce.prototype.getResponseJson=ce.prototype.La,ce.prototype.getResponseText=ce.prototype.la,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Fa,CS=ce}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const xT="@firebase/firestore",DT="4.9.3";class Sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let rl="12.7.0";const Ua=new Tg("@firebase/firestore");function Ho(){return Ua.logLevel}function _t(e,...t){if(Ua.logLevel<=Yt.DEBUG){const n=t.map(xg);Ua.debug(`Firestore (${rl}): ${e}`,...n)}}function Yr(e,...t){if(Ua.logLevel<=Yt.ERROR){const n=t.map(xg);Ua.error(`Firestore (${rl}): ${e}`,...n)}}function Jo(e,...t){if(Ua.logLevel<=Yt.WARN){const n=t.map(xg);Ua.warn(`Firestore (${rl}): ${e}`,...n)}}function xg(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Dt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,OS(e,r,n)}function OS(e,t,n){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function re(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||OS(t,a,r)}function Nt(e,t){return e}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class NS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class uD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cD{constructor(t){this.t=t,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){re(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new NS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new Sn(t)}}class hD{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fD{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new hD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){re(this.o===void 0,3512);const r=l=>{l.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const a=l=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Dg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=pD(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Kt(e,t){return e<t?-1:e>t?1:0}function Bm(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const a=e.charAt(r),l=t.charAt(r);if(a!==l)return dm(a)===dm(l)?Kt(a,l):dm(a)?1:-1}return Kt(e.length,t.length)}const mD=55296,gD=57343;function dm(e){const t=e.charCodeAt(0);return t>=mD&&t<=gD}function Zo(e,t,n){return e.length===t.length&&e.every(((r,a)=>n(r,t[a])))}const NT="__name__";class lr{constructor(t,n,r){n===void 0?n=0:n>t.length&&Dt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Dt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof lr?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=lr.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Kt(t.length,n.length)}static compareSegments(t,n){const r=lr.isNumericId(t),a=lr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?lr.extractNumericId(t).compare(lr.extractNumericId(n)):Bm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return js.fromString(t.substring(4,t.length-2))}}class _e extends lr{construct(t,n,r){return new _e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new _e(n)}static emptyPath(){return new _e([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends lr{construct(t,n,r){return new gn(t,n,r)}static isValidIdentifier(t){return yD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NT}static keyField(){return new gn([NT])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(n)}static emptyPath(){return new gn([])}}class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(_e.fromString(t))}static fromName(t){return new Ct(_e.fromString(t).popFirst(5))}static empty(){return new Ct(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new _e(t.slice()))}}function kS(e,t,n){if(!n)throw new gt(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _D(e,t,n,r){if(t===!0&&r===!0)throw new gt(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function kT(e){if(!Ct.isDocumentKey(e))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function MT(e){if(Ct.isDocumentKey(e))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function MS(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Mf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Dt(12329,{type:typeof e})}function Kr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(e);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ze(e,t){const n={typeString:e};return t&&(n.value=t),n}function Zu(e,t){if(!MS(e))throw new gt(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new gt(it.INVALID_ARGUMENT,n);return!0}const PT=-62135596800,VT=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*VT);return new be(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<PT)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zu(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-PT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Ze("string",be._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class Mt{static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new be(0,0))}static max(){return new Mt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zu=-1;function vD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Mt.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Gs(a,Ct.empty(),t)}function ED(e){return new Gs(e.readTime,e.key,zu)}class Gs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(Mt.min(),Ct.empty(),zu)}static max(){return new Gs(Mt.max(),Ct.empty(),zu)}}function TD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ct.comparator(e.documentKey,t.documentKey),n!==0?n:Kt(e.largestBatchId,t.largestBatchId))}const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sl(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==wD)throw e;_t("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,r)=>{n(t)}))}static reject(t){return new rt(((n,r)=>{r(t)}))}static waitFor(t){return new rt(((n,r)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>r(m)))})),c=!0,l===a&&n()}))}static or(t){let n=rt.resolve(!1);for(const r of t)n=n.next((a=>a?rt.resolve(a):r()));return n}static forEach(t,n){const r=[];return t.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(t,n){return new rt(((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&r(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new rt(((r,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):r()};l()}))}}function bD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(e){return e.name==="IndexedDbTransactionError"}class Pf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Pf.ce=-1;const Og=-1;function Vf(e){return e==null}function df(e){return e===0&&1/e==-1/0}function AD(e){return typeof e=="number"&&Number.isInteger(e)&&!df(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const PS="";function CD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=LT(t)),t=RD(e.get(n),t);return LT(t)}function RD(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case PS:n+="";break;default:n+=l}}return n}function LT(e){return e+PS+""}function UT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Js(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ID(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function VS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class De{constructor(t,n){this.comparator=t,this.root=n||mn.EMPTY}insert(t,n){return new De(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new De(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jh(this.root,t,this.comparator,!0)}}class jh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new mn(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new mn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new De(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(t){return new zT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new en(this.comparator);return n.data=t,n}}class zT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new si([])}unionWith(t){let n=new en(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new si(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class LS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new LS("Invalid base64 string: "+l):l}})(t);return new yn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new yn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(e){if(re(!!e,39018),typeof e=="string"){let t=0;const n=xD.exec(e);if(re(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Be(e.seconds),nanos:Be(e.nanos)}}function Be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ks(e){return typeof e=="string"?yn.fromBase64String(e):yn.fromUint8Array(e)}const US="server_timestamp",zS="__type__",BS="__previous_value__",jS="__local_write_time__";function Ng(e){return(e?.mapValue?.fields||{})[zS]?.stringValue===US}function Lf(e){const t=e.mapValue.fields[BS];return Ng(t)?Lf(t):t}function Bu(e){const t=Ys(e.mapValue.fields[jS].timestampValue);return new be(t.seconds,t.nanos)}class DD{constructor(t,n,r,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const pf="(default)";class ju{constructor(t,n){this.projectId=t,this.database=n||pf}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof ju&&t.projectId===this.projectId&&t.database===this.database}}const HS="__type__",OD="__max__",Hh={mapValue:{}},FS="__vector__",mf="value";function Qs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ng(e)?4:kD(e)?9007199254740991:ND(e)?10:11:Dt(28295,{value:e})}function _r(e,t){if(e===t)return!0;const n=Qs(e);if(n!==Qs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bu(e).isEqual(Bu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ys(a.timestampValue),d=Ys(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Ks(a.bytesValue).isEqual(Ks(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Be(a.geoPointValue.latitude)===Be(l.geoPointValue.latitude)&&Be(a.geoPointValue.longitude)===Be(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Be(a.integerValue)===Be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Be(a.doubleValue),d=Be(l.doubleValue);return c===d?df(c)===df(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Zo(e.arrayValue.values||[],t.arrayValue.values||[],_r);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(UT(c)!==UT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!_r(c[m],d[m])))return!1;return!0})(e,t);default:return Dt(52216,{left:e})}}function Hu(e,t){return(e.values||[]).find((n=>_r(n,t)))!==void 0}function tl(e,t){if(e===t)return 0;const n=Qs(e),r=Qs(t);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Be(l.integerValue||l.doubleValue),m=Be(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return BT(e.timestampValue,t.timestampValue);case 4:return BT(Bu(e),Bu(t));case 5:return Bm(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Ks(l),m=Ks(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Kt(d[p],m[p]);if(y!==0)return y}return Kt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Kt(Be(l.latitude),Be(c.latitude));return d!==0?d:Kt(Be(l.longitude),Be(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return jT(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[mf]?.arrayValue,y=m[mf]?.arrayValue,v=Kt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:jT(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Hh.mapValue&&c===Hh.mapValue)return 0;if(l===Hh.mapValue)return 1;if(c===Hh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const w=Bm(m[v],y[v]);if(w!==0)return w;const S=tl(d[m[v]],p[y[v]]);if(S!==0)return S}return Kt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Dt(23264,{he:n})}}function BT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Kt(e,t);const n=Ys(e),r=Ys(t),a=Kt(n.seconds,r.seconds);return a!==0?a:Kt(n.nanos,r.nanos)}function jT(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=tl(n[a],r[a]);if(l)return l}return Kt(n.length,r.length)}function el(e){return jm(e)}function jm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Ks(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Ct.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=jm(l);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${jm(n.fields[c])}`;return a+"}"})(e.mapValue):Dt(61005,{value:e})}function Wh(e){switch(Qs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lf(e);return t?16+Wh(t):16;case 5:return 2*e.stringValue.length;case 6:return Ks(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Wh(l)),0)})(e.arrayValue);case 10:case 11:return(function(r){let a=0;return Js(r.fields,((l,c)=>{a+=l.length+Wh(c)})),a})(e.mapValue);default:throw Dt(13486,{value:e})}}function HT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Hm(e){return!!e&&"integerValue"in e}function kg(e){return!!e&&"arrayValue"in e}function FT(e){return!!e&&"nullValue"in e}function qT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jh(e){return!!e&&"mapValue"in e}function ND(e){return(e?.mapValue?.fields||{})[HS]?.stringValue===FS}function Iu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Js(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Iu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Iu(e.arrayValue.values[n]);return t}return{...e}}function kD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===OD}class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Jh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Iu(n)}setAll(t){let n=gn.emptyPath(),r={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Iu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _r(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Js(n,((a,l)=>t[a]=l));for(const a of r)delete t[a]}clone(){return new Hn(Iu(this.value))}}function qS(e){const t=[];return Js(e.fields,((n,r)=>{const a=new gn([n]);if(Jh(r)){const l=qS(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new si(t)}class bn{constructor(t,n,r,a,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new bn(t,0,Mt.min(),Mt.min(),Mt.min(),Hn.empty(),0)}static newFoundDocument(t,n,r,a){return new bn(t,1,n,Mt.min(),r,a,0)}static newNoDocument(t,n){return new bn(t,2,n,Mt.min(),Mt.min(),Hn.empty(),0)}static newUnknownDocument(t,n){return new bn(t,3,n,Mt.min(),Mt.min(),Hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gf{constructor(t,n){this.position=t,this.inclusive=n}}function GT(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=Ct.comparator(Ct.fromName(c.referenceValue),n.key):r=tl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function YT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_r(e.position[n],t.position[n]))return!1;return!0}class yf{constructor(t,n="asc"){this.field=t,this.dir=n}}function MD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class GS{}class Je extends GS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new VD(t,n,r):n==="array-contains"?new zD(t,r):n==="in"?new BD(t,r):n==="not-in"?new jD(t,r):n==="array-contains-any"?new HD(t,r):new Je(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new LD(t,r):new UD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends GS{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Li(t,n)}matches(t){return YS(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YS(e){return e.op==="and"}function KS(e){return PD(e)&&YS(e)}function PD(e){for(const t of e.filters)if(t instanceof Li)return!1;return!0}function Fm(e){if(e instanceof Je)return e.field.canonicalString()+e.op.toString()+el(e.value);if(KS(e))return e.filters.map((t=>Fm(t))).join(",");{const t=e.filters.map((n=>Fm(n))).join(",");return`${e.op}(${t})`}}function QS(e,t){return e instanceof Je?(function(r,a){return a instanceof Je&&r.op===a.op&&r.field.isEqual(a.field)&&_r(r.value,a.value)})(e,t):e instanceof Li?(function(r,a){return a instanceof Li&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&QS(c,a.filters[d])),!0):!1})(e,t):void Dt(19439)}function XS(e){return e instanceof Je?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(e):e instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"})(e):"Filter"}class VD extends Je{constructor(t,n,r){super(t,n,r),this.key=Ct.fromName(r.referenceValue)}matches(t){const n=Ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class LD extends Je{constructor(t,n){super(t,"in",n),this.keys=$S("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class UD extends Je{constructor(t,n){super(t,"not-in",n),this.keys=$S("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function $S(e,t){return(t.arrayValue?.values||[]).map((n=>Ct.fromName(n.referenceValue)))}class zD extends Je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return kg(n)&&Hu(n.arrayValue,this.value)}}class BD extends Je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class jD extends Je{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class HD extends Je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hu(this.value.arrayValue,r)))}}class FD{constructor(t,n=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function KT(e,t=null,n=[],r=[],a=null,l=null,c=null){return new FD(e,t,n,r,a,l,c)}function Mg(e){const t=Nt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Fm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Vf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>el(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>el(r))).join(",")),t.Te=n}return t.Te}function Pg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!MD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!YT(e.startAt,t.startAt)&&YT(e.endAt,t.endAt)}function qm(e){return Ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class tc{constructor(t,n=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qD(e,t,n,r,a,l,c,d){return new tc(e,t,n,r,a,l,c,d)}function Vg(e){return new tc(e)}function QT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function WS(e){return e.collectionGroup!==null}function xu(e){const t=Nt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new en(gn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new yf(l,r))})),n.has(gn.keyField().canonicalString())||t.Ie.push(new yf(gn.keyField(),r))}return t.Ie}function fr(e){const t=Nt(e);return t.Ee||(t.Ee=JS(t,xu(e))),t.Ee}function GD(e){const t=Nt(e);return t.de||(t.de=JS(t,e.explicitOrderBy)),t.de}function JS(e,t){if(e.limitType==="F")return KT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new yf(a.field,l)}));const n=e.endAt?new gf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gf(e.startAt.position,e.startAt.inclusive):null;return KT(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gm(e,t){const n=e.filters.concat([t]);return new tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ym(e,t,n){return new tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uf(e,t){return Pg(fr(e),fr(t))&&e.limitType===t.limitType}function ZS(e){return`${Mg(fr(e))}|lt:${e.limitType}`}function Fo(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>XS(a))).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${r})`})(fr(e))}; limitType=${e.limitType})`}function zf(e,t){return t.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ct.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(e,t)&&(function(r,a){for(const l of xu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(r,a){return!(r.startAt&&!(function(c,d,m){const p=GT(c,d,m);return c.inclusive?p<=0:p<0})(r.startAt,xu(r),a)||r.endAt&&!(function(c,d,m){const p=GT(c,d,m);return c.inclusive?p>=0:p>0})(r.endAt,xu(r),a))})(e,t)}function YD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tb(e){return(t,n)=>{let r=!1;for(const a of xu(e)){const l=KD(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function KD(e,t,n){const r=e.field.isKeyField()?Ct.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?tl(m,p):Dt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:e.dir})}}class qa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Js(this.inner,((n,r)=>{for(const[a,l]of r)t(a,l)}))}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}const QD=new De(Ct.comparator);function Qr(){return QD}const eb=new De(Ct.comparator);function Su(...e){let t=eb;for(const n of e)t=t.insert(n.key,n);return t}function nb(e){let t=eb;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Na(){return Du()}function ib(){return Du()}function Du(){return new qa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const XD=new De(Ct.comparator),$D=new en(Ct.comparator);function Qt(...e){let t=$D;for(const n of e)t=t.add(n);return t}const WD=new en(Kt);function JD(){return WD}function Lg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(t)?"-0":t}}function rb(e){return{integerValue:""+e}}function ZD(e,t){return AD(t)?rb(t):Lg(e,t)}class Bf{constructor(){this._=void 0}}function tO(e,t,n){return e instanceof Fu?(function(a,l){const c={fields:{[zS]:{stringValue:US},[jS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ng(l)&&(l=Lf(l)),l&&(c.fields[BS]=l),{mapValue:c}})(n,t):e instanceof qu?ab(e,t):e instanceof Gu?ob(e,t):(function(a,l){const c=sb(a,l),d=XT(c)+XT(a.Ae);return Hm(c)&&Hm(a.Ae)?rb(d):Lg(a.serializer,d)})(e,t)}function eO(e,t,n){return e instanceof qu?ab(e,t):e instanceof Gu?ob(e,t):n}function sb(e,t){return e instanceof _f?(function(r){return Hm(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class Fu extends Bf{}class qu extends Bf{constructor(t){super(),this.elements=t}}function ab(e,t){const n=lb(t);for(const r of e.elements)n.some((a=>_r(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Gu extends Bf{constructor(t){super(),this.elements=t}}function ob(e,t){let n=lb(t);for(const r of e.elements)n=n.filter((a=>!_r(a,r)));return{arrayValue:{values:n}}}class _f extends Bf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function XT(e){return Be(e.integerValue||e.doubleValue)}function lb(e){return kg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nO{constructor(t,n){this.field=t,this.transform=n}}function iO(e,t){return e.field.isEqual(t.field)&&(function(r,a){return r instanceof qu&&a instanceof qu||r instanceof Gu&&a instanceof Gu?Zo(r.elements,a.elements,_r):r instanceof _f&&a instanceof _f?_r(r.Ae,a.Ae):r instanceof Fu&&a instanceof Fu})(e.transform,t.transform)}class rO{constructor(t,n){this.version=t,this.transformResults=n}}class Vi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class jf{}function ub(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hb(e.key,Vi.none()):new ec(e.key,e.data,Vi.none());{const n=e.data,r=Hn.empty();let a=new en(gn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Zs(e.key,r,new si(a.toArray()),Vi.none())}}function sO(e,t,n){e instanceof ec?(function(a,l,c){const d=a.value.clone(),m=WT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Zs?(function(a,l,c){if(!Zh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=WT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(cb(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Ou(e,t,n,r){return e instanceof ec?(function(l,c,d,m){if(!Zh(l.precondition,c))return d;const p=l.value.clone(),y=JT(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,r):e instanceof Zs?(function(l,c,d,m){if(!Zh(l.precondition,c))return d;const p=JT(l.fieldTransforms,m,c),y=c.data;return y.setAll(cb(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,r):(function(l,c,d){return Zh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function aO(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=sb(r.transform,a||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,l))}return n||null}function $T(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Zo(r,a,((l,c)=>iO(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ec extends jf{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zs extends jf{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function WT(e,t,n){const r=new Map;re(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,eO(c,d,n[a]))}return r}function JT(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,tO(l,c,t))}return r}class hb extends jf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends jf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lO{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&sO(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ou(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ou(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ib();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=ub(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Mt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&Zo(this.mutations,t.mutations,((n,r)=>$T(n,r)))&&Zo(this.baseMutations,t.baseMutations,((n,r)=>$T(n,r)))}}class Ug{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){re(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return XD})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ug(t,n,r,a)}}class uO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cO{constructor(t,n,r){this.alias=t,this.aggregateType=n,this.fieldPath=r}}class hO{constructor(t,n){this.count=t,this.unchangedNames=n}}var $e,Wt;function fO(e){switch(e){case it.OK:return Dt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Dt(15467,{code:e})}}function fb(e){if(e===void 0)return Yr("GRPC error has no .code"),it.UNKNOWN;switch(e){case $e.OK:return it.OK;case $e.CANCELLED:return it.CANCELLED;case $e.UNKNOWN:return it.UNKNOWN;case $e.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case $e.INTERNAL:return it.INTERNAL;case $e.UNAVAILABLE:return it.UNAVAILABLE;case $e.UNAUTHENTICATED:return it.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case $e.NOT_FOUND:return it.NOT_FOUND;case $e.ALREADY_EXISTS:return it.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return it.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case $e.ABORTED:return it.ABORTED;case $e.OUT_OF_RANGE:return it.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return it.UNIMPLEMENTED;case $e.DATA_LOSS:return it.DATA_LOSS;default:return Dt(39323,{code:e})}}(Wt=$e||($e={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";function dO(){return new TextEncoder}const pO=new js([4294967295,4294967295],0);function ZT(e){const t=dO().encode(e),n=new AS;return n.update(t),new Uint8Array(n.digest())}function t0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new js([n,r],0),new js([a,l],0)]}class zg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(r<0)throw new bu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=js.fromNumber(this.ge)}ye(t,n,r){let a=t.add(n.multiply(js.fromNumber(r)));return a.compare(pO)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=ZT(t),[r,a]=t0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new zg(l,a,n);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=ZT(t),[r,a]=t0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hf{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,nc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Hf(Mt.min(),a,new De(Kt),Qr(),Qt())}}class nc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new nc(r,n,Qt(),Qt(),Qt())}}class tf{constructor(t,n,r,a){this.be=t,this.removedTargetIds=n,this.key=r,this.De=a}}class db{constructor(t,n){this.targetId=t,this.Ce=n}}class pb{constructor(t,n,r=yn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class e0{constructor(){this.ve=0,this.Fe=n0(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),n=Qt(),r=Qt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Dt(38017,{changeType:l})}})),new nc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=n0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qr(),this.Je=Fh(),this.He=Fh(),this.Ye=new De(Kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Dt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,r=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(qm(l))if(r===0){const c=new Ct(l.path);this.et(n,c,bn.newNoDocument(c,Mt.min()))}else re(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ks(r).toUint8Array()}catch(m){if(m instanceof LS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new zg(c,a,l)}catch(m){return Jo(m instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&qm(d.target)){const m=new Ct(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,bn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=Qt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Hf(t,n,this.Ye,this.je,r);return this.je=Qr(),this.Je=Fh(),this.He=Fh(),this.Ye=new De(Kt),a}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new e0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new en(Kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new en(Kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||_t("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Fh(){return new De(Ct.comparator)}function n0(){return new De(Ct.comparator)}const gO={asc:"ASCENDING",desc:"DESCENDING"},yO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_O={and:"AND",or:"OR"};class vO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Km(e,t){return e.useProto3Json||Vf(t)?t:{value:t}}function vf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EO(e,t){return vf(e,t.toTimestamp())}function dr(e){return re(!!e,49232),Mt.fromTimestamp((function(n){const r=Ys(n);return new be(r.seconds,r.nanos)})(e))}function Bg(e,t){return Qm(e,t).canonicalString()}function Qm(e,t){const n=(function(a){return new _e(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function gb(e){const t=_e.fromString(e);return re(wb(t),10190,{key:t.toString()}),t}function Xm(e,t){return Bg(e.databaseId,t.path)}function pm(e,t){const n=gb(t);if(n.get(1)!==e.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ct(_b(n))}function yb(e,t){return Bg(e.databaseId,t)}function TO(e){const t=gb(e);return t.length===4?_e.emptyPath():_b(t)}function $m(e){return new _e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _b(e){return re(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function i0(e,t,n){return{name:Xm(e,t),fields:n.value.mapValue.fields}}function wO(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(re(y===void 0||typeof y=="string",58123),yn.fromBase64String(y||"")):(re(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),yn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?it.UNKNOWN:fb(p.code);return new gt(y,p.message||"")})(c);n=new pb(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=pm(e,r.document.name),l=dr(r.document.updateTime),c=r.document.createTime?dr(r.document.createTime):Mt.min(),d=new Hn({mapValue:{fields:r.document.fields}}),m=bn.newFoundDocument(a,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new tf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=pm(e,r.document),l=r.readTime?dr(r.readTime):Mt.min(),c=bn.newNoDocument(a,l),d=r.removedTargetIds||[];n=new tf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=pm(e,r.document),l=r.removedTargetIds||[];n=new tf([],l,a,null)}else{if(!("filter"in t))return Dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new hO(a,l),d=r.targetId;n=new db(d,c)}}return n}function SO(e,t){let n;if(t instanceof ec)n={update:i0(e,t.key,t.value)};else if(t instanceof hb)n={delete:Xm(e,t.key)};else if(t instanceof Zs)n={update:i0(e,t.key,t.data),updateMask:NO(t.fieldMask)};else{if(!(t instanceof oO))return Dt(16599,{Vt:t.type});n={verify:Xm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof qu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _f)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Dt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:EO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Dt(27497)})(e,t.precondition)),n}function bO(e,t){return e&&e.length>0?(re(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?dr(a.updateTime):dr(l);return c.isEqual(Mt.min())&&(c=dr(l)),new rO(c,a.transformResults||[])})(n,t)))):[]}function AO(e,t){return{documents:[yb(e,t.path)]}}function vb(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yb(e,a);const l=(function(p){if(p.length!==0)return Tb(Li.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:ks(w.field),direction:xO(w.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Km(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function CO(e,t,n,r){const{ft:a,parent:l}=vb(e,t),c={},d=[];let m=0;return n.forEach((p=>{const y="aggregate_"+m++;c[y]=p.alias,p.aggregateType==="count"?d.push({alias:y,count:{}}):p.aggregateType==="avg"?d.push({alias:y,avg:{field:ks(p.fieldPath)}}):p.aggregateType==="sum"&&d.push({alias:y,sum:{field:ks(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function RO(e){let t=TO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){re(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const w=Eb(v);return w instanceof Li&&KS(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((w=>(function(V){return new yf(qo(V.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let w;return w=typeof v=="object"?v.value:v,Vf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(v){const w=!!v.before,S=v.values||[];return new gf(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,S=v.values||[];return new gf(S,w)})(n.endAt)),qD(t,a,c,l,d,"F",m,p)}function IO(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Eb(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qo(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(n.unaryFilter.field);return Je.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qo(n.unaryFilter.field);return Je.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qo(n.unaryFilter.field);return Je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Je.create(qo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((r=>Eb(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(e):Dt(30097,{filter:e})}function xO(e){return gO[e]}function DO(e){return yO[e]}function OO(e){return _O[e]}function ks(e){return{fieldPath:e.canonicalString()}}function qo(e){return gn.fromServerFormat(e.fieldPath)}function Tb(e){return e instanceof Je?(function(n){if(n.op==="=="){if(qT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(FT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(FT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:DO(n.op),value:n.value}}})(e):e instanceof Li?(function(n){const r=n.getFilters().map((a=>Tb(a)));return r.length===1?r[0]:{compositeFilter:{op:OO(n.op),filters:r}}})(e):Dt(54877,{filter:e})}function NO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function wb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Us{constructor(t,n,r,a,l=Mt.min(),c=Mt.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Us(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kO{constructor(t){this.yt=t}}function MO(e){const t=RO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ym(t,t.limit,"L"):t}class PO{constructor(){this.Cn=new VO}addToCollectionParentIndex(t,n){return this.Cn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Gs.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Gs.min())}updateCollectionGroup(t,n,r){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class VO{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new en(_e.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new en(_e.comparator)).toArray()}}const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class jn{static withCacheSize(t){return new jn(t,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Sb,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const s0="LruGarbageCollector",LO=1048576;function a0([e,t],[n,r]){const a=Kt(e,n);return a===0?Kt(t,r):a}class UO{constructor(t){this.Ir=t,this.buffer=new en(a0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();a0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zO{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){_t(s0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?_t(s0,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Vr(3e5)}))}}class BO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(Pf.ce);const r=new UO(n);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(r0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(r=v,d=Date.now(),this.removeTargets(t,r,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((v=>(p=Date.now(),Ho()<=Yt.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function jO(e,t){return new BO(e,t)}class HO{constructor(){this.changes=new qa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?rt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class qO{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(r!==null&&Ou(r.mutation,a,si.empty(),be.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Qt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Qt()){const a=Na();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,r).next((l=>{let c=Su();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=Na();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Qt())))}populateOverlays(t,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,a){let l=Qr();const c=Du(),d=(function(){return Du()})();return n.forEach(((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Zs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ou(y.mutation,p,y.mutation.getFieldMask(),be.now())):c.set(p.key,si.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new FO(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=Du();let a=new De(((c,d)=>c-d)),l=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||si.empty();y=d.applyToLocalView(p,y),r.set(m,y);const v=(a.get(d.batchId)||Qt()).add(m);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,v=ib();y.forEach((w=>{if(!l.has(w)){const S=ub(n.get(w),r.get(w));S!==null&&v.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return rt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,a){return(function(c){return Ct.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):rt.resolve(Na());let d=zu,m=l;return c.next((p=>rt.forEach(p,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Qt()))).next((y=>({batchId:d,changes:nb(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ct(n)).next((r=>{let a=Su();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(t,l).next((d=>rt.forEach(d,(m=>{const p=(function(v,w){return new tc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next((y=>{y.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,bn.newInvalidDocument(y)))}));let d=Su();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Ou(y.mutation,p,si.empty(),be.now()),zf(n,p)&&(d=d.insert(m,p))})),d}))}}class GO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:dr(a.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:MO(a.bundledQuery),readTime:dr(a.readTime)}})(n)),rt.resolve()}}class YO{constructor(){this.overlays=new De(Ct.comparator),this.qr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Na();return rt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((a,l)=>{this.St(t,n,l)})),rt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),rt.resolve()}getOverlaysForCollection(t,n,r){const a=Na(),l=n.length+1,c=new Ct(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new De(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Na(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Na(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return rt.resolve(d)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new uO(n,r));let l=this.qr.get(n);l===void 0&&(l=Qt(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class KO{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}class jg{constructor(){this.Qr=new en(ln.$r),this.Ur=new en(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ln(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ln(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Ct(new _e([])),r=new ln(n,t),a=new ln(n,t+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ct(new _e([])),r=new ln(n,t),a=new ln(n,t+1);let l=Qt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new ln(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ln{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ct.comparator(t.key,n.key)||Kt(t.Yr,n.Yr)}static Kr(t,n){return Kt(t.Yr,n.Yr)||Ct.comparator(t.key,n.key)}}class QO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(ln.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lO(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,n){return rt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ln(n,0),a=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new en(Kt);return n.forEach((a=>{const l=new ln(a,0),c=new ln(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),rt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;Ct.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ct(l),0);let d=new en(Kt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),rt.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return rt.forEach(n.mutations,(a=>{const l=new ln(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ln(n,0),a=this.Zr.firstAfterOrEqual(r);return rt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XO{constructor(t){this.ri=t,this.docs=(function(){return new De(Ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return rt.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(t,n){let r=Qr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():bn.newInvalidDocument(a))})),rt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Qr();const c=n.path,d=new Ct(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||TD(ED(y),r)<=0||(a.has(y.key)||zf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Dt(9500)}ii(t,n){return rt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new $O(this)}getSize(t){return rt.resolve(this.size)}}class $O extends HO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),rt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class WO{constructor(t){this.persistence=t,this.si=new qa((n=>Mg(n)),Pg),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.oi=0,this._i=new jg,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,n){return this.si.forEach(((r,a)=>n(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),rt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.Pr(n),rt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return rt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),rt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return rt.resolve(r)}containsKey(t,n){return rt.resolve(this._i.containsKey(n))}}class bb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new KO,this.referenceDelegate=t(this),this.Pi=new WO(this),this.indexManager=new PO,this.remoteDocumentCache=(function(a){return new XO(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kO(n),this.Ii=new GO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new QO(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){_t("MemoryPersistence","Starting transaction:",t);const a=new JO(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return rt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class JO extends SD{constructor(t){super(),this.currentSequenceNumber=t}}class Hg{constructor(t){this.persistence=t,this.Ri=new jg,this.Vi=null}static mi(t){return new Hg(t)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),rt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(r=>{const a=Ct.fromPath(r);return this.gi(t,a).next((l=>{l||n.removeEntry(a,Mt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return rt.or([()=>rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ef{constructor(t,n){this.persistence=t,this.pi=new qa((r=>CD(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=jO(this,n)}static mi(t,n){return new Ef(t,n)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((a=>r+a))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return rt.forEach(this.pi,((r,a)=>this.br(t,r,a).next((l=>l?rt.resolve():n(a)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(r++,l.removeEntry(c,Mt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wh(t.data.value)),n}br(t,n,r){return rt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return rt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fg{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=a}static As(t,n){let r=Qt(),a=Qt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Fg(t,n.fromCache,r,a)}}class ZO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DR()?8:bD(Cn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new ZO;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,r,a){return r.documentReadCount<this.fs?(Ho()<=Yt.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(Ho()<=Yt.DEBUG&&_t("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Ho()<=Yt.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fr(n))):rt.resolve())}ys(t,n){if(QT(n))return rt.resolve(null);let r=fr(n);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ym(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=Qt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(t,Ym(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,r,a){return QT(n)||a.isEqual(Mt.min())?rt.resolve(null):this.ps.getDocuments(t,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?rt.resolve(null):(Ho()<=Yt.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fo(n)),this.vs(t,c,n,vD(a,zu)).next((d=>d)))}))}Ds(t,n){let r=new en(tb(t));return n.forEach(((a,l)=>{zf(t,l)&&(r=r.add(l))})),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,r){return Ho()<=Yt.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.ps.getDocumentsMatchingQuery(t,n,Gs.min(),r)}vs(t,n,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const qg="LocalStore",eN=3e8;class nN{constructor(t,n,r,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new De(Kt),this.xs=new qa((l=>Mg(l)),Pg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function iN(e,t,n,r){return new nN(e,t,n,r)}async function Ab(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let m=Qt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function rN(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const v=p.batch,w=v.keys();let S=rt.resolve();return w.forEach((V=>{S=S.next((()=>y.getEntry(m,V))).next((z=>{const j=p.docVersions.get(V);re(j!==null,48541),z.version.compareTo(j)<0&&(v.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(n,r,t,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=Qt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function Cb(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function sN(e,t){const n=Nt(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,v)=>{const w=a.get(v);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=w.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(yn.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(v,S),(function(z,j,F){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=eN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,S,y)&&d.push(n.Pi.updateTargetData(l,S))}));let m=Qr(),p=Qt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(aN(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!r.isEqual(Mt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(y)}return rt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function aN(e,t,n){let r=Qt(),a=Qt();return n.forEach((l=>r=r.add(l))),t.getEntries(e,r).next((l=>{let c=Qr();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Mt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):_t(qg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function oN(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Og),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function lN(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,t).next((l=>l?(a=l,rt.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Us(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Wm(e,t,n){const r=Nt(e),a=r.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!al(c))throw c;_t(qg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function o0(e,t,n){const r=Nt(e);let a=Mt.min(),l=Qt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=Nt(m),w=v.xs.get(y);return w!==void 0?rt.resolve(v.Ms.get(w)):v.Pi.getTargetData(p,y)})(r,c,fr(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?a:Mt.min(),n?l:Qt()))).next((d=>(uN(r,YD(t),d),{documents:d,Qs:l})))))}function uN(e,t,n){let r=e.Os.get(t)||Mt.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),e.Os.set(t,r)}class l0{constructor(){this.activeTargetIds=JD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cN{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hN{Oo(t){}shutdown(){}}const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_t(u0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){_t(u0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qh=null;function Jm(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}const mm="RestConnection",fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,n,r,a,l){const c=Jm(),d=this.zo(t,n.toUriEncodedString());_t(mm,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=Ws(p);return this.Jo(t,d,m,r,y).then((v=>(_t(mm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Jo(mm,`RPC '${t}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(t,n,r,a,l,c){return this.Go(t,n,r,a,l)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),r&&r.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const r=fN[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class pN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const wn="WebChannelConnection";class mN extends dN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=Jm();return new Promise(((d,m)=>{const p=new CS;p.setWithCredentials(!0),p.listenOnce(RS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $h.NO_ERROR:const v=p.getResponseJson();_t(wn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case $h.TIMEOUT:_t(wn,`RPC '${t}' ${c} timed out`),m(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const w=p.getStatus();if(_t(wn,`RPC '${t}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S?.error;if(V&&V.status&&V.message){const z=(function(F){const st=F.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(st)>=0?st:it.UNKNOWN})(V.status);m(new gt(z,V.message))}else m(new gt(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new gt(it.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_t(wn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);_t(wn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(t,n,r){const a=Jm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=DS(),d=xS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");_t(wn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let w=!1,S=!1;const V=new pN({Yo:j=>{S?_t(wn,`Not sending because RPC '${t}' stream ${a} is closed:`,j):(w||(_t(wn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),w=!0),_t(wn,`RPC '${t}' stream ${a} sending:`,j),v.send(j))},Zo:()=>v.close()}),z=(j,F,st)=>{j.listen(F,(W=>{try{st(W)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return z(v,wu.EventType.OPEN,(()=>{S||(_t(wn,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),z(v,wu.EventType.CLOSE,(()=>{S||(S=!0,_t(wn,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(v))})),z(v,wu.EventType.ERROR,(j=>{S||(S=!0,Jo(wn,`RPC '${t}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),V.a_(new gt(it.UNAVAILABLE,"The operation could not be completed")))})),z(v,wu.EventType.MESSAGE,(j=>{if(!S){const F=j.data[0];re(!!F,16349);const st=F,W=st?.error||st[0]?.error;if(W){_t(wn,`RPC '${t}' stream ${a} received error:`,W);const dt=W.status;let Et=(function(R){const x=$e[R];if(x!==void 0)return fb(x)})(dt),$=W.message;Et===void 0&&(Et=it.INTERNAL,$="Unknown error status: "+dt+" with message "+W.message),S=!0,V.a_(new gt(Et,$)),v.close()}else _t(wn,`RPC '${t}' stream ${a} received:`,F),V.u_(F)}})),z(d,IS.STAT_EVENT,(j=>{j.stat===zm.PROXY?_t(wn,`RPC '${t}' stream ${a} detected buffering proxy`):j.stat===zm.NOPROXY&&_t(wn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function gm(){return typeof document<"u"?document:null}function Ff(e){return new vO(e,!0)}class Rb{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&_t("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const h0="PersistentStream";class Ib{constructor(t,n,r,a,l,c,d,m){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{t((()=>{const a=new gt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return _t(h0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(_t(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gN extends Ib{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=wO(this.serializer,t),r=(function(l){if(!("targetChange"in l))return Mt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Mt.min():c.readTime?dr(c.readTime):Mt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=$m(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=qm(m)?{documents:AO(l,m)}:{query:vb(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=mb(l,c.resumeToken);const p=Km(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Mt.min())>0){d.readTime=vf(l,c.snapshotVersion.toTimestamp());const p=Km(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const r=IO(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=$m(this.serializer),n.removeTarget=t,this.q_(n)}}class yN extends Ib{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=bO(t.writeResults,t.commitTime),r=dr(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=$m(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>SO(this.serializer,r)))};this.q_(n)}}class _N{}class vN extends _N{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Qm(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(it.UNKNOWN,l.toString())}))}Ho(t,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Qm(n,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):_t("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const za="RemoteStore";class TN{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ga(this)&&(_t(za,"Restarting streams for network reachability change."),await(async function(m){const p=Nt(m);p.Ea.add(4),await ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qf(p)})(this))}))})),this.Ra=new EN(r,a)}}async function qf(e){if(Ga(e))for(const t of e.da)await t(!0)}async function ic(e){for(const t of e.da)await t(!1)}function xb(e,t){const n=Nt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qg(n)?Kg(n):ol(n).O_()&&Yg(n,t))}function Gg(e,t){const n=Nt(e),r=ol(n);n.Ia.delete(t),r.O_()&&Db(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ga(n)&&n.Ra.set("Unknown"))}function Yg(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ol(e).Y_(t)}function Db(e,t){e.Va.Ue(t),ol(e).Z_(t)}function Kg(e){e.Va=new mO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ol(e).start(),e.Ra.ua()}function Qg(e){return Ga(e)&&!ol(e).x_()&&e.Ia.size>0}function Ga(e){return Nt(e).Ea.size===0}function Ob(e){e.Va=void 0}async function wN(e){e.Ra.set("Online")}async function SN(e){e.Ia.forEach(((t,n)=>{Yg(e,t)}))}async function bN(e,t){Ob(e),Qg(e)?(e.Ra.ha(t),Kg(e)):e.Ra.set("Unknown")}async function AN(e,t,n){if(e.Ra.set("Online"),t instanceof pb&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(r){_t(za,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Tf(e,r)}else if(t instanceof tf?e.Va.Ze(t):t instanceof db?e.Va.st(t):e.Va.tt(t),!n.isEqual(Mt.min()))try{const r=await Cb(e.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(yn.EMPTY_BYTE_STRING,y.snapshotVersion)),Db(l,m);const v=new Us(y.target,m,p,y.sequenceNumber);Yg(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(r){_t(za,"Failed to raise snapshot:",r),await Tf(e,r)}}async function Tf(e,t,n){if(!al(t))throw t;e.Ea.add(1),await ic(e),e.Ra.set("Offline"),n||(n=()=>Cb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_t(za,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qf(e)}))}function Nb(e,t){return t().catch((n=>Tf(e,n,t)))}async function Gf(e){const t=Nt(e),n=Xs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Og;for(;CN(t);)try{const a=await oN(t.localStore,r);if(a===null){t.Ta.length===0&&n.L_();break}r=a.batchId,RN(t,a)}catch(a){await Tf(t,a)}kb(t)&&Mb(t)}function CN(e){return Ga(e)&&e.Ta.length<10}function RN(e,t){e.Ta.push(t);const n=Xs(e);n.O_()&&n.X_&&n.ea(t.mutations)}function kb(e){return Ga(e)&&!Xs(e).x_()&&e.Ta.length>0}function Mb(e){Xs(e).start()}async function IN(e){Xs(e).ra()}async function xN(e){const t=Xs(e);for(const n of e.Ta)t.ea(n.mutations)}async function DN(e,t,n){const r=e.Ta.shift(),a=Ug.from(r,t,n);await Nb(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Gf(e)}async function ON(e,t){t&&Xs(e).X_&&await(async function(r,a){if((function(c){return fO(c)&&c!==it.ABORTED})(a.code)){const l=r.Ta.shift();Xs(r).B_(),await Nb(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Gf(r)}})(e,t),kb(e)&&Mb(e)}async function f0(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),_t(za,"RemoteStore received new credentials");const r=Ga(n);n.Ea.add(3),await ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qf(n)}async function NN(e,t){const n=Nt(e);t?(n.Ea.delete(2),await qf(n)):t||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function ol(e){return e.ma||(e.ma=(function(n,r,a){const l=Nt(n);return l.sa(),new gN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:wN.bind(null,e),t_:SN.bind(null,e),r_:bN.bind(null,e),H_:AN.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Qg(e)?Kg(e):e.Ra.set("Unknown")):(await e.ma.stop(),Ob(e))}))),e.ma}function Xs(e){return e.fa||(e.fa=(function(n,r,a){const l=Nt(n);return l.sa(),new yN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:IN.bind(null,e),r_:ON.bind(null,e),ta:xN.bind(null,e),na:DN.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Gf(e)):(await e.fa.stop(),e.Ta.length>0&&(_t(za,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Xg{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,d=new Xg(t,n,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(e,t){if(Yr("AsyncQueue",`${t}: ${e}`),al(e))return new gt(it.UNAVAILABLE,`${t}: ${e}`);throw e}class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Ct.comparator(n.key,r.key):(n,r)=>Ct.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new De(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class d0{constructor(){this.ga=new De(Ct.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class il{constructor(t,n,r,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new il(t,n,Yo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class kN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class MN{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Nt(n),l=a.queries;a.queries=p0(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function p0(){return new qa((e=>ZS(e)),Uf)}async function PN(e,t){const n=Nt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new kN,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=$g(c,`Initialization of query '${Fo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Wg(n)}async function VN(e,t){const n=Nt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LN(e,t){const n=Nt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&Wg(n)}function UN(e,t,n){const r=Nt(e),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(t)}function Wg(e){e.Ca.forEach((t=>{t.next()}))}var Zm,m0;(m0=Zm||(Zm={})).Ma="default",m0.Cache="cache";class zN{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new il(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zm.Cache}}class Pb{constructor(t){this.key=t}}class Vb{constructor(t){this.key=t}}class BN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=tb(t),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new d0,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const w=a.get(y),S=zf(this.query,v)?v:null,V=!!w&&this.mutatedKeys.has(w.key),z=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let j=!1;w&&S?w.data.isEqual(S.data)?V!==z&&(r.track({type:3,doc:S}),j=!0):this.su(w,S)||(r.track({type:2,doc:S}),j=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(d=!0)):!w&&S?(r.track({type:0,doc:S}),j=!0):w&&!S&&(r.track({type:1,doc:w}),j=!0,(m||p)&&(d=!0)),j&&(S?(c=c.add(S),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(S,V){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:j})}};return z(S)-z(V)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new il(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Vb(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new Pb(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jg="SyncEngine";class jN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class HN{constructor(t){this.key=t,this.hu=!1}}class FN{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((d=>ZS(d)),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new De(Ct.comparator),this.Au=new Map,this.Ru=new jg,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qN(e,t,n=!0){const r=Hb(e);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Lb(r,t,n,!0),a}async function GN(e,t){const n=Hb(e);await Lb(n,t,!0,!1)}async function Lb(e,t,n,r){const a=await lN(e.localStore,fr(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await YN(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&xb(e.remoteStore,a),d}async function YN(e,t,n,r,a){e.pu=(v,w,S)=>(async function(z,j,F,st){let W=j.view.ru(F);W.Cs&&(W=await o0(z.localStore,j.query,!1).then((({documents:O})=>j.view.ru(O,W))));const dt=st&&st.targetChanges.get(j.targetId),Et=st&&st.targetMismatches.get(j.targetId)!=null,$=j.view.applyChanges(W,z.isPrimaryClient,dt,Et);return y0(z,j.targetId,$.au),$.snapshot})(e,v,w,S);const l=await o0(e.localStore,t,!0),c=new BN(t,l.Qs),d=c.ru(l.documents),m=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);y0(e,n,p.au);const y=new jN(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function KN(e,t,n){const r=Nt(e),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Uf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Wm(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Gg(r.remoteStore,a.targetId),tg(r,a.targetId)})).catch(sl)):(tg(r,a.targetId),await Wm(r.localStore,a.targetId,!0))}async function QN(e,t){const n=Nt(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gg(n.remoteStore,r.targetId))}async function XN(e,t,n){const r=n2(e);try{const a=await(function(c,d){const m=Nt(c),p=be.now(),y=d.reduce(((S,V)=>S.add(V.key)),Qt());let v,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let V=Qr(),z=Qt();return m.Ns.getEntries(S,y).next((j=>{V=j,V.forEach(((F,st)=>{st.isValidDocument()||(z=z.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,V))).next((j=>{v=j;const F=[];for(const st of d){const W=aO(st,v.get(st.key).overlayedDocument);W!=null&&F.push(new Zs(st.key,W,qS(W.value.mapValue),Vi.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,F,d)})).next((j=>{w=j;const F=j.applyToLocalDocumentSet(v,z);return m.documentOverlayCache.saveOverlays(S,j.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:nb(v)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new De(Kt)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,n),await rc(r,a.changes),await Gf(r.remoteStore)}catch(a){const l=$g(a,"Failed to persist write");n.reject(l)}}async function Ub(e,t){const n=Nt(e);try{const r=await sN(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(re(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?re(c.hu,14607):a.removedDocuments.size>0&&(re(c.hu,42227),c.hu=!1))})),await rc(n,r,t)}catch(r){await sl(r)}}function g0(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Nt(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,v)=>{for(const w of v.Sa)w.va(d)&&(p=!0)})),p&&Wg(m)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $N(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new De(Ct.comparator);c=c.insert(l,bn.newNoDocument(l,Mt.min()));const d=Qt().add(l),m=new Hf(Mt.min(),new Map,new De(Kt),c,d);await Ub(r,m),r.du=r.du.remove(l),r.Au.delete(t),Zg(r)}else await Wm(r.localStore,t,!1).then((()=>tg(r,t,n))).catch(sl)}async function WN(e,t){const n=Nt(e),r=t.batch.batchId;try{const a=await rN(n.localStore,t);Bb(n,r,null),zb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rc(n,a)}catch(a){await sl(a)}}async function JN(e,t,n){const r=Nt(e);try{const a=await(function(c,d){const m=Nt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((v=>(re(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(r.localStore,t);Bb(r,t,n),zb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rc(r,a)}catch(a){await sl(a)}}function zb(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Bb(e,t,n){const r=Nt(e);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function tg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||jb(e,r)}))}function jb(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Gg(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Zg(e))}function y0(e,t,n){for(const r of n)r instanceof Pb?(e.Ru.addReference(r.key,t),ZN(e,r)):r instanceof Vb?(_t(Jg,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||jb(e,r.key)):Dt(19791,{wu:r})}function ZN(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(_t(Jg,"New document in limbo: "+n),e.Eu.add(r),Zg(e))}function Zg(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ct(_e.fromString(t)),r=e.fu.next();e.Au.set(r,new HN(n)),e.du=e.du.insert(n,r),xb(e.remoteStore,new Us(fr(Vg(n.path)),r,"TargetPurposeLimboResolution",Pf.ce))}}async function rc(e,t,n){const r=Nt(e),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Fg.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,p){const y=Nt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>rt.forEach(p,(w=>rt.forEach(w.Es,(S=>y.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>rt.forEach(w.ds,(S=>y.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!al(v))throw v;_t(qg,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=y.Ms.get(w),V=S.snapshotVersion,z=S.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(w,z)}}})(r.localStore,l))}async function t2(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){_t(Jg,"User change. New user:",t.toKey());const r=await Ab(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new gt(it.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rc(n,r.Ls)}}function e2(e,t){const n=Nt(e),r=n.Au.get(t);if(r&&r.hu)return Qt().add(r.key);{let a=Qt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Hb(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ub.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$N.bind(null,t),t.Pu.H_=LN.bind(null,t.eventManager),t.Pu.yu=UN.bind(null,t.eventManager),t}function n2(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JN.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return iN(this.persistence,new tN,t.initialUser,this.serializer)}Cu(t){return new bb(Hg.mi,this.serializer)}Du(t){return new cN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class i2 extends wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){re(this.persistence.referenceDelegate instanceof Ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zO(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new bb((r=>Ef.mi(r,n)),this.serializer)}}class eg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t2.bind(null,this.syncEngine),await NN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MN})()}createDatastore(t){const n=Ff(t.databaseInfo.databaseId),r=(function(l){return new mN(l)})(t.databaseInfo);return(function(l,c,d,m){return new vN(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,a,l,c,d){return new TN(r,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>g0(this.syncEngine,n,0)),(function(){return c0.v()?new c0:new hN})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const v=new FN(a,l,c,d,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Nt(n);_t(za,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}eg.provider={build:()=>new eg};class r2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Yr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const $s="FirestoreClient";class s2{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{_t($s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_t($s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=$g(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ym(e,t){e.asyncQueue.verifyOperationInProgress(),_t($s,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async a=>{r.isEqual(a)||(await Ab(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function _0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await a2(e);_t($s,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>f0(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,a)=>f0(t.remoteStore,a))),e._onlineComponents=t}async function a2(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_t($s,"Using user provided OfflineComponentProvider");try{await ym(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await ym(e,new wf)}}else _t($s,"Using default OfflineComponentProvider"),await ym(e,new i2(void 0));return e._offlineComponents}async function ty(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_t($s,"Using user provided OnlineComponentProvider"),await _0(e,e._uninitializedComponentsProvider._online)):(_t($s,"Using default OnlineComponentProvider"),await _0(e,new eg))),e._onlineComponents}function o2(e){return ty(e).then((t=>t.syncEngine))}function l2(e){return ty(e).then((t=>t.datastore))}async function u2(e){const t=await ty(e),n=t.eventManager;return n.onListen=qN.bind(null,t.syncEngine),n.onUnlisten=KN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=GN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=QN.bind(null,t.syncEngine),n}function c2(e,t,n={}){const r=new Fr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new r2({next:w=>{y.Nu(),c.enqueueAndForget((()=>VN(l,v)));const S=w.docs.has(d);!S&&w.fromCache?p.reject(new gt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?p.reject(new gt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new zN(Vg(d.path),y,{includeMetadataChanges:!0,qa:!0});return PN(l,v)})(await u2(e),e.asyncQueue,t,n,r))),r.promise}function h2(e,t,n){const r=new Fr;return e.asyncQueue.enqueueAndForget((async()=>{try{const a=await l2(e);r.resolve((async function(c,d,m){const p=Nt(c),{request:y,gt:v,parent:w}=CO(p.serializer,GD(d),m);p.connection.$o||delete y.parent;const S=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,y,1)).filter((z=>!!z.result));re(S.length===1,64727);const V=S[0].result?.aggregateFields;return Object.keys(V).reduce(((z,j)=>(z[v[j]]=V[j],z)),{})})(a,t,n))}catch(a){r.reject(a)}})),r.promise}function Fb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const v0=new Map;const qb="firestore.googleapis.com",E0=!0;class T0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qb,this.ssl=E0}else this.host=t.host,this.ssl=t.ssl??E0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LO)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_D("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yf{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lD;switch(r.type){case"firstParty":return new fD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=v0.get(n);r&&(_t("ComponentProvider","Removing Datastore"),v0.delete(n),r.terminate())})(this),Promise.resolve()}}function f2(e,t,n,r={}){e=Kr(e,Yf);const a=Ws(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(vg(`https://${d}`),Eg("Firestore",!0)),l.host!==qb&&l.host!==d&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!Pa(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Sn.MOCK_USER;else{p=nS(r.mockUserToken,e._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Sn(v)}e._authCredentials=new uD(new NS(p,y))}}class sc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new sc(this.firestore,t,this._query)}}class je{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Zu(n,je._jsonSchema))return new je(t,r||null,new Ct(_e.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Ze("string",je._jsonSchemaVersion),referencePath:Ze("string")};class Hs extends sc{constructor(t,n,r){super(t,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Ct(t))}withConverter(t){return new Hs(this.firestore,t,this._path)}}function w0(e,t,...n){if(e=ke(e),kS("collection","path",t),e instanceof Yf){const r=_e.fromString(t,...n);return MT(r),new Hs(e,null,r)}{if(!(e instanceof je||e instanceof Hs))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_e.fromString(t,...n));return MT(r),new Hs(e.firestore,null,r)}}function ef(e,t,...n){if(e=ke(e),arguments.length===1&&(t=Dg.newId()),kS("doc","path",t),e instanceof Yf){const r=_e.fromString(t,...n);return kT(r),new je(e,null,new Ct(r))}{if(!(e instanceof je||e instanceof Hs))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_e.fromString(t,...n));return kT(r),new je(e.firestore,e instanceof Hs?e.converter:null,new Ct(r))}}const S0="AsyncQueue";class b0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rb(this,"async_queue_retry"),this._c=()=>{const r=gm();r&&_t(S0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!al(t))throw t;_t(S0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",A0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Xg.createAndSchedule(this,t,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Dt(47125,{Pc:A0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function A0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ll extends Yf{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new b0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new b0(t),this._firestoreClient=void 0,await t}}}function d2(e,t){const n=typeof e=="object"?e:Sg(),r=typeof e=="string"?e:pf,a=kf(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Zw("firestore");l&&f2(a,...l)}return a}function ey(e){if(e._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||p2(e),e._firestoreClient}function p2(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new DD(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Fb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new s2(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class m2{constructor(t="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=t}}class g2{constructor(t,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ti(yn.fromBase64String(t))}catch(n){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ti(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zu(t,Ti._jsonSchema))return Ti.fromBase64String(t.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Ze("string",Ti._jsonSchemaVersion),bytes:Ze("string")};class Kf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qf{constructor(t){this._methodName=t}}class pr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(t){if(Zu(t,pr._jsonSchema))return new pr(t.latitude,t.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:Ze("string",pr._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class mr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zu(t,mr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new mr(t.vectorValues);throw new gt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:Ze("string",mr._jsonSchemaVersion),vectorValues:Ze("object")};const y2=/^__.*__$/;class _2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Zs(t,this.data,this.fieldMask,n,this.fieldTransforms):new ec(t,this.data,n,this.fieldTransforms)}}class Gb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Zs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:e})}}class ny{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Yb(this.Ac)&&y2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class v2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ff(t)}Cc(t,n,r,a=!1){return new ny({Ac:t,methodName:n,Dc:r,path:gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xf(e){const t=e._freezeSettings(),n=Ff(e._databaseId);return new v2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kb(e,t,n,r,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);ry("Data must be an object, but it was:",c,r);const d=Qb(r,c);let m,p;if(l.merge)m=new si(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const w=ng(t,v,n);if(!c.contains(w))throw new gt(it.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$b(y,w)||y.push(w)}m=new si(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new _2(new Hn(d),m,p)}class $f extends Qf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $f}}class iy extends Qf{_toFieldTransform(t){return new nO(t.path,new Fu)}isEqual(t){return t instanceof iy}}function E2(e,t,n,r){const a=e.Cc(1,t,n);ry("Data must be an object, but it was:",a,r);const l=[],c=Hn.empty();Js(r,((m,p)=>{const y=sy(t,m,n);p=ke(p);const v=a.yc(y);if(p instanceof $f)l.push(y);else{const w=ac(p,v);w!=null&&(l.push(y),c.set(y,w))}}));const d=new si(l);return new Gb(c,d,a.fieldTransforms)}function T2(e,t,n,r,a,l){const c=e.Cc(1,t,n),d=[ng(t,r,n)],m=[a];if(l.length%2!=0)throw new gt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(ng(t,l[w])),m.push(l[w+1]);const p=[],y=Hn.empty();for(let w=d.length-1;w>=0;--w)if(!$b(p,d[w])){const S=d[w];let V=m[w];V=ke(V);const z=c.yc(S);if(V instanceof $f)p.push(S);else{const j=ac(V,z);j!=null&&(p.push(S),y.set(S,j))}}const v=new si(p);return new Gb(y,v,c.fieldTransforms)}function w2(e,t,n,r=!1){return ac(n,e.Cc(r?4:3,t))}function ac(e,t){if(Xb(e=ke(e)))return ry("Unsupported field value:",t,e),Qb(e,t);if(e instanceof Qf)return(function(r,a){if(!Yb(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let m=ac(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(r,a){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=be.fromDate(r);return{timestampValue:vf(a.serializer,l)}}if(r instanceof be){const l=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vf(a.serializer,l)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:mb(a.serializer,r._byteString)};if(r instanceof je){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof mr)return(function(c,d){return{mapValue:{fields:{[HS]:{stringValue:FS},[mf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Lg(d.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Mf(r)}`)})(e,t)}function Qb(e,t){const n={};return VS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Js(e,((r,a)=>{const l=ac(a,t.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function Xb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof be||e instanceof pr||e instanceof Ti||e instanceof je||e instanceof Qf||e instanceof mr)}function ry(e,t,n){if(!Xb(n)||!MS(n)){const r=Mf(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function ng(e,t,n){if((t=ke(t))instanceof Kf)return t._internalPath;if(typeof t=="string")return sy(e,t);throw Sf("Field path arguments must be of type string or ",e,!1,void 0,n)}const S2=new RegExp("[~\\*/\\[\\]]");function sy(e,t,n){if(t.search(S2)>=0)throw Sf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Kf(...t.split("."))._internalPath}catch{throw Sf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new gt(it.INVALID_ARGUMENT,d+e+m)}function $b(e,t){return e.some((n=>n.isEqual(t)))}class Wb{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new b2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ay("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b2 extends Wb{data(){return super.data()}}function ay(e,t){return typeof t=="string"?sy(e,t):t instanceof Kf?t._internalPath:t._delegate._internalPath}class oy{}class A2 extends oy{}function C2(e,t,...n){let r=[];t instanceof oy&&r.push(t),r=r.concat(n),(function(l){const c=l.filter((m=>m instanceof ly)).length,d=l.filter((m=>m instanceof Wf)).length;if(c>1||c>0&&d>0)throw new gt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)e=a._apply(e);return e}class Wf extends A2{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Wf(t,n,r)}_apply(t){const n=this._parse(t);return Jb(t._query,n),new sc(t.firestore,t.converter,Gm(t._query,n))}_parse(t){const n=Xf(t.firestore);return(function(l,c,d,m,p,y,v){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new gt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){R0(v,y);const V=[];for(const z of v)V.push(C0(m,l,z));w={arrayValue:{values:V}}}else w=C0(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||R0(v,y),w=w2(d,c,v,y==="in"||y==="not-in");return Je.create(p,y,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function R2(e,t,n){const r=t,a=ay("where",e);return Wf._create(a,r,n)}class ly extends oy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ly(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)Jb(c,m),c=Gm(c,m)})(t._query,n),new sc(t.firestore,t.converter,Gm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C0(e,t,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new gt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(t)&&n.indexOf("/")!==-1)throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(_e.fromString(n));if(!Ct.isDocumentKey(r))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HT(e,new Ct(r))}if(n instanceof je)return HT(e,n._key);throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(n)}.`)}function R0(e,t){if(!Array.isArray(e)||e.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Jb(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new gt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class I2{convertValue(t,n="none"){switch(Qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Js(t,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(t){const n=t.fields?.[mf].arrayValue?.values?.map((r=>Be(r.doubleValue)));return new mr(n)}convertGeoPoint(t){return new pr(Be(t.latitude),Be(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Lf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(t));default:return null}}convertTimestamp(t){const n=Ys(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=_e.fromString(t);re(wb(r),9688,{name:t});const a=new ju(r.get(1),r.get(3)),l=new Ct(r.popFirst(5));return a.isEqual(n)||Yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Zb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function x2(){return new m2("count")}class Au{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ma extends Wb{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ay("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:Ze("string",Ma._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class nf extends Ma{data(t={}){return super.data(t)}}class Nu{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new nf(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new nf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new nf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:D2(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function D2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:e})}}function O2(e){e=Kr(e,je);const t=Kr(e.firestore,ll);return c2(ey(t),e._key).then((n=>P2(t,e,n)))}Nu._jsonSchemaVersion="firestore/querySnapshot/1.0",Nu._jsonSchema={type:Ze("string",Nu._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class tA extends I2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ti(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function N2(e,t,n){e=Kr(e,je);const r=Kr(e.firestore,ll),a=Zb(e.converter,t,n);return uy(r,[Kb(Xf(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Vi.none())])}function k2(e,t,n,...r){e=Kr(e,je);const a=Kr(e.firestore,ll),l=Xf(a);let c;return c=typeof(t=ke(t))=="string"||t instanceof Kf?T2(l,"updateDoc",e._key,t,n,r):E2(l,"updateDoc",e._key,t),uy(a,[c.toMutation(e._key,Vi.exists(!0))])}function M2(e,t){const n=Kr(e.firestore,ll),r=ef(e),a=Zb(e.converter,t);return uy(n,[Kb(Xf(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,Vi.exists(!1))]).then((()=>r))}function uy(e,t){return(function(r,a){const l=new Fr;return r.asyncQueue.enqueueAndForget((async()=>XN(await o2(r),a,l))),l.promise})(ey(e),t)}function P2(e,t,n){const r=n.docs.get(t._key),a=new tA(e);return new Ma(e,a,t._key,r,new Au(n.hasPendingWrites,n.fromCache),t.converter)}function V2(e){return L2(e,{count:x2()})}function L2(e,t){const n=Kr(e.firestore,ll),r=ey(n),a=ID(t,((l,c)=>new cO(c,l.aggregateType,l._internalFieldPath)));return h2(r,e._query,a).then((l=>(function(d,m,p){const y=new tA(d);return new g2(m,y,p)})(n,e,l)))}function U2(){return new iy("serverTimestamp")}(function(t,n=!0){(function(a){rl=a})(Fa),Va(new qs("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new ll(new cD(r.getProvider("auth-internal")),new dD(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),hr(xT,DT,t),hr(xT,DT,"esm2020")})();var z2="firebase",B2="12.7.0";hr(z2,B2,"app");function eA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j2=eA,nA=new Wu("auth","Firebase",eA());const bf=new Tg("@firebase/auth");function H2(e,...t){bf.logLevel<=Yt.WARN&&bf.warn(`Auth (${Fa}): ${e}`,...t)}function rf(e,...t){bf.logLevel<=Yt.ERROR&&bf.error(`Auth (${Fa}): ${e}`,...t)}function Ui(e,...t){throw cy(e,...t)}function gr(e,...t){return cy(e,...t)}function iA(e,t,n){const r={...j2(),[t]:n};return new Wu("auth","Firebase",r).create(t,{appName:e.name})}function qr(e){return iA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return nA.create(e,...t)}function xt(e,t,...n){if(!e)throw cy(t,...n)}function jr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rf(t),new Error(t)}function Xr(e,t){e||jr(t)}function ig(){return typeof self<"u"&&self.location?.href||""}function F2(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F2()||RR()||"connection"in navigator)?navigator.onLine:!0}function G2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class oc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xr(n>t,"Short delay should be less than long delay!"),this.isMobile=bR()||IR()}get(){return q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hy(e,t){Xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const K2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new oc(3e4,6e4);function ta(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ea(e,t,n,r,a={}){return sA(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=Ju({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return CR()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Ws(e.emulatorConfig.host)&&(p.credentials="include"),rA.fetch()(await aA(e,e.config.apiHost,n,d),p)})}async function sA(e,t,n){e._canInitEmulator=!1;const r={...Y2,...t};try{const a=new $2(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Gh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Gh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw iA(e,y,p);Ui(e,y)}}catch(a){if(a instanceof Er)throw a;Ui(e,"network-request-failed",{message:String(a)})}}async function lc(e,t,n,r,a={}){const l=await ea(e,t,n,r,a);return"mfaPendingCredential"in l&&Ui(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function aA(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?hy(e.config,a):`${e.config.apiScheme}://${a}`;return K2.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function X2(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Q2.get())})}}function Gh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=gr(e,t,r);return a.customData._tokenResponse=n,a}function x0(e){return e!==void 0&&e.enterprise!==void 0}class W2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return X2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J2(e,t){return ea(e,"GET","/v2/recaptchaConfig",ta(e,t))}async function Z2(e,t){return ea(e,"POST","/v1/accounts:delete",t)}async function Af(e,t){return ea(e,"POST","/v1/accounts:lookup",t)}function ku(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tk(e,t=!1){const n=ke(e),r=await n.getIdToken(t),a=fy(r);xt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:ku(_m(a.auth_time)),issuedAtTime:ku(_m(a.iat)),expirationTime:ku(_m(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function _m(e){return Number(e)*1e3}function fy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ww(n);return a?JSON.parse(a):(rf("Failed to decode base64 JWT payload"),null)}catch(a){return rf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function D0(e){const t=fy(e);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Yu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Er&&ek(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function ek({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class nk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cf(e){const t=e.auth,n=await e.getIdToken(),r=await Yu(e,Af(t,{idToken:n}));xt(r?.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?oA(a.providerUserInfo):[],c=rk(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new rg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function ik(e){const t=ke(e);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rk(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function oA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sk(e,t){const n=await sA(e,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await aA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return e.emulatorConfig&&Ws(e.emulatorConfig.host)&&(m.credentials="include"),rA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ak(e,t){return ea(e,"POST","/v2/accounts:revokeToken",ta(e,t))}class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):D0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const n=D0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await sk(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Ko;return r&&(xt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(xt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(xt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return jr("not implemented")}}function Is(e,t){xt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Pi{constructor({uid:t,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Yu(this,this.stsTokenManager.getToken(this.auth,t));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tk(this,t)}reload(){return ik(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(qr(this.auth));const t=await this.getIdToken();return await Yu(this,Z2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:S,providerData:V,stsTokenManager:z}=n;xt(v&&z,t,"internal-error");const j=Ko.fromJSON(this.name,z);xt(typeof v=="string",t,"internal-error"),Is(r,t.name),Is(a,t.name),xt(typeof w=="boolean",t,"internal-error"),xt(typeof S=="boolean",t,"internal-error"),Is(l,t.name),Is(c,t.name),Is(d,t.name),Is(m,t.name),Is(p,t.name),Is(y,t.name);const F=new Pi({uid:v,auth:t,email:a,emailVerified:w,displayName:r,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:y});return V&&Array.isArray(V)&&(F.providerData=V.map(st=>({...st}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,r=!1){const a=new Ko;a.updateFromServerResponse(n);const l=new Pi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Cf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];xt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?oA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Ko;d.updateFromIdToken(r);const m=new Pi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new rg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const O0=new Map;function Hr(e){Xr(e instanceof Function,"Expected a class definition");let t=O0.get(e);return t?(Xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,O0.set(e,t),t)}class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lA.type="NONE";const N0=lA;function sf(e,t,n){return`firebase:${e}:${t}:${n}`}class Qo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Af(this.auth,{idToken:t}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,t):null}return Pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Qo(Hr(N0),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Hr(N0);const c=sf(r,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const w=await Af(t,{idToken:y}).catch(()=>{});if(!w)break;v=await Pi._fromGetAccountInfoResponse(t,w,y)}else v=Pi._fromJSON(t,y);p!==l&&(d=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Qo(l,t,r))}}function k0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pA(t))return"Blackberry";if(mA(t))return"Webos";if(cA(t))return"Safari";if((t.includes("chrome/")||hA(t))&&!t.includes("edge/"))return"Chrome";if(dA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function uA(e=Cn()){return/firefox\//i.test(e)}function cA(e=Cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hA(e=Cn()){return/crios\//i.test(e)}function fA(e=Cn()){return/iemobile/i.test(e)}function dA(e=Cn()){return/android/i.test(e)}function pA(e=Cn()){return/blackberry/i.test(e)}function mA(e=Cn()){return/webos/i.test(e)}function dy(e=Cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ok(e=Cn()){return dy(e)&&!!window.navigator?.standalone}function lk(){return xR()&&document.documentMode===10}function gA(e=Cn()){return dy(e)||dA(e)||mA(e)||pA(e)||/windows phone/i.test(e)||fA(e)}function yA(e,t=[]){let n;switch(e){case"Browser":n=k0(Cn());break;case"Worker":n=`${k0(Cn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}class uk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ck(e,t={}){return ea(e,"GET","/v2/passwordPolicy",ta(e,t))}const hk=6;class fk{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class dk{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new uk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Af(this,{idToken:t}),r=await Pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(qr(this));const n=t?ke(t):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ck(this),n=new fk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ak(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hr(t)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&H2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ya(e){return ke(e)}class M0{constructor(t){this.auth=t,this.observer=null,this.addObserver=LR(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pk(e){Jf=e}function _A(e){return Jf.loadJS(e)}function mk(){return Jf.recaptchaEnterpriseScript}function gk(){return Jf.gapiScript}function yk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class _k{constructor(){this.enterprise=new vk}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class vk{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Ek="recaptcha-enterprise",vA="NO_RECAPTCHA";class Tk{constructor(t){this.type=Ek,this.auth=Ya(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{J2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new W2(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;x0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(vA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _k().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&x0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=mk();m.length!==0&&(m+=d),_A(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function P0(e,t,n,r=!1,a=!1){const l=new Tk(e);let c;if(a)c=vA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function sg(e,t,n,r,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await P0(e,t,n,n==="getOobCode");return r(e,l)}else return r(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await P0(e,t,n,n==="getOobCode");return r(e,c)}else return Promise.reject(l)})}function wk(e,t){const n=kf(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Pa(l,t??{}))return a;Ui(a,"already-initialized")}return n.initialize({options:t})}function Sk(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function bk(e,t,n){const r=Ya(e);xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=EA(t),{host:c,port:d}=Ak(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xt(Pa(p,r.config.emulator)&&Pa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ws(c)?(vg(`${l}//${c}${m}`),Eg("Auth",!0)):Ck()}function EA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ak(e){const t=EA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:V0(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:V0(c)}}}function V0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ck(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class py{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(t){return jr("not implemented")}_linkToIdToken(t,n){return jr("not implemented")}_getReauthenticationResolver(t){return jr("not implemented")}}async function Rk(e,t){return ea(e,"POST","/v1/accounts:signUp",t)}async function Ik(e,t){return lc(e,"POST","/v1/accounts:signInWithPassword",ta(e,t))}async function xk(e,t){return lc(e,"POST","/v1/accounts:signInWithEmailLink",ta(e,t))}async function Dk(e,t){return lc(e,"POST","/v1/accounts:signInWithEmailLink",ta(e,t))}class Ku extends py{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Ku(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ku(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(t,n,"signInWithPassword",Ik);case"emailLink":return xk(t,{email:this._email,oobCode:this._password});default:Ui(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(t,r,"signUpPassword",Rk);case"emailLink":return Dk(t,{idToken:n,email:this._email,oobCode:this._password});default:Ui(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Xo(e,t){return lc(e,"POST","/v1/accounts:signInWithIdp",ta(e,t))}const Ok="http://localhost";class Ba extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ba(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new Ba(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Xo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Xo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Xo(t,n)}buildRequest(){const t={requestUri:Ok,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ju(n)}return t}}function Nk(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kk(e){const t=Eu(Tu(e)).link,n=t?Eu(Tu(t)).deep_link_id:null,r=Eu(Tu(e)).deep_link_id;return(r?Eu(Tu(r)).link:null)||r||n||t||e}class my{constructor(t){const n=Eu(Tu(t)),r=n.apiKey??null,a=n.oobCode??null,l=Nk(n.mode??null);xt(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=kk(t);try{return new my(n)}catch{return null}}}class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(t,n){return Ku._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=my.parseLink(n);return xt(r,"argument-error"),Ku._fromEmailAndCode(t,r.code,r.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class TA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class uc extends TA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ms extends uc{constructor(){super("facebook.com")}static credential(t){return Ba._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";class Ps extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ba._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class Vs extends uc{constructor(){super("github.com")}static credential(t){return Ba._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vs.credential(t.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";class Ls extends uc{constructor(){super("twitter.com")}static credential(t,n){return Ba._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";async function Mk(e,t){return lc(e,"POST","/v1/accounts:signUp",ta(e,t))}class ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await Pi._fromIdTokenResponse(t,r,a),c=L0(r);return new ja({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=L0(r);return new ja({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function L0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Rf extends Er{constructor(t,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Rf(t,n,r,a)}}function wA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(e,l,t,r):l})}async function Pk(e,t,n=!1){const r=await Yu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ja._forOperation(e,"link",r)}async function Vk(e,t,n=!1){const{auth:r}=e;if(ii(r.app))return Promise.reject(qr(r));const a="reauthenticate";try{const l=await Yu(e,wA(r,a,t,e),n);xt(l.idToken,r,"internal-error");const c=fy(l.idToken);xt(c,r,"internal-error");const{sub:d}=c;return xt(e.uid===d,r,"user-mismatch"),ja._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),l}}async function SA(e,t,n=!1){if(ii(e.app))return Promise.reject(qr(e));const r="signIn",a=await wA(e,r,t),l=await ja._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function Lk(e,t){return SA(Ya(e),t)}async function bA(e){const t=Ya(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Uk(e,t,n){if(ii(e.app))return Promise.reject(qr(e));const r=Ya(e),c=await sg(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&bA(e),m}),d=await ja._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function zk(e,t,n){return ii(e.app)?Promise.reject(qr(e)):Lk(ke(e),ul.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bA(e),r})}function Bk(e,t,n,r){return ke(e).onIdTokenChanged(t,n,r)}function jk(e,t,n){return ke(e).beforeAuthStateChanged(t,n)}function Hk(e,t,n,r){return ke(e).onAuthStateChanged(t,n,r)}function Fk(e){return ke(e).signOut()}const If="__sak";class AA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qk=1e3,Gk=10;class CA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);lk()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Gk):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}CA.type="LOCAL";const Yk=CA;class RA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RA.type="SESSION";const IA=RA;function Kk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new Zf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await Kk(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];function gy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}class Qk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=gy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function yr(){return window}function Xk(e){yr().location.href=e}function xA(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function $k(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wk(){return navigator?.serviceWorker?.controller||null}function Jk(){return xA()?self:null}const DA="firebaseLocalStorageDb",Zk=1,xf="firebaseLocalStorage",OA="fbase_key";class cc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(e,t){return e.transaction([xf],t?"readwrite":"readonly").objectStore(xf)}function tM(){const e=indexedDB.deleteDatabase(DA);return new cc(e).toPromise()}function ag(){const e=indexedDB.open(DA,Zk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(xf,{keyPath:OA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(xf)?t(r):(r.close(),await tM(),t(await ag()))})})}async function U0(e,t,n){const r=td(e,!0).put({[OA]:t,value:n});return new cc(r).toPromise()}async function eM(e,t){const n=td(e,!1).get(t),r=await new cc(n).toPromise();return r===void 0?null:r.value}function z0(e,t){const n=td(e,!0).delete(t);return new cc(n).toPromise()}const nM=800,iM=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>iM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(Jk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $k(),!this.activeServiceWorker)return;this.sender=new Qk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Wk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ag();return await U0(t,If,"1"),await z0(t,If),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>eM(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=td(a,!1).getAll();return new cc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const rM=NA;new oc(3e4,6e4);function sM(e,t){return t?Hr(t):(xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class yy extends py{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aM(e){return SA(e.auth,new yy(e),e.bypassAuthState)}function oM(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Vk(n,new yy(e),e.bypassAuthState)}async function lM(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Pk(n,new yy(e),e.bypassAuthState)}class kA{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return lM;case"reauthViaPopup":case"reauthViaRedirect":return oM;default:Ui(this.auth,"internal-error")}}resolve(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uM=new oc(2e3,1e4);class Go extends kA{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const t=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uM.get())};t()}}Go.currentPopupAction=null;const cM="pendingRedirect",af=new Map;class hM extends kA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const r=await fM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fM(e,t){const n=mM(t),r=pM(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function dM(e,t){af.set(e._key(),t)}function pM(e){return Hr(e._redirectPersistence)}function mM(e){return sf(cM,e.config.apiKey,e.name)}async function gM(e,t,n=!1){if(ii(e.app))return Promise.reject(qr(e));const r=Ya(e),a=sM(r,t),c=await new hM(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const yM=600*1e3;class _M{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!MA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(gr(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yM&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(t))}saveEventToCache(t){this.cachedEventUids.add(B0(t)),this.lastProcessedEventTime=Date.now()}}function B0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function MA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function vM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(e);default:return!1}}async function EM(e,t={}){return ea(e,"GET","/v1/projects",t)}const TM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function SM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await EM(e);for(const n of t)try{if(bM(n))return}catch{}Ui(e,"unauthorized-domain")}function bM(e){const t=ig(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!wM.test(n))return!1;if(TM.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const AM=new oc(3e4,6e4);function j0(){const e=yr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function CM(e){return new Promise((t,n)=>{function r(){j0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{j0(),n(gr(e,"network-request-failed"))},timeout:AM.get()})}if(yr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(yr().gapi?.load)r();else{const a=yk("iframefcb");return yr()[a]=()=>{gapi.load?r():n(gr(e,"network-request-failed"))},_A(`${gk()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw of=null,t})}let of=null;function RM(e){return of=of||CM(e),of}const IM=new oc(5e3,15e3),xM="__/auth/iframe",DM="emulator/auth/iframe",OM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kM(e){const t=e.config;xt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?hy(t,DM):`https://${e.config.authDomain}/${xM}`,r={apiKey:t.apiKey,appName:e.name,v:Fa},a=NM.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ju(r).slice(1)}`}async function MM(e){const t=await RM(e),n=yr().gapi;return xt(n,e,"internal-error"),t.open({where:document.body,url:kM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=gr(e,"network-request-failed"),d=yr().setTimeout(()=>{l(c)},IM.get());function m(){yr().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}const PM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VM=500,LM=600,UM="_blank",zM="http://localhost";class H0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(e,t,n,r=VM,a=LM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...PM,width:r.toString(),height:a.toString(),top:l,left:c},p=Cn().toLowerCase();n&&(d=hA(p)?UM:n),uA(p)&&(t=t||zM,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[S,V])=>`${w}${S}=${V},`,"");if(ok(p)&&d!=="_self")return jM(t||"",d),new H0(null);const v=window.open(t||"",d,y);xt(v,e,"popup-blocked");try{v.focus()}catch{}return new H0(v)}function jM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const HM="__/auth/handler",FM="emulator/auth/handler",qM=encodeURIComponent("fac");async function F0(e,t,n,r,a,l){xt(e.config.authDomain,e,"auth-domain-config-required"),xt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Fa,eventId:a};if(t instanceof TA){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",VR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof uc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${qM}=${encodeURIComponent(m)}`:"";return`${GM(e)}?${Ju(d).slice(1)}${p}`}function GM({config:e}){return e.emulator?hy(e,FM):`https://${e.authDomain}/${HM}`}const vm="webStorageSupport";class YM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=gM,this._overrideRedirectResult=dM}async _openPopup(t,n,r,a){Xr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await F0(t,n,r,ig(),a);return BM(t,l,gy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await F0(t,n,r,ig(),a);return Xk(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await MM(t),r=new _M(t);return n.register("authEvent",a=>(xt(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vm,{type:vm},a=>{const l=a?.[0]?.[vm];l!==void 0&&n(!!l),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gA()||cA()||dy()}}const KM=YM;var q0="@firebase/auth",G0="1.12.0";class QM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $M(e){Va(new qs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;xt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(e)},p=new dk(r,a,l,m);return Sk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Va(new qs("auth-internal",t=>{const n=Ya(t.getProvider("auth").getImmediate());return(r=>new QM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(q0,G0,XM(e)),hr(q0,G0,"esm2020")}const WM=300,JM=eS("authIdTokenMaxAge")||WM;let Y0=null;const ZM=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JM)return;const a=n?.token;Y0!==a&&(Y0=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function t4(e=Sg()){const t=kf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=wk(e,{popupRedirectResolver:KM,persistence:[rM,Yk,IA]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=ZM(l.toString());jk(n,c,()=>c(n.currentUser)),Bk(n,d=>c(d))}}const a=Jw("auth");return a&&bk(n,`http://${a}`),n}function e4(){return document.getElementsByTagName("head")?.[0]??document}pk({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=gr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",e4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$M("Browser");const n4={apiKey:"AIzaSyCswu4w1IBaSvbsZ-qvx_wJmUOuEtdhQLU",authDomain:"reflections-match.firebaseapp.com",projectId:"reflections-match",storageBucket:"reflections-match.firebasestorage.app",messagingSenderId:"976571807414",appId:"1:976571807414:web:36070142998611858ed817",measurementId:"G-C1TQVN44XY"},_y=sS(n4),i4=rD(_y),mu=d2(_y),Yh=t4(_y);async function r4(e,t,n=1,r=0){const a=document.createElement("canvas"),l=a.getContext("2d");if(!l)throw new Error("No 2d context");const c=e.naturalWidth/e.width,d=e.naturalHeight/e.height,m=window.devicePixelRatio||1;a.width=Math.floor(t.width*c*m),a.height=Math.floor(t.height*d*m),l.scale(m,m),l.imageSmoothingQuality="high";const p=t.x*c,y=t.y*d,v=r*Math.PI/180,w=e.naturalWidth/2,S=e.naturalHeight/2;return l.save(),l.translate(-p,-y),l.translate(w,S),l.rotate(v),l.scale(n,n),l.translate(-w,-S),l.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),l.restore(),new Promise(V=>{a.toBlob(z=>{if(!z){console.error("Canvas is empty");return}V(z)},"image/png",1)})}var K0;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(K0||(K0={}));var Q0;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Q0||(Q0={}));var X0;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(X0||(X0={}));const $0=["user","model","function","system"];var W0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(W0||(W0={}));var J0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(J0||(J0={}));var Z0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Z0||(Z0={}));var tw;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(tw||(tw={}));var Mu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Mu||(Mu={}));var ew;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(ew||(ew={}));var nw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(nw||(nw={}));var iw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(iw||(iw={}));class An extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class zo extends An{constructor(t,n){super(t),this.response=n}}class PA extends An{constructor(t,n,r,a){super(t),this.status=n,this.statusText=r,this.errorDetails=a}}class Fs extends An{}class VA extends An{}const s4="https://generativelanguage.googleapis.com",a4="v1beta",o4="0.24.1",l4="genai-js";var Ha;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ha||(Ha={}));class u4{constructor(t,n,r,a,l){this.model=t,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=l}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||a4;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||s4}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function c4(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${l4}/${o4}`),t.join(" ")}async function h4(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",c4(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new Fs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,l]of r.entries()){if(a==="x-goog-api-key")throw new Fs(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Fs(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function f4(e,t,n,r,a,l){const c=new u4(e,t,n,r,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},g4(l)),{method:"POST",headers:await h4(c),body:a})}}async function hc(e,t,n,r,a,l={},c=fetch){const{url:d,fetchOptions:m}=await f4(e,t,n,r,a,l);return d4(d,m,c)}async function d4(e,t,n=fetch){let r;try{r=await n(e,t)}catch(a){p4(a,e)}return r.ok||await m4(r,e),r}function p4(e,t){let n=e;throw n.name==="AbortError"?(n=new VA(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof PA||e instanceof Fs||(n=new An(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function m4(e,t){let n="",r;try{const a=await e.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new PA(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function g4(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const n=new AbortController;e?.timeout>=0&&setTimeout(()=>n.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function vy(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),lf(e.candidates[0]))throw new zo(`${Os(e)}`,e);return y4(e)}else if(e.promptFeedback)throw new zo(`Text not available. ${Os(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),lf(e.candidates[0]))throw new zo(`${Os(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),rw(e)[0]}else if(e.promptFeedback)throw new zo(`Function call not available. ${Os(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),lf(e.candidates[0]))throw new zo(`${Os(e)}`,e);return rw(e)}else if(e.promptFeedback)throw new zo(`Function call not available. ${Os(e)}`,e)},e}function y4(e){var t,n,r,a;const l=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const c of(a=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function rw(e){var t,n,r,a;const l=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const c of(a=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const _4=[Mu.RECITATION,Mu.SAFETY,Mu.LANGUAGE];function lf(e){return!!e.finishReason&&_4.includes(e.finishReason)}function Os(e){var t,n,r;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const l=e.candidates[0];lf(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function Qu(e){return this instanceof Qu?(this.v=e,this):new Qu(e)}function v4(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(w){r[w]&&(a[w]=function(S){return new Promise(function(V,z){l.push([w,S,V,z])>1||d(w,S)})})}function d(w,S){try{m(r[w](S))}catch(V){v(l[0][3],V)}}function m(w){w.value instanceof Qu?Promise.resolve(w.value.v).then(p,y):v(l[0][2],w)}function p(w){d("next",w)}function y(w){d("throw",w)}function v(w,S){w(S),l.shift(),l.length&&d(l[0][0],l[0][1])}}const sw=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function E4(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=S4(t),[r,a]=n.tee();return{stream:w4(r),response:T4(a)}}async function T4(e){const t=[],n=e.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return vy(b4(t));t.push(a)}}function w4(e){return v4(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:a}=yield Qu(n.read());if(a)break;yield yield Qu(vy(r))}})}function S4(e){const t=e.getReader();return new ReadableStream({start(r){let a="";return l();function l(){return t.read().then(({value:c,done:d})=>{if(d){if(a.trim()){r.error(new An("Failed to parse stream"));return}r.close();return}a+=c;let m=a.match(sw),p;for(;m;){try{p=JSON.parse(m[1])}catch{r.error(new An(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(p),a=a.substring(m[0].length),m=a.match(sw)}return l()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new VA("Request aborted when reading from the stream"):d=new An("Error reading from the stream"),d})}}})}function b4(e){const t=e[e.length-1],n={promptFeedback:t?.promptFeedback};for(const r of e){if(r.candidates){let a=0;for(const l of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const c={};for(const d of l.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[a].content.parts.push(c)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function LA(e,t,n,r){const a=await hc(t,Ha.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return E4(a)}async function UA(e,t,n,r){const l=await(await hc(t,Ha.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:vy(l)}}function zA(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Xu(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return A4(t)}function A4(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const l of e)"functionResponse"in l?(n.parts.push(l),a=!0):(t.parts.push(l),r=!0);if(r&&a)throw new An("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new An("No content is provided for sending chat message.");return r?t:n}function C4(e,t){var n;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new Fs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(a)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const l=Xu(e);r.contents=[l]}return{generateContentRequest:r}}function aw(e){let t;return e.contents?t=e:t={contents:[Xu(e)]},e.systemInstruction&&(t.systemInstruction=zA(e.systemInstruction)),t}function R4(e){return typeof e=="string"||Array.isArray(e)?{content:Xu(e)}:e}const ow=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],I4={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function x4(e){let t=!1;for(const n of e){const{role:r,parts:a}=n;if(!t&&r!=="user")throw new An(`First content should be with role 'user', got ${r}`);if(!$0.includes(r))throw new An(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify($0)}`);if(!Array.isArray(a))throw new An("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new An("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of a)for(const m of ow)m in d&&(l[m]+=1);const c=I4[r];for(const d of ow)if(!c.includes(d)&&l[d]>0)throw new An(`Content with role '${r}' can't contain '${d}' part`);t=!0}}function lw(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const uw="SILENT_ERROR";class D4{constructor(t,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(x4(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,a,l,c,d,m;await this._sendPromise;const p=Xu(t),y={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),n);let w;return this._sendPromise=this._sendPromise.then(()=>UA(this._apiKey,this.model,y,v)).then(S=>{var V;if(lw(S.response)){this._history.push(p);const z=Object.assign({parts:[],role:"model"},(V=S.response.candidates)===null||V===void 0?void 0:V[0].content);this._history.push(z)}else{const z=Os(S.response);z&&console.warn(`sendMessage() was unsuccessful. ${z}. Inspect response object for details.`)}w=S}).catch(S=>{throw this._sendPromise=Promise.resolve(),S}),await this._sendPromise,w}async sendMessageStream(t,n={}){var r,a,l,c,d,m;await this._sendPromise;const p=Xu(t),y={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),n),w=LA(this._apiKey,this.model,y,v);return this._sendPromise=this._sendPromise.then(()=>w).catch(S=>{throw new Error(uw)}).then(S=>S.response).then(S=>{if(lw(S)){this._history.push(p);const V=Object.assign({},S.candidates[0].content);V.role||(V.role="model"),this._history.push(V)}else{const V=Os(S);V&&console.warn(`sendMessageStream() was unsuccessful. ${V}. Inspect response object for details.`)}}).catch(S=>{S.message!==uw&&console.error(S)}),w}}async function O4(e,t,n,r){return(await hc(t,Ha.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}async function N4(e,t,n,r){return(await hc(t,Ha.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function k4(e,t,n,r){const a=n.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await hc(t,Ha.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),r)).json()}class cw{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=zA(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const a=aw(t),l=Object.assign(Object.assign({},this._requestOptions),n);return UA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}async generateContentStream(t,n={}){var r;const a=aw(t),l=Object.assign(Object.assign({},this._requestOptions),n);return LA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}startChat(t){var n;return new D4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=C4(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return O4(this.apiKey,this.model,r,a)}async embedContent(t,n={}){const r=R4(t),a=Object.assign(Object.assign({},this._requestOptions),n);return N4(this.apiKey,this.model,r,a)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return k4(this.apiKey,this.model,t,r)}}class M4{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new An("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new cw(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Fs("Cached content must contain a `name` field.");if(!t.model)throw new Fs("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const c of a)if(n?.[c]&&t[c]&&n?.[c]!==t[c]){if(c==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(d===m)continue}throw new Fs(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${t[c]})`)}const l=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new cw(this.apiKey,l,r)}}function P4(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const V4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,L4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U4={};function hw(e,t){return(U4.jsx?L4:V4).test(e)}const z4=/[ \t\n\f\r]/g;function B4(e){return typeof e=="object"?e.type==="text"?fw(e.value):!1:fw(e)}function fw(e){return e.replace(z4,"")===""}class fc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}fc.prototype.normal={};fc.prototype.property={};fc.prototype.space=void 0;function BA(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new fc(n,r,t)}function og(e){return e.toLowerCase()}class qn{constructor(t,n){this.attribute=n,this.property=t}}qn.prototype.attribute="";qn.prototype.booleanish=!1;qn.prototype.boolean=!1;qn.prototype.commaOrSpaceSeparated=!1;qn.prototype.commaSeparated=!1;qn.prototype.defined=!1;qn.prototype.mustUseProperty=!1;qn.prototype.number=!1;qn.prototype.overloadedBoolean=!1;qn.prototype.property="";qn.prototype.spaceSeparated=!1;qn.prototype.space=void 0;let j4=0;const Bt=Ka(),We=Ka(),lg=Ka(),lt=Ka(),ye=Ka(),$o=Ka(),ni=Ka();function Ka(){return 2**++j4}const ug=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bt,booleanish:We,commaOrSpaceSeparated:ni,commaSeparated:$o,number:lt,overloadedBoolean:lg,spaceSeparated:ye},Symbol.toStringTag,{value:"Module"})),Em=Object.keys(ug);class Ey extends qn{constructor(t,n,r,a){let l=-1;if(super(t,n),dw(this,"space",a),typeof r=="number")for(;++l<Em.length;){const c=Em[l];dw(this,Em[l],(r&ug[c])===ug[c])}}}Ey.prototype.defined=!0;function dw(e,t,n){n&&(e[t]=n)}function cl(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const l=new Ey(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[og(r)]=r,n[og(l.attribute)]=r}return new fc(t,n,e.space)}const jA=cl({properties:{ariaActiveDescendant:null,ariaAtomic:We,ariaAutoComplete:null,ariaBusy:We,ariaChecked:We,ariaColCount:lt,ariaColIndex:lt,ariaColSpan:lt,ariaControls:ye,ariaCurrent:null,ariaDescribedBy:ye,ariaDetails:null,ariaDisabled:We,ariaDropEffect:ye,ariaErrorMessage:null,ariaExpanded:We,ariaFlowTo:ye,ariaGrabbed:We,ariaHasPopup:null,ariaHidden:We,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ye,ariaLevel:lt,ariaLive:null,ariaModal:We,ariaMultiLine:We,ariaMultiSelectable:We,ariaOrientation:null,ariaOwns:ye,ariaPlaceholder:null,ariaPosInSet:lt,ariaPressed:We,ariaReadOnly:We,ariaRelevant:null,ariaRequired:We,ariaRoleDescription:ye,ariaRowCount:lt,ariaRowIndex:lt,ariaRowSpan:lt,ariaSelected:We,ariaSetSize:lt,ariaSort:null,ariaValueMax:lt,ariaValueMin:lt,ariaValueNow:lt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function HA(e,t){return t in e?e[t]:t}function FA(e,t){return HA(e,t.toLowerCase())}const H4=cl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$o,acceptCharset:ye,accessKey:ye,action:null,allow:null,allowFullScreen:Bt,allowPaymentRequest:Bt,allowUserMedia:Bt,alt:null,as:null,async:Bt,autoCapitalize:null,autoComplete:ye,autoFocus:Bt,autoPlay:Bt,blocking:ye,capture:null,charSet:null,checked:Bt,cite:null,className:ye,cols:lt,colSpan:null,content:null,contentEditable:We,controls:Bt,controlsList:ye,coords:lt|$o,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bt,defer:Bt,dir:null,dirName:null,disabled:Bt,download:lg,draggable:We,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bt,formTarget:null,headers:ye,height:lt,hidden:lg,high:lt,href:null,hrefLang:null,htmlFor:ye,httpEquiv:ye,id:null,imageSizes:null,imageSrcSet:null,inert:Bt,inputMode:null,integrity:null,is:null,isMap:Bt,itemId:null,itemProp:ye,itemRef:ye,itemScope:Bt,itemType:ye,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bt,low:lt,manifest:null,max:null,maxLength:lt,media:null,method:null,min:null,minLength:lt,multiple:Bt,muted:Bt,name:null,nonce:null,noModule:Bt,noValidate:Bt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bt,optimum:lt,pattern:null,ping:ye,placeholder:null,playsInline:Bt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Bt,referrerPolicy:null,rel:ye,required:Bt,reversed:Bt,rows:lt,rowSpan:lt,sandbox:ye,scope:null,scoped:Bt,seamless:Bt,selected:Bt,shadowRootClonable:Bt,shadowRootDelegatesFocus:Bt,shadowRootMode:null,shape:null,size:lt,sizes:null,slot:null,span:lt,spellCheck:We,src:null,srcDoc:null,srcLang:null,srcSet:null,start:lt,step:null,style:null,tabIndex:lt,target:null,title:null,translate:null,type:null,typeMustMatch:Bt,useMap:null,value:We,width:lt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ye,axis:null,background:null,bgColor:null,border:lt,borderColor:null,bottomMargin:lt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bt,declare:Bt,event:null,face:null,frame:null,frameBorder:null,hSpace:lt,leftMargin:lt,link:null,longDesc:null,lowSrc:null,marginHeight:lt,marginWidth:lt,noResize:Bt,noHref:Bt,noShade:Bt,noWrap:Bt,object:null,profile:null,prompt:null,rev:null,rightMargin:lt,rules:null,scheme:null,scrolling:We,standby:null,summary:null,text:null,topMargin:lt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:lt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bt,disableRemotePlayback:Bt,prefix:null,property:null,results:lt,security:null,unselectable:null},space:"html",transform:FA}),F4=cl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ni,accentHeight:lt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:lt,amplitude:lt,arabicForm:null,ascent:lt,attributeName:null,attributeType:null,azimuth:lt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:lt,by:null,calcMode:null,capHeight:lt,className:ye,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:lt,diffuseConstant:lt,direction:null,display:null,dur:null,divisor:lt,dominantBaseline:null,download:Bt,dx:null,dy:null,edgeMode:null,editable:null,elevation:lt,enableBackground:null,end:null,event:null,exponent:lt,externalResourcesRequired:null,fill:null,fillOpacity:lt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$o,g2:$o,glyphName:$o,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:lt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:lt,horizOriginX:lt,horizOriginY:lt,id:null,ideographic:lt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:lt,k:lt,k1:lt,k2:lt,k3:lt,k4:lt,kernelMatrix:ni,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:lt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:lt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:lt,overlineThickness:lt,paintOrder:null,panose1:null,path:null,pathLength:lt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ye,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:lt,pointsAtY:lt,pointsAtZ:lt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ni,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ni,rev:ni,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ni,requiredFeatures:ni,requiredFonts:ni,requiredFormats:ni,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:lt,specularExponent:lt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:lt,strikethroughThickness:lt,string:null,stroke:null,strokeDashArray:ni,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:lt,strokeOpacity:lt,strokeWidth:null,style:null,surfaceScale:lt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ni,tabIndex:lt,tableValues:null,target:null,targetX:lt,targetY:lt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ni,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:lt,underlineThickness:lt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:lt,values:null,vAlphabetic:lt,vMathematical:lt,vectorEffect:null,vHanging:lt,vIdeographic:lt,version:null,vertAdvY:lt,vertOriginX:lt,vertOriginY:lt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:lt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:HA}),qA=cl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),GA=cl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FA}),YA=cl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),q4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},G4=/[A-Z]/g,pw=/-[a-z]/g,Y4=/^data[-\w.:]+$/i;function K4(e,t){const n=og(t);let r=t,a=qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Y4.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(pw,X4);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!pw.test(l)){let c=l.replace(G4,Q4);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}a=Ey}return new a(r,t)}function Q4(e){return"-"+e.toLowerCase()}function X4(e){return e.charAt(1).toUpperCase()}const $4=BA([jA,H4,qA,GA,YA],"html"),Ty=BA([jA,F4,qA,GA,YA],"svg");function W4(e){return e.join(" ").trim()}var Bo={},Tm,mw;function J4(){if(mw)return Tm;mw=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,m=`
`,p="/",y="*",v="",w="comment",S="declaration";function V(j,F){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];F=F||{};var st=1,W=1;function dt(ft){var ot=ft.match(t);ot&&(st+=ot.length);var Y=ft.lastIndexOf(m);W=~Y?ft.length-Y:W+ft.length}function Et(){var ft={line:st,column:W};return function(ot){return ot.position=new $(ft),x(),ot}}function $(ft){this.start=ft,this.end={line:st,column:W},this.source=F.source}$.prototype.content=j;function O(ft){var ot=new Error(F.source+":"+st+":"+W+": "+ft);if(ot.reason=ft,ot.filename=F.source,ot.line=st,ot.column=W,ot.source=j,!F.silent)throw ot}function R(ft){var ot=ft.exec(j);if(ot){var Y=ot[0];return dt(Y),j=j.slice(Y.length),ot}}function x(){R(n)}function P(ft){var ot;for(ft=ft||[];ot=D();)ot!==!1&&ft.push(ot);return ft}function D(){var ft=Et();if(!(p!=j.charAt(0)||y!=j.charAt(1))){for(var ot=2;v!=j.charAt(ot)&&(y!=j.charAt(ot)||p!=j.charAt(ot+1));)++ot;if(ot+=2,v===j.charAt(ot-1))return O("End of comment missing");var Y=j.slice(2,ot-2);return W+=2,dt(Y),j=j.slice(ot),W+=2,ft({type:w,comment:Y})}}function k(){var ft=Et(),ot=R(r);if(ot){if(D(),!R(a))return O("property missing ':'");var Y=R(l),at=ft({type:S,property:z(ot[0].replace(e,v)),value:Y?z(Y[0].replace(e,v)):v});return R(c),at}}function I(){var ft=[];P(ft);for(var ot;ot=k();)ot!==!1&&(ft.push(ot),P(ft));return ft}return x(),I()}function z(j){return j?j.replace(d,v):v}return Tm=V,Tm}var gw;function Z4(){if(gw)return Bo;gw=1;var e=Bo&&Bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.default=n;const t=e(J4());function n(r,a){let l=null;if(!r||typeof r!="string")return l;const c=(0,t.default)(r),d=typeof a=="function";return c.forEach(m=>{if(m.type!=="declaration")return;const{property:p,value:y}=m;d?a(p,y,m):y&&(l=l||{},l[p]=y)}),l}return Bo}var gu={},yw;function tP(){if(yw)return gu;yw=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(p){return!p||n.test(p)||e.test(p)},c=function(p,y){return y.toUpperCase()},d=function(p,y){return"".concat(y,"-")},m=function(p,y){return y===void 0&&(y={}),l(p)?p:(p=p.toLowerCase(),y.reactCompat?p=p.replace(a,d):p=p.replace(r,d),p.replace(t,c))};return gu.camelCase=m,gu}var yu,_w;function eP(){if(_w)return yu;_w=1;var e=yu&&yu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(Z4()),n=tP();function r(a,l){var c={};return!a||typeof a!="string"||(0,t.default)(a,function(d,m){d&&m&&(c[(0,n.camelCase)(d,l)]=m)}),c}return r.default=r,yu=r,yu}var nP=eP();const iP=yg(nP),KA=QA("end"),wy=QA("start");function QA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function rP(e){const t=wy(e),n=KA(e);if(t&&n)return{start:t,end:n}}function Pu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?vw(e.position):"start"in e||"end"in e?vw(e):"line"in e||"column"in e?cg(e):""}function cg(e){return Ew(e&&e.line)+":"+Ew(e&&e.column)}function vw(e){return cg(e&&e.start)+"-"+cg(e&&e.end)}function Ew(e){return e&&typeof e=="number"?e:1}class Rn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?a=t:!l.cause&&t&&(c=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=d?d.line:void 0,this.name=Pu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rn.prototype.file="";Rn.prototype.name="";Rn.prototype.reason="";Rn.prototype.message="";Rn.prototype.stack="";Rn.prototype.column=void 0;Rn.prototype.line=void 0;Rn.prototype.ancestors=void 0;Rn.prototype.cause=void 0;Rn.prototype.fatal=void 0;Rn.prototype.place=void 0;Rn.prototype.ruleId=void 0;Rn.prototype.source=void 0;const Sy={}.hasOwnProperty,sP=new Map,aP=/[A-Z]/g,oP=new Set(["table","tbody","thead","tfoot","tr"]),lP=new Set(["td","th"]),XA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uP(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=yP(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=gP(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ty:$4,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=$A(a,e,void 0);return l&&typeof l!="string"?l:a.create(e,a.Fragment,{children:l||void 0},void 0)}function $A(e,t,n){if(t.type==="element")return cP(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hP(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return dP(e,t,n);if(t.type==="mdxjsEsm")return fP(e,t);if(t.type==="root")return pP(e,t,n);if(t.type==="text")return mP(e,t)}function cP(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Ty,e.schema=a),e.ancestors.push(t);const l=JA(e,t.tagName,!1),c=_P(e,t);let d=Ay(e,t);return oP.has(t.tagName)&&(d=d.filter(function(m){return typeof m=="string"?!B4(m):!0})),WA(e,c,l,t),by(c,d),e.ancestors.pop(),e.schema=r,e.create(t,l,c,n)}function hP(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}$u(e,t.position)}function fP(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$u(e,t.position)}function dP(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Ty,e.schema=a),e.ancestors.push(t);const l=t.name===null?e.Fragment:JA(e,t.name,!0),c=vP(e,t),d=Ay(e,t);return WA(e,c,l,t),by(c,d),e.ancestors.pop(),e.schema=r,e.create(t,l,c,n)}function pP(e,t,n){const r={};return by(r,Ay(e,t)),e.create(t,e.Fragment,r,n)}function mP(e,t){return t.value}function WA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function by(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function gP(e,t,n){return r;function r(a,l,c,d){const p=Array.isArray(c.children)?n:t;return d?p(l,c,d):p(l,c)}}function yP(e,t){return n;function n(r,a,l,c){const d=Array.isArray(l.children),m=wy(r);return t(a,l,c,d,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function _P(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Sy.call(t.properties,a)){const l=EP(e,a,t.properties[a]);if(l){const[c,d]=l;e.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&lP.has(t.tagName)?r=d:n[c]=d}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vP(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const c=l.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else $u(e,t.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const d=r.value.data.estree.body[0];d.type,l=e.evaluater.evaluateExpression(d.expression)}else $u(e,t.position);else l=r.value===null?!0:r.value;n[a]=l}return n}function Ay(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:sP;for(;++r<t.children.length;){const l=t.children[r];let c;if(e.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const p=a.get(m)||0;c=m+"-"+p,a.set(m,p+1)}}const d=$A(e,l,c);d!==void 0&&n.push(d)}return n}function EP(e,t,n){const r=K4(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?P4(n):W4(n)),r.property==="style"){let a=typeof n=="object"?n:TP(e,String(n));return e.stylePropertyNameCase==="css"&&(a=wP(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?q4[r.property]||r.property:r.attribute,n]}}function TP(e,t){try{return iP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Rn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=XA+"#cannot-parse-style-attribute",a}}function JA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,c;for(;++l<a.length;){const d=hw(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}r=c}else r=hw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Sy.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);$u(e)}function $u(e,t){const n=new Rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=XA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function wP(e){const t={};let n;for(n in e)Sy.call(e,n)&&(t[SP(n)]=e[n]);return t}function SP(e){let t=e.replace(aP,bP);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function bP(e){return"-"+e.toLowerCase()}const wm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},AP={};function CP(e,t){const n=AP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ZA(e,r,a)}function ZA(e,t,n){if(RP(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Tw(e.children,t,n)}return Array.isArray(e)?Tw(e,t,n):""}function Tw(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=ZA(e[a],t,n);return r.join("")}function RP(e){return!!(e&&typeof e=="object")}const ww=document.createElement("i");function Cy(e){const t="&"+e+";";ww.innerHTML=t;const n=ww.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vr(e,t,n,r){const a=e.length;let l=0,c;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)c=Array.from(r),c.unshift(t,n),e.splice(...c);else for(n&&e.splice(t,n);l<r.length;)c=r.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function Ei(e,t){return e.length>0?(vr(e,e.length,0,t),e):t}const Sw={}.hasOwnProperty;function IP(e){const t={};let n=-1;for(;++n<e.length;)xP(t,e[n]);return t}function xP(e,t){let n;for(n in t){const a=(Sw.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let c;if(l)for(c in l){Sw.call(a,c)||(a[c]=[]);const d=l[c];DP(a[c],Array.isArray(d)?d:d?[d]:[])}}}function DP(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vr(e,0,0,r)}function t1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ur=na(/[A-Za-z]/),ai=na(/[\dA-Za-z]/),OP=na(/[#-'*+\--9=?A-Z^-~]/);function hg(e){return e!==null&&(e<32||e===127)}const fg=na(/\d/),NP=na(/[\dA-Fa-f]/),kP=na(/[!-/:-@[-`{-~]/);function Ot(e){return e!==null&&e<-2}function Fn(e){return e!==null&&(e<0||e===32)}function ie(e){return e===-2||e===-1||e===32}const MP=na(new RegExp("\\p{P}|\\p{S}","u")),PP=na(/\s/);function na(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function hl(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const l=e.charCodeAt(n);let c="";if(l===37&&ai(e.charCodeAt(n+1))&&ai(e.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(n+1);l<56320&&d>56319&&d<57344?(c=String.fromCharCode(l,d),a=1):c=""}else c=String.fromCharCode(l);c&&(t.push(e.slice(r,n),encodeURIComponent(c)),r=n+a+1,c=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function ve(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(m){return ie(m)?(e.enter(n),d(m)):t(m)}function d(m){return ie(m)&&l++<a?(e.consume(m),d):(e.exit(n),t(m))}}const VP={tokenize:LP};function LP(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),ve(e,t,"linePrefix")}function a(d){return e.enter("paragraph"),l(d)}function l(d){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,c(d)}function c(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Ot(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),c)}}const UP={tokenize:zP},bw={tokenize:BP};function zP(e){const t=this,n=[];let r=0,a,l,c;return d;function d(W){if(r<n.length){const dt=n[r];return t.containerState=dt[1],e.attempt(dt[0].continuation,m,p)(W)}return p(W)}function m(W){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&st();const dt=t.events.length;let Et=dt,$;for(;Et--;)if(t.events[Et][0]==="exit"&&t.events[Et][1].type==="chunkFlow"){$=t.events[Et][1].end;break}F(r);let O=dt;for(;O<t.events.length;)t.events[O][1].end={...$},O++;return vr(t.events,Et+1,0,t.events.slice(dt)),t.events.length=O,p(W)}return d(W)}function p(W){if(r===n.length){if(!a)return w(W);if(a.currentConstruct&&a.currentConstruct.concrete)return V(W);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(bw,y,v)(W)}function y(W){return a&&st(),F(r),w(W)}function v(W){return t.parser.lazy[t.now().line]=r!==n.length,c=t.now().offset,V(W)}function w(W){return t.containerState={},e.attempt(bw,S,V)(W)}function S(W){return r++,n.push([t.currentConstruct,t.containerState]),w(W)}function V(W){if(W===null){a&&st(),F(0),e.consume(W);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),z(W)}function z(W){if(W===null){j(e.exit("chunkFlow"),!0),F(0),e.consume(W);return}return Ot(W)?(e.consume(W),j(e.exit("chunkFlow")),r=0,t.interrupt=void 0,d):(e.consume(W),z)}function j(W,dt){const Et=t.sliceStream(W);if(dt&&Et.push(null),W.previous=l,l&&(l.next=W),l=W,a.defineSkip(W.start),a.write(Et),t.parser.lazy[W.start.line]){let $=a.events.length;for(;$--;)if(a.events[$][1].start.offset<c&&(!a.events[$][1].end||a.events[$][1].end.offset>c))return;const O=t.events.length;let R=O,x,P;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(x){P=t.events[R][1].end;break}x=!0}for(F(r),$=O;$<t.events.length;)t.events[$][1].end={...P},$++;vr(t.events,R+1,0,t.events.slice(O)),t.events.length=$}}function F(W){let dt=n.length;for(;dt-- >W;){const Et=n[dt];t.containerState=Et[1],Et[0].exit.call(t,e)}n.length=W}function st(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function BP(e,t,n){return ve(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Aw(e){if(e===null||Fn(e)||PP(e))return 1;if(MP(e))return 2}function Ry(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const l=e[a].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const dg={name:"attention",resolveAll:jP,tokenize:HP};function jP(e,t){let n=-1,r,a,l,c,d,m,p,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[r][1].end},w={...e[n][1].start};Cw(v,-m),Cw(w,m),c={type:m>1?"strongSequence":"emphasisSequence",start:v,end:{...e[r][1].end}},d={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:w},l={type:m>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},e[r][1].end={...c.start},e[n][1].start={...d.end},p=[],e[r][1].end.offset-e[r][1].start.offset&&(p=Ei(p,[["enter",e[r][1],t],["exit",e[r][1],t]])),p=Ei(p,[["enter",a,t],["enter",c,t],["exit",c,t],["enter",l,t]]),p=Ei(p,Ry(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),p=Ei(p,[["exit",l,t],["enter",d,t],["exit",d,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,p=Ei(p,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,vr(e,r-1,n-r+3,p),n=r+p.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function HP(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Aw(r);let l;return c;function c(m){return l=m,e.enter("attentionSequence"),d(m)}function d(m){if(m===l)return e.consume(m),d;const p=e.exit("attentionSequence"),y=Aw(m),v=!y||y===2&&a||n.includes(m),w=!a||a===2&&y||n.includes(r);return p._open=!!(l===42?v:v&&(a||!w)),p._close=!!(l===42?w:w&&(y||!v)),t(m)}}function Cw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const FP={name:"autolink",tokenize:qP};function qP(e,t,n){let r=0;return a;function a(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return ur(S)?(e.consume(S),c):S===64?n(S):p(S)}function c(S){return S===43||S===45||S===46||ai(S)?(r=1,d(S)):p(S)}function d(S){return S===58?(e.consume(S),r=0,m):(S===43||S===45||S===46||ai(S))&&r++<32?(e.consume(S),d):(r=0,p(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||hg(S)?n(S):(e.consume(S),m)}function p(S){return S===64?(e.consume(S),y):OP(S)?(e.consume(S),p):n(S)}function y(S){return ai(S)?v(S):n(S)}function v(S){return S===46?(e.consume(S),r=0,y):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):w(S)}function w(S){if((S===45||ai(S))&&r++<63){const V=S===45?w:v;return e.consume(S),V}return n(S)}}const ed={partial:!0,tokenize:GP};function GP(e,t,n){return r;function r(l){return ie(l)?ve(e,a,"linePrefix")(l):a(l)}function a(l){return l===null||Ot(l)?t(l):n(l)}}const e1={continuation:{tokenize:KP},exit:QP,name:"blockQuote",tokenize:YP};function YP(e,t,n){const r=this;return a;function a(c){if(c===62){const d=r.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return n(c)}function l(c){return ie(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function KP(e,t,n){const r=this;return a;function a(c){return ie(c)?ve(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(e1,t,n)(c)}}function QP(e){e.exit("blockQuote")}const n1={name:"characterEscape",tokenize:XP};function XP(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),a}function a(l){return kP(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const i1={name:"characterReference",tokenize:$P};function $P(e,t,n){const r=this;let a=0,l,c;return d;function d(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),m}function m(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),l=31,c=ai,y(v))}function p(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=NP,y):(e.enter("characterReferenceValue"),l=7,c=fg,y(v))}function y(v){if(v===59&&a){const w=e.exit("characterReferenceValue");return c===ai&&!Cy(r.sliceSerialize(w))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(v)&&a++<l?(e.consume(v),y):n(v)}}const Rw={partial:!0,tokenize:JP},Iw={concrete:!0,name:"codeFenced",tokenize:WP};function WP(e,t,n){const r=this,a={partial:!0,tokenize:Et};let l=0,c=0,d;return m;function m($){return p($)}function p($){const O=r.events[r.events.length-1];return l=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,d=$,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y($)}function y($){return $===d?(c++,e.consume($),y):c<3?n($):(e.exit("codeFencedFenceSequence"),ie($)?ve(e,v,"whitespace")($):v($))}function v($){return $===null||Ot($)?(e.exit("codeFencedFence"),r.interrupt?t($):e.check(Rw,z,dt)($)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),w($))}function w($){return $===null||Ot($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v($)):ie($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ve(e,S,"whitespace")($)):$===96&&$===d?n($):(e.consume($),w)}function S($){return $===null||Ot($)?v($):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),V($))}function V($){return $===null||Ot($)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v($)):$===96&&$===d?n($):(e.consume($),V)}function z($){return e.attempt(a,dt,j)($)}function j($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),F}function F($){return l>0&&ie($)?ve(e,st,"linePrefix",l+1)($):st($)}function st($){return $===null||Ot($)?e.check(Rw,z,dt)($):(e.enter("codeFlowValue"),W($))}function W($){return $===null||Ot($)?(e.exit("codeFlowValue"),st($)):(e.consume($),W)}function dt($){return e.exit("codeFenced"),t($)}function Et($,O,R){let x=0;return P;function P(ot){return $.enter("lineEnding"),$.consume(ot),$.exit("lineEnding"),D}function D(ot){return $.enter("codeFencedFence"),ie(ot)?ve($,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ot):k(ot)}function k(ot){return ot===d?($.enter("codeFencedFenceSequence"),I(ot)):R(ot)}function I(ot){return ot===d?(x++,$.consume(ot),I):x>=c?($.exit("codeFencedFenceSequence"),ie(ot)?ve($,ft,"whitespace")(ot):ft(ot)):R(ot)}function ft(ot){return ot===null||Ot(ot)?($.exit("codeFencedFence"),O(ot)):R(ot)}}}function JP(e,t,n){const r=this;return a;function a(c){return c===null?n(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return r.parser.lazy[r.now().line]?n(c):t(c)}}const Sm={name:"codeIndented",tokenize:tV},ZP={partial:!0,tokenize:eV};function tV(e,t,n){const r=this;return a;function a(p){return e.enter("codeIndented"),ve(e,l,"linePrefix",5)(p)}function l(p){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(p):n(p)}function c(p){return p===null?m(p):Ot(p)?e.attempt(ZP,c,m)(p):(e.enter("codeFlowValue"),d(p))}function d(p){return p===null||Ot(p)?(e.exit("codeFlowValue"),c(p)):(e.consume(p),d)}function m(p){return e.exit("codeIndented"),t(p)}}function eV(e,t,n){const r=this;return a;function a(c){return r.parser.lazy[r.now().line]?n(c):Ot(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):ve(e,l,"linePrefix",5)(c)}function l(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):Ot(c)?a(c):n(c)}}const nV={name:"codeText",previous:rV,resolve:iV,tokenize:sV};function iV(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function rV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sV(e,t,n){let r=0,a,l;return c;function c(v){return e.enter("codeText"),e.enter("codeTextSequence"),d(v)}function d(v){return v===96?(e.consume(v),r++,d):(e.exit("codeTextSequence"),m(v))}function m(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),m):v===96?(l=e.enter("codeTextSequence"),a=0,y(v)):Ot(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),m):(e.enter("codeTextData"),p(v))}function p(v){return v===null||v===32||v===96||Ot(v)?(e.exit("codeTextData"),m(v)):(e.consume(v),p)}function y(v){return v===96?(e.consume(v),a++,y):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(l.type="codeTextData",p(v))}}class aV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&_u(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_u(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_u(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_u(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_u(this.left,n.reverse())}}}function _u(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function r1(e){const t={};let n=-1,r,a,l,c,d,m,p;const y=new aV(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(r=y.get(n),n&&r[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,oV(y,n)),n=t[n],p=!0);else if(r[1]._container){for(l=n,a=void 0;l--;)if(c=y.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(r[1].end={...y.get(a)[1].start},d=y.slice(a,n),d.unshift(r),y.splice(a,n-a+1,d))}}return vr(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!p}function oV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const l=[];let c=n._tokenizer;c||(c=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,m=[],p={};let y,v,w=-1,S=n,V=0,z=0;const j=[z];for(;S;){for(;e.get(++a)[1]!==S;);l.push(a),S._tokenizer||(y=r.sliceStream(S),S.next||y.push(null),v&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),v=S,S=S.next}for(S=n;++w<d.length;)d[w][0]==="exit"&&d[w-1][0]==="enter"&&d[w][1].type===d[w-1][1].type&&d[w][1].start.line!==d[w][1].end.line&&(z=w+1,j.push(z),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):j.pop(),w=j.length;w--;){const F=d.slice(j[w],j[w+1]),st=l.pop();m.push([st,st+F.length-1]),e.splice(st,2,F)}for(m.reverse(),w=-1;++w<m.length;)p[V+m[w][0]]=V+m[w][1],V+=m[w][1]-m[w][0]-1;return p}const lV={resolve:cV,tokenize:hV},uV={partial:!0,tokenize:fV};function cV(e){return r1(e),e}function hV(e,t){let n;return r;function r(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(d)}function a(d){return d===null?l(d):Ot(d)?e.check(uV,c,l)(d):(e.consume(d),a)}function l(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function c(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function fV(e,t,n){const r=this;return a;function a(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),ve(e,l,"linePrefix")}function l(c){if(c===null||Ot(c))return n(c);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):e.interrupt(r.parser.constructs.flow,n,t)(c)}}function s1(e,t,n,r,a,l,c,d,m){const p=m||Number.POSITIVE_INFINITY;let y=0;return v;function v(F){return F===60?(e.enter(r),e.enter(a),e.enter(l),e.consume(F),e.exit(l),w):F===null||F===32||F===41||hg(F)?n(F):(e.enter(r),e.enter(c),e.enter(d),e.enter("chunkString",{contentType:"string"}),z(F))}function w(F){return F===62?(e.enter(l),e.consume(F),e.exit(l),e.exit(a),e.exit(r),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),S(F))}function S(F){return F===62?(e.exit("chunkString"),e.exit(d),w(F)):F===null||F===60||Ot(F)?n(F):(e.consume(F),F===92?V:S)}function V(F){return F===60||F===62||F===92?(e.consume(F),S):S(F)}function z(F){return!y&&(F===null||F===41||Fn(F))?(e.exit("chunkString"),e.exit(d),e.exit(c),e.exit(r),t(F)):y<p&&F===40?(e.consume(F),y++,z):F===41?(e.consume(F),y--,z):F===null||F===32||F===40||hg(F)?n(F):(e.consume(F),F===92?j:z)}function j(F){return F===40||F===41||F===92?(e.consume(F),z):z(F)}}function a1(e,t,n,r,a,l){const c=this;let d=0,m;return p;function p(S){return e.enter(r),e.enter(a),e.consume(S),e.exit(a),e.enter(l),y}function y(S){return d>999||S===null||S===91||S===93&&!m||S===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(S):S===93?(e.exit(l),e.enter(a),e.consume(S),e.exit(a),e.exit(r),t):Ot(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||S===91||S===93||Ot(S)||d++>999?(e.exit("chunkString"),y(S)):(e.consume(S),m||(m=!ie(S)),S===92?w:v)}function w(S){return S===91||S===92||S===93?(e.consume(S),d++,v):v(S)}}function o1(e,t,n,r,a,l){let c;return d;function d(w){return w===34||w===39||w===40?(e.enter(r),e.enter(a),e.consume(w),e.exit(a),c=w===40?41:w,m):n(w)}function m(w){return w===c?(e.enter(a),e.consume(w),e.exit(a),e.exit(r),t):(e.enter(l),p(w))}function p(w){return w===c?(e.exit(l),m(c)):w===null?n(w):Ot(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),ve(e,p,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===c||w===null||Ot(w)?(e.exit("chunkString"),p(w)):(e.consume(w),w===92?v:y)}function v(w){return w===c||w===92?(e.consume(w),y):y(w)}}function Vu(e,t){let n;return r;function r(a){return Ot(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):ie(a)?ve(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const dV={name:"definition",tokenize:mV},pV={partial:!0,tokenize:gV};function mV(e,t,n){const r=this;let a;return l;function l(S){return e.enter("definition"),c(S)}function c(S){return a1.call(r,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function d(S){return a=Wo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return Fn(S)?Vu(e,p)(S):p(S)}function p(S){return s1(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function y(S){return e.attempt(pV,v,v)(S)}function v(S){return ie(S)?ve(e,w,"whitespace")(S):w(S)}function w(S){return S===null||Ot(S)?(e.exit("definition"),r.parser.defined.push(a),t(S)):n(S)}}function gV(e,t,n){return r;function r(d){return Fn(d)?Vu(e,a)(d):n(d)}function a(d){return o1(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return ie(d)?ve(e,c,"whitespace")(d):c(d)}function c(d){return d===null||Ot(d)?t(d):n(d)}}const yV={name:"hardBreakEscape",tokenize:_V};function _V(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),a}function a(l){return Ot(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const vV={name:"headingAtx",resolve:EV,tokenize:TV};function EV(e,t){let n=e.length-2,r=3,a,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vr(e,r,n-r+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),e}function TV(e,t,n){let r=0;return a;function a(y){return e.enter("atxHeading"),l(y)}function l(y){return e.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&r++<6?(e.consume(y),c):y===null||Fn(y)?(e.exit("atxHeadingSequence"),d(y)):n(y)}function d(y){return y===35?(e.enter("atxHeadingSequence"),m(y)):y===null||Ot(y)?(e.exit("atxHeading"),t(y)):ie(y)?ve(e,d,"whitespace")(y):(e.enter("atxHeadingText"),p(y))}function m(y){return y===35?(e.consume(y),m):(e.exit("atxHeadingSequence"),d(y))}function p(y){return y===null||y===35||Fn(y)?(e.exit("atxHeadingText"),d(y)):(e.consume(y),p)}}const wV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xw=["pre","script","style","textarea"],SV={concrete:!0,name:"htmlFlow",resolveTo:CV,tokenize:RV},bV={partial:!0,tokenize:xV},AV={partial:!0,tokenize:IV};function CV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function RV(e,t,n){const r=this;let a,l,c,d,m;return p;function p(C){return y(C)}function y(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),v}function v(C){return C===33?(e.consume(C),w):C===47?(e.consume(C),l=!0,z):C===63?(e.consume(C),a=3,r.interrupt?t:N):ur(C)?(e.consume(C),c=String.fromCharCode(C),j):n(C)}function w(C){return C===45?(e.consume(C),a=2,S):C===91?(e.consume(C),a=5,d=0,V):ur(C)?(e.consume(C),a=4,r.interrupt?t:N):n(C)}function S(C){return C===45?(e.consume(C),r.interrupt?t:N):n(C)}function V(C){const ht="CDATA[";return C===ht.charCodeAt(d++)?(e.consume(C),d===ht.length?r.interrupt?t:k:V):n(C)}function z(C){return ur(C)?(e.consume(C),c=String.fromCharCode(C),j):n(C)}function j(C){if(C===null||C===47||C===62||Fn(C)){const ht=C===47,St=c.toLowerCase();return!ht&&!l&&xw.includes(St)?(a=1,r.interrupt?t(C):k(C)):wV.includes(c.toLowerCase())?(a=6,ht?(e.consume(C),F):r.interrupt?t(C):k(C)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):l?st(C):W(C))}return C===45||ai(C)?(e.consume(C),c+=String.fromCharCode(C),j):n(C)}function F(C){return C===62?(e.consume(C),r.interrupt?t:k):n(C)}function st(C){return ie(C)?(e.consume(C),st):P(C)}function W(C){return C===47?(e.consume(C),P):C===58||C===95||ur(C)?(e.consume(C),dt):ie(C)?(e.consume(C),W):P(C)}function dt(C){return C===45||C===46||C===58||C===95||ai(C)?(e.consume(C),dt):Et(C)}function Et(C){return C===61?(e.consume(C),$):ie(C)?(e.consume(C),Et):W(C)}function $(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),m=C,O):ie(C)?(e.consume(C),$):R(C)}function O(C){return C===m?(e.consume(C),m=null,x):C===null||Ot(C)?n(C):(e.consume(C),O)}function R(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Fn(C)?Et(C):(e.consume(C),R)}function x(C){return C===47||C===62||ie(C)?W(C):n(C)}function P(C){return C===62?(e.consume(C),D):n(C)}function D(C){return C===null||Ot(C)?k(C):ie(C)?(e.consume(C),D):n(C)}function k(C){return C===45&&a===2?(e.consume(C),Y):C===60&&a===1?(e.consume(C),at):C===62&&a===4?(e.consume(C),L):C===63&&a===3?(e.consume(C),N):C===93&&a===5?(e.consume(C),kt):Ot(C)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(bV,J,I)(C)):C===null||Ot(C)?(e.exit("htmlFlowData"),I(C)):(e.consume(C),k)}function I(C){return e.check(AV,ft,J)(C)}function ft(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),ot}function ot(C){return C===null||Ot(C)?I(C):(e.enter("htmlFlowData"),k(C))}function Y(C){return C===45?(e.consume(C),N):k(C)}function at(C){return C===47?(e.consume(C),c="",yt):k(C)}function yt(C){if(C===62){const ht=c.toLowerCase();return xw.includes(ht)?(e.consume(C),L):k(C)}return ur(C)&&c.length<8?(e.consume(C),c+=String.fromCharCode(C),yt):k(C)}function kt(C){return C===93?(e.consume(C),N):k(C)}function N(C){return C===62?(e.consume(C),L):C===45&&a===2?(e.consume(C),N):k(C)}function L(C){return C===null||Ot(C)?(e.exit("htmlFlowData"),J(C)):(e.consume(C),L)}function J(C){return e.exit("htmlFlow"),t(C)}}function IV(e,t,n){const r=this;return a;function a(c){return Ot(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):n(c)}function l(c){return r.parser.lazy[r.now().line]?n(c):t(c)}}function xV(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(ed,t,n)}}const DV={name:"htmlText",tokenize:OV};function OV(e,t,n){const r=this;let a,l,c;return d;function d(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),m}function m(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),Et):N===63?(e.consume(N),W):ur(N)?(e.consume(N),R):n(N)}function p(N){return N===45?(e.consume(N),y):N===91?(e.consume(N),l=0,V):ur(N)?(e.consume(N),st):n(N)}function y(N){return N===45?(e.consume(N),S):n(N)}function v(N){return N===null?n(N):N===45?(e.consume(N),w):Ot(N)?(c=v,at(N)):(e.consume(N),v)}function w(N){return N===45?(e.consume(N),S):v(N)}function S(N){return N===62?Y(N):N===45?w(N):v(N)}function V(N){const L="CDATA[";return N===L.charCodeAt(l++)?(e.consume(N),l===L.length?z:V):n(N)}function z(N){return N===null?n(N):N===93?(e.consume(N),j):Ot(N)?(c=z,at(N)):(e.consume(N),z)}function j(N){return N===93?(e.consume(N),F):z(N)}function F(N){return N===62?Y(N):N===93?(e.consume(N),F):z(N)}function st(N){return N===null||N===62?Y(N):Ot(N)?(c=st,at(N)):(e.consume(N),st)}function W(N){return N===null?n(N):N===63?(e.consume(N),dt):Ot(N)?(c=W,at(N)):(e.consume(N),W)}function dt(N){return N===62?Y(N):W(N)}function Et(N){return ur(N)?(e.consume(N),$):n(N)}function $(N){return N===45||ai(N)?(e.consume(N),$):O(N)}function O(N){return Ot(N)?(c=O,at(N)):ie(N)?(e.consume(N),O):Y(N)}function R(N){return N===45||ai(N)?(e.consume(N),R):N===47||N===62||Fn(N)?x(N):n(N)}function x(N){return N===47?(e.consume(N),Y):N===58||N===95||ur(N)?(e.consume(N),P):Ot(N)?(c=x,at(N)):ie(N)?(e.consume(N),x):Y(N)}function P(N){return N===45||N===46||N===58||N===95||ai(N)?(e.consume(N),P):D(N)}function D(N){return N===61?(e.consume(N),k):Ot(N)?(c=D,at(N)):ie(N)?(e.consume(N),D):x(N)}function k(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),a=N,I):Ot(N)?(c=k,at(N)):ie(N)?(e.consume(N),k):(e.consume(N),ft)}function I(N){return N===a?(e.consume(N),a=void 0,ot):N===null?n(N):Ot(N)?(c=I,at(N)):(e.consume(N),I)}function ft(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Fn(N)?x(N):(e.consume(N),ft)}function ot(N){return N===47||N===62||Fn(N)?x(N):n(N)}function Y(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function at(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),yt}function yt(N){return ie(N)?ve(e,kt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):kt(N)}function kt(N){return e.enter("htmlTextData"),c(N)}}const Iy={name:"labelEnd",resolveAll:PV,resolveTo:VV,tokenize:LV},NV={tokenize:UV},kV={tokenize:zV},MV={tokenize:BV};function PV(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&vr(e,0,e.length,n),e}function VV(e,t){let n=e.length,r=0,a,l,c,d;for(;n--;)if(a=e[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(c=n);const m={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},p={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},y={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[c-2][1].start}};return d=[["enter",m,t],["enter",p,t]],d=Ei(d,e.slice(l+1,l+r+3)),d=Ei(d,[["enter",y,t]]),d=Ei(d,Ry(t.parser.constructs.insideSpan.null,e.slice(l+r+4,c-3),t)),d=Ei(d,[["exit",y,t],e[c-2],e[c-1],["exit",p,t]]),d=Ei(d,e.slice(c+1)),d=Ei(d,[["exit",m,t]]),vr(e,l,e.length,d),e}function LV(e,t,n){const r=this;let a=r.events.length,l,c;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return d;function d(w){return l?l._inactive?v(w):(c=r.parser.defined.includes(Wo(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(w),e.exit("labelMarker"),e.exit("labelEnd"),m):n(w)}function m(w){return w===40?e.attempt(NV,y,c?y:v)(w):w===91?e.attempt(kV,y,c?p:v)(w):c?y(w):v(w)}function p(w){return e.attempt(MV,y,v)(w)}function y(w){return t(w)}function v(w){return l._balanced=!0,n(w)}}function UV(e,t,n){return r;function r(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),a}function a(v){return Fn(v)?Vu(e,l)(v):l(v)}function l(v){return v===41?y(v):s1(e,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function c(v){return Fn(v)?Vu(e,m)(v):y(v)}function d(v){return n(v)}function m(v){return v===34||v===39||v===40?o1(e,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function p(v){return Fn(v)?Vu(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function zV(e,t,n){const r=this;return a;function a(d){return a1.call(r,e,l,c,"reference","referenceMarker","referenceString")(d)}function l(d){return r.parser.defined.includes(Wo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function c(d){return n(d)}}function BV(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),a}function a(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const jV={name:"labelStartImage",resolveAll:Iy.resolveAll,tokenize:HV};function HV(e,t,n){const r=this;return a;function a(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(d):t(d)}}const FV={name:"labelStartLink",resolveAll:Iy.resolveAll,tokenize:qV};function qV(e,t,n){const r=this;return a;function a(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const bm={name:"lineEnding",tokenize:GV};function GV(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ve(e,t,"linePrefix")}}const uf={name:"thematicBreak",tokenize:YV};function YV(e,t,n){let r=0,a;return l;function l(p){return e.enter("thematicBreak"),c(p)}function c(p){return a=p,d(p)}function d(p){return p===a?(e.enter("thematicBreakSequence"),m(p)):r>=3&&(p===null||Ot(p))?(e.exit("thematicBreak"),t(p)):n(p)}function m(p){return p===a?(e.consume(p),r++,m):(e.exit("thematicBreakSequence"),ie(p)?ve(e,d,"whitespace")(p):d(p))}}const Bn={continuation:{tokenize:$V},exit:JV,name:"list",tokenize:XV},KV={partial:!0,tokenize:ZV},QV={partial:!0,tokenize:WV};function XV(e,t,n){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return d;function d(S){const V=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(V==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:fg(S)){if(r.containerState.type||(r.containerState.type=V,e.enter(V,{_container:!0})),V==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(uf,n,p)(S):p(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return fg(S)&&++c<10?(e.consume(S),m):(!r.interrupt||c<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),p(S)):n(S)}function p(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(ed,r.interrupt?n:y,e.attempt(KV,w,v))}function y(S){return r.containerState.initialBlankLine=!0,l++,w(S)}function v(S){return ie(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),w):n(S)}function w(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function $V(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ed,a,l);function a(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ve(e,t,"listItemIndent",r.containerState.size+1)(d)}function l(d){return r.containerState.furtherBlankLines||!ie(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(QV,t,c)(d))}function c(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,ve(e,e.attempt(Bn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function WV(e,t,n){const r=this;return ve(e,a,"listItemIndent",r.containerState.size+1);function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(l):n(l)}}function JV(e){e.exit(this.containerState.type)}function ZV(e,t,n){const r=this;return ve(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=r.events[r.events.length-1];return!ie(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Dw={name:"setextUnderline",resolveTo:tL,tokenize:eL};function tL(e,t){let n=e.length,r,a,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",l?(e.splice(a,0,["enter",c,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=c,e.push(["exit",c,t]),e}function eL(e,t,n){const r=this;let a;return l;function l(p){let y=r.events.length,v;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){v=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(e.enter("setextHeadingLine"),a=p,c(p)):n(p)}function c(p){return e.enter("setextHeadingLineSequence"),d(p)}function d(p){return p===a?(e.consume(p),d):(e.exit("setextHeadingLineSequence"),ie(p)?ve(e,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Ot(p)?(e.exit("setextHeadingLine"),t(p)):n(p)}}const nL={tokenize:iL};function iL(e){const t=this,n=e.attempt(ed,r,e.attempt(this.parser.constructs.flowInitial,a,ve(e,e.attempt(this.parser.constructs.flow,a,e.attempt(lV,a)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const rL={resolveAll:u1()},sL=l1("string"),aL=l1("text");function l1(e){return{resolveAll:u1(e==="text"?oL:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],l=n.attempt(a,c,d);return c;function c(y){return p(y)?l(y):d(y)}function d(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),m}function m(y){return p(y)?(n.exit("data"),l(y)):(n.consume(y),m)}function p(y){if(y===null)return!0;const v=a[y];let w=-1;if(v)for(;++w<v.length;){const S=v[w];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function u1(e){return t;function t(n,r){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return e?e(n,r):n}}function oL(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let l=a.length,c=-1,d=0,m;for(;l--;){const p=a[l];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(p===-2)m=!0,d++;else if(p!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const p={type:n===e.length||m||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:r.start._bufferIndex+c,_index:r.start._index+l,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(e.splice(n,0,["enter",p,t],["exit",p,t]),n+=2)}n++}return e}const lL={42:Bn,43:Bn,45:Bn,48:Bn,49:Bn,50:Bn,51:Bn,52:Bn,53:Bn,54:Bn,55:Bn,56:Bn,57:Bn,62:e1},uL={91:dV},cL={[-2]:Sm,[-1]:Sm,32:Sm},hL={35:vV,42:uf,45:[Dw,uf],60:SV,61:Dw,95:uf,96:Iw,126:Iw},fL={38:i1,92:n1},dL={[-5]:bm,[-4]:bm,[-3]:bm,33:jV,38:i1,42:dg,60:[FP,DV],91:FV,92:[yV,n1],93:Iy,95:dg,96:nV},pL={null:[dg,rL]},mL={null:[42,95]},gL={null:[]},yL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mL,contentInitial:uL,disable:gL,document:lL,flow:hL,flowInitial:cL,insideSpan:pL,string:fL,text:dL},Symbol.toStringTag,{value:"Module"}));function _L(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let c=[],d=[];const m={attempt:O(Et),check:O($),consume:st,enter:W,exit:dt,interrupt:O($,{interrupt:!0})},p={code:null,containerState:{},defineSkip:z,events:[],now:V,parser:e,previous:null,sliceSerialize:w,sliceStream:S,write:v};let y=t.tokenize.call(p,m);return t.resolveAll&&l.push(t),p;function v(D){return c=Ei(c,D),j(),c[c.length-1]!==null?[]:(R(t,0),p.events=Ry(l,p.events,p),p.events)}function w(D,k){return EL(S(D),k)}function S(D){return vL(c,D)}function V(){const{_bufferIndex:D,_index:k,line:I,column:ft,offset:ot}=r;return{_bufferIndex:D,_index:k,line:I,column:ft,offset:ot}}function z(D){a[D.line]=D.column,P()}function j(){let D;for(;r._index<c.length;){const k=c[r._index];if(typeof k=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<k.length;)F(k.charCodeAt(r._bufferIndex));else F(k)}}function F(D){y=y(D)}function st(D){Ot(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,P()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=D}function W(D,k){const I=k||{};return I.type=D,I.start=V(),p.events.push(["enter",I,p]),d.push(I),I}function dt(D){const k=d.pop();return k.end=V(),p.events.push(["exit",k,p]),k}function Et(D,k){R(D,k.from)}function $(D,k){k.restore()}function O(D,k){return I;function I(ft,ot,Y){let at,yt,kt,N;return Array.isArray(ft)?J(ft):"tokenize"in ft?J([ft]):L(ft);function L(Tt){return Vt;function Vt(mt){const bt=mt!==null&&Tt[mt],ue=mt!==null&&Tt.null,Ee=[...Array.isArray(bt)?bt:bt?[bt]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return J(Ee)(mt)}}function J(Tt){return at=Tt,yt=0,Tt.length===0?Y:C(Tt[yt])}function C(Tt){return Vt;function Vt(mt){return N=x(),kt=Tt,Tt.partial||(p.currentConstruct=Tt),Tt.name&&p.parser.constructs.disable.null.includes(Tt.name)?St():Tt.tokenize.call(k?Object.assign(Object.create(p),k):p,m,ht,St)(mt)}}function ht(Tt){return D(kt,N),ot}function St(Tt){return N.restore(),++yt<at.length?C(at[yt]):Y}}}function R(D,k){D.resolveAll&&!l.includes(D)&&l.push(D),D.resolve&&vr(p.events,k,p.events.length-k,D.resolve(p.events.slice(k),p)),D.resolveTo&&(p.events=D.resolveTo(p.events,p))}function x(){const D=V(),k=p.previous,I=p.currentConstruct,ft=p.events.length,ot=Array.from(d);return{from:ft,restore:Y};function Y(){r=D,p.previous=k,p.currentConstruct=I,p.events.length=ft,d=ot,P()}}function P(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function vL(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let c;if(n===a)c=[e[n].slice(r,l)];else{if(c=e.slice(n,a),r>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(r):c.shift()}l>0&&c.push(e[a].slice(0,l))}return c}function EL(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const l=e[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,r.push(c)}return r.join("")}function TL(e){const r={constructs:IP([yL,...(e||{}).extensions||[]]),content:a(VP),defined:[],document:a(UP),flow:a(nL),lazy:{},string:a(sL),text:a(aL)};return r;function a(l){return c;function c(d){return _L(r,l,d)}}}function wL(e){for(;!r1(e););return e}const Ow=/[\0\t\n\r]/g;function SL(){let e=1,t="",n=!0,r;return a;function a(l,c,d){const m=[];let p,y,v,w,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),v=0,t="",n&&(l.charCodeAt(0)===65279&&v++,n=void 0);v<l.length;){if(Ow.lastIndex=v,p=Ow.exec(l),w=p&&p.index!==void 0?p.index:l.length,S=l.charCodeAt(w),!p){t=l.slice(v);break}if(S===10&&v===w&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),v<w&&(m.push(l.slice(v,w)),e+=w-v),S){case 0:{m.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,m.push(-2);e++<y;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:r=!0,e=1}v=w+1}return d&&(r&&m.push(-5),t&&m.push(t),m.push(null)),m}}const bL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AL(e){return e.replace(bL,CL)}function CL(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return t1(n.slice(l?2:1),l?16:10)}return Cy(n)||e}const c1={}.hasOwnProperty;function RL(e,t,n){return typeof t!="string"&&(n=t,t=void 0),IL(n)(wL(TL(n).document().write(SL()(e,t,!0))))}function IL(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Te),autolinkProtocol:x,autolinkEmail:x,atxHeading:l(xn),blockQuote:l(ue),characterEscape:x,characterReference:x,codeFenced:l(Ee),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ee,c),codeText:l(In,c),codeTextData:x,data:x,codeFlowValue:x,definition:l(_n),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Ie),hardBreakEscape:l(Gn),hardBreakTrailing:l(Gn),htmlFlow:l(Yn,c),htmlFlowData:x,htmlText:l(Yn,c),htmlTextData:x,image:l(nn),label:c,link:l(Te),listItem:l(zi),listItemValue:w,listOrdered:l(se,v),listUnordered:l(se),paragraph:l(fl),reference:C,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(xn),strong:l(Qa),thematicBreak:l(Tr)},exit:{atxHeading:m(),atxHeadingSequence:Et,autolink:m(),autolinkEmail:bt,autolinkProtocol:mt,blockQuote:m(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:St,characterReferenceMarkerNumeric:St,characterReferenceValue:Tt,characterReference:Vt,codeFenced:m(j),codeFencedFence:z,codeFencedFenceInfo:S,codeFencedFenceMeta:V,codeFlowValue:P,codeIndented:m(F),codeText:m(ot),codeTextData:P,data:P,definition:m(),definitionDestinationString:dt,definitionLabelString:st,definitionTitleString:W,emphasis:m(),hardBreakEscape:m(k),hardBreakTrailing:m(k),htmlFlow:m(I),htmlFlowData:P,htmlText:m(ft),htmlTextData:P,image:m(at),label:kt,labelText:yt,lineEnding:D,link:m(Y),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ht,resourceDestinationString:N,resourceTitleString:L,resource:J,setextHeading:m(R),setextHeadingLineSequence:O,setextHeadingText:$,strong:m(),thematicBreak:m()}};h1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(tt){let ut={type:"root",children:[]};const Rt={stack:[ut],tokenStack:[],config:t,enter:d,exit:p,buffer:c,resume:y,data:n},jt=[];let Jt=-1;for(;++Jt<tt.length;)if(tt[Jt][1].type==="listOrdered"||tt[Jt][1].type==="listUnordered")if(tt[Jt][0]==="enter")jt.push(Jt);else{const vn=jt.pop();Jt=a(tt,vn,Jt)}for(Jt=-1;++Jt<tt.length;){const vn=t[tt[Jt][0]];c1.call(vn,tt[Jt][1].type)&&vn[tt[Jt][1].type].call(Object.assign({sliceSerialize:tt[Jt][2].sliceSerialize},Rt),tt[Jt][1])}if(Rt.tokenStack.length>0){const vn=Rt.tokenStack[Rt.tokenStack.length-1];(vn[1]||Nw).call(Rt,void 0,vn[0])}for(ut.position={start:xs(tt.length>0?tt[0][1].start:{line:1,column:1,offset:0}),end:xs(tt.length>0?tt[tt.length-2][1].end:{line:1,column:1,offset:0})},Jt=-1;++Jt<t.transforms.length;)ut=t.transforms[Jt](ut)||ut;return ut}function a(tt,ut,Rt){let jt=ut-1,Jt=-1,vn=!1,oi,Ve,xe,rn;for(;++jt<=Rt;){const Xt=tt[jt];switch(Xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xt[0]==="enter"?Jt++:Jt--,rn=void 0;break}case"lineEndingBlank":{Xt[0]==="enter"&&(oi&&!rn&&!Jt&&!xe&&(xe=jt),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!Jt&&Xt[0]==="enter"&&Xt[1].type==="listItemPrefix"||Jt===-1&&Xt[0]==="exit"&&(Xt[1].type==="listUnordered"||Xt[1].type==="listOrdered")){if(oi){let wi=jt;for(Ve=void 0;wi--;){const En=tt[wi];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Ve&&(tt[Ve][1].type="lineEndingBlank",vn=!0),En[1].type="lineEnding",Ve=wi}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}xe&&(!Ve||xe<Ve)&&(oi._spread=!0),oi.end=Object.assign({},Ve?tt[Ve][1].start:Xt[1].end),tt.splice(Ve||jt,0,["exit",oi,Xt[2]]),jt++,Rt++}if(Xt[1].type==="listItemPrefix"){const wi={type:"listItem",_spread:!1,start:Object.assign({},Xt[1].start),end:void 0};oi=wi,tt.splice(jt,0,["enter",wi,Xt[2]]),jt++,Rt++,xe=void 0,rn=!0}}}return tt[ut][1]._spread=vn,Rt}function l(tt,ut){return Rt;function Rt(jt){d.call(this,tt(jt),jt),ut&&ut.call(this,jt)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(tt,ut,Rt){this.stack[this.stack.length-1].children.push(tt),this.stack.push(tt),this.tokenStack.push([ut,Rt||void 0]),tt.position={start:xs(ut.start),end:void 0}}function m(tt){return ut;function ut(Rt){tt&&tt.call(this,Rt),p.call(this,Rt)}}function p(tt,ut){const Rt=this.stack.pop(),jt=this.tokenStack.pop();if(jt)jt[0].type!==tt.type&&(ut?ut.call(this,tt,jt[0]):(jt[1]||Nw).call(this,tt,jt[0]));else throw new Error("Cannot close `"+tt.type+"` ("+Pu({start:tt.start,end:tt.end})+"): its not open");Rt.position.end=xs(tt.end)}function y(){return CP(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function w(tt){if(this.data.expectingFirstListItemValue){const ut=this.stack[this.stack.length-2];ut.start=Number.parseInt(this.sliceSerialize(tt),10),this.data.expectingFirstListItemValue=void 0}}function S(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.lang=tt}function V(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.meta=tt}function z(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.value=tt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function F(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.value=tt.replace(/(\r?\n|\r)$/g,"")}function st(tt){const ut=this.resume(),Rt=this.stack[this.stack.length-1];Rt.label=ut,Rt.identifier=Wo(this.sliceSerialize(tt)).toLowerCase()}function W(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.title=tt}function dt(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.url=tt}function Et(tt){const ut=this.stack[this.stack.length-1];if(!ut.depth){const Rt=this.sliceSerialize(tt).length;ut.depth=Rt}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function O(tt){const ut=this.stack[this.stack.length-1];ut.depth=this.sliceSerialize(tt).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function x(tt){const Rt=this.stack[this.stack.length-1].children;let jt=Rt[Rt.length-1];(!jt||jt.type!=="text")&&(jt=un(),jt.position={start:xs(tt.start),end:void 0},Rt.push(jt)),this.stack.push(jt)}function P(tt){const ut=this.stack.pop();ut.value+=this.sliceSerialize(tt),ut.position.end=xs(tt.end)}function D(tt){const ut=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Rt=ut.children[ut.children.length-1];Rt.position.end=xs(tt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ut.type)&&(x.call(this,tt),P.call(this,tt))}function k(){this.data.atHardBreak=!0}function I(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.value=tt}function ft(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.value=tt}function ot(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.value=tt}function Y(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const ut=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=ut,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function at(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const ut=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=ut,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function yt(tt){const ut=this.sliceSerialize(tt),Rt=this.stack[this.stack.length-2];Rt.label=AL(ut),Rt.identifier=Wo(ut).toLowerCase()}function kt(){const tt=this.stack[this.stack.length-1],ut=this.resume(),Rt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Rt.type==="link"){const jt=tt.children;Rt.children=jt}else Rt.alt=ut}function N(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.url=tt}function L(){const tt=this.resume(),ut=this.stack[this.stack.length-1];ut.title=tt}function J(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function ht(tt){const ut=this.resume(),Rt=this.stack[this.stack.length-1];Rt.label=ut,Rt.identifier=Wo(this.sliceSerialize(tt)).toLowerCase(),this.data.referenceType="full"}function St(tt){this.data.characterReferenceType=tt.type}function Tt(tt){const ut=this.sliceSerialize(tt),Rt=this.data.characterReferenceType;let jt;Rt?(jt=t1(ut,Rt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):jt=Cy(ut);const Jt=this.stack[this.stack.length-1];Jt.value+=jt}function Vt(tt){const ut=this.stack.pop();ut.position.end=xs(tt.end)}function mt(tt){P.call(this,tt);const ut=this.stack[this.stack.length-1];ut.url=this.sliceSerialize(tt)}function bt(tt){P.call(this,tt);const ut=this.stack[this.stack.length-1];ut.url="mailto:"+this.sliceSerialize(tt)}function ue(){return{type:"blockquote",children:[]}}function Ee(){return{type:"code",lang:null,meta:null,value:""}}function In(){return{type:"inlineCode",value:""}}function _n(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ie(){return{type:"emphasis",children:[]}}function xn(){return{type:"heading",depth:0,children:[]}}function Gn(){return{type:"break"}}function Yn(){return{type:"html",value:""}}function nn(){return{type:"image",title:null,url:"",alt:null}}function Te(){return{type:"link",title:null,url:"",children:[]}}function se(tt){return{type:"list",ordered:tt.type==="listOrdered",start:null,spread:tt._spread,children:[]}}function zi(tt){return{type:"listItem",spread:tt._spread,checked:null,children:[]}}function fl(){return{type:"paragraph",children:[]}}function Qa(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function Tr(){return{type:"thematicBreak"}}}function xs(e){return{line:e.line,column:e.column,offset:e.offset}}function h1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?h1(e,r):xL(e,r)}}function xL(e,t){let n;for(n in t)if(c1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Nw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Pu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Pu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Pu({start:t.start,end:t.end})+") is still open")}function DL(e){const t=this;t.parser=n;function n(r){return RL(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function OL(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function NL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function kL(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function ML(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PL(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VL(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=hl(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let c,d=e.footnoteCounts.get(r);d===void 0?(d=0,e.footnoteOrder.push(r),c=e.footnoteOrder.length):c=l+1,d+=1,e.footnoteCounts.set(r,d);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,p),e.applyData(t,p)}function LL(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UL(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function f1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=r:a.push({type:"text",value:r}),a}function zL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return f1(e,t);const a={src:hl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,l),e.applyData(t,l)}function BL(e,t){const n={src:hl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function jL(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function HL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return f1(e,t);const a={href:hl(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function FL(e,t){const n={href:hl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qL(e,t,n){const r=e.all(t),a=n?GL(n):d1(t),l={},c=[];if(typeof t.checked=="boolean"){const y=r[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const y=r[d];(a||d!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?c.push(...y.children):c.push(y)}const m=r[r.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,p),e.applyData(t,p)}function GL(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=d1(n[r])}return t}function d1(e){const t=e.spread;return t??e.children.length>1}function YL(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const c=r[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function KL(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QL(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function XL(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $L(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=wy(t.children[1]),m=KA(t.children[t.children.length-1]);d&&m&&(c.position={start:d,end:m}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function WL(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:t.children.length;let m=-1;const p=[];for(;++m<d;){const v=t.children[m],w={},S=c?c[m]:void 0;S&&(w.align=S);let V={type:"element",tagName:l,properties:w,children:[]};v&&(V.children=e.all(v),e.patch(v,V),V=e.applyData(v,V)),p.push(V)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(t,y),e.applyData(t,y)}function JL(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const kw=9,Mw=32;function ZL(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const l=[];for(;r;)l.push(Pw(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return l.push(Pw(t.slice(a),a>0,!1)),l.join("")}function Pw(e,t,n){let r=0,a=e.length;if(t){let l=e.codePointAt(r);for(;l===kw||l===Mw;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(a-1);for(;l===kw||l===Mw;)a--,l=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function tU(e,t){const n={type:"text",value:ZL(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function eU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const nU={blockquote:OL,break:NL,code:kL,delete:ML,emphasis:PL,footnoteReference:VL,heading:LL,html:UL,imageReference:zL,image:BL,inlineCode:jL,linkReference:HL,link:FL,listItem:qL,list:YL,paragraph:KL,root:QL,strong:XL,table:$L,tableCell:JL,tableRow:WL,text:tU,thematicBreak:eU,toml:Kh,yaml:Kh,definition:Kh,footnoteDefinition:Kh};function Kh(){}const p1=-1,nd=0,Lu=1,Df=2,xy=3,Dy=4,Oy=5,Ny=6,m1=7,g1=8,Vw=typeof self=="object"?self:globalThis,iU=(e,t)=>{const n=(a,l)=>(e.set(l,a),a),r=a=>{if(e.has(a))return e.get(a);const[l,c]=t[a];switch(l){case nd:case p1:return n(c,a);case Lu:{const d=n([],a);for(const m of c)d.push(r(m));return d}case Df:{const d=n({},a);for(const[m,p]of c)d[r(m)]=r(p);return d}case xy:return n(new Date(c),a);case Dy:{const{source:d,flags:m}=c;return n(new RegExp(d,m),a)}case Oy:{const d=n(new Map,a);for(const[m,p]of c)d.set(r(m),r(p));return d}case Ny:{const d=n(new Set,a);for(const m of c)d.add(r(m));return d}case m1:{const{name:d,message:m}=c;return n(new Vw[d](m),a)}case g1:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new Vw[l](c),a)};return r},Lw=e=>iU(new Map,e)(0),jo="",{toString:rU}={},{keys:sU}=Object,vu=e=>{const t=typeof e;if(t!=="object"||!e)return[nd,t];const n=rU.call(e).slice(8,-1);switch(n){case"Array":return[Lu,jo];case"Object":return[Df,jo];case"Date":return[xy,jo];case"RegExp":return[Dy,jo];case"Map":return[Oy,jo];case"Set":return[Ny,jo];case"DataView":return[Lu,n]}return n.includes("Array")?[Lu,n]:n.includes("Error")?[m1,n]:[Df,n]},Qh=([e,t])=>e===nd&&(t==="function"||t==="symbol"),aU=(e,t,n,r)=>{const a=(c,d)=>{const m=r.push(c)-1;return n.set(d,m),m},l=c=>{if(n.has(c))return n.get(c);let[d,m]=vu(c);switch(d){case nd:{let y=c;switch(m){case"bigint":d=g1,y=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);y=null;break;case"undefined":return a([p1],c)}return a([d,y],c)}case Lu:{if(m){let w=c;return m==="DataView"?w=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(w=new Uint8Array(c)),a([m,[...w]],c)}const y=[],v=a([d,y],c);for(const w of c)y.push(l(w));return v}case Df:{if(m)switch(m){case"BigInt":return a([m,c.toString()],c);case"Boolean":case"Number":case"String":return a([m,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const y=[],v=a([d,y],c);for(const w of sU(c))(e||!Qh(vu(c[w])))&&y.push([l(w),l(c[w])]);return v}case xy:return a([d,c.toISOString()],c);case Dy:{const{source:y,flags:v}=c;return a([d,{source:y,flags:v}],c)}case Oy:{const y=[],v=a([d,y],c);for(const[w,S]of c)(e||!(Qh(vu(w))||Qh(vu(S))))&&y.push([l(w),l(S)]);return v}case Ny:{const y=[],v=a([d,y],c);for(const w of c)(e||!Qh(vu(w)))&&y.push(l(w));return v}}const{message:p}=c;return a([d,{name:m,message:p}],c)};return l},Uw=(e,{json:t,lossy:n}={})=>{const r=[];return aU(!(t||n),!!t,new Map,r)(e),r},Of=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Lw(Uw(e,t)):structuredClone(e):(e,t)=>Lw(Uw(e,t));function oU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function uU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||oU,r=e.options.footnoteBackLabel||lU,a=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let m=-1;for(;++m<e.footnoteOrder.length;){const p=e.footnoteById.get(e.footnoteOrder[m]);if(!p)continue;const y=e.all(p),v=String(p.identifier).toUpperCase(),w=hl(v.toLowerCase());let S=0;const V=[],z=e.footnoteCounts.get(v);for(;z!==void 0&&++S<=z;){V.length>0&&V.push({type:"text",value:" "});let st=typeof n=="string"?n:n(m,S);typeof st=="string"&&(st={type:"text",value:st}),V.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+w+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,S),className:["data-footnote-backref"]},children:Array.isArray(st)?st:[st]})}const j=y[y.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const st=j.children[j.children.length-1];st&&st.type==="text"?st.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...V)}else y.push(...V);const F={type:"element",tagName:"li",properties:{id:t+"fn-"+w},children:e.wrap(y,!0)};e.patch(p,F),d.push(F)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Of(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const y1=(function(e){if(e==null)return dU;if(typeof e=="function")return id(e);if(typeof e=="object")return Array.isArray(e)?cU(e):hU(e);if(typeof e=="string")return fU(e);throw new Error("Expected function, string, or object as test")});function cU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=y1(e[n]);return id(r);function r(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function hU(e){const t=e;return id(n);function n(r){const a=r;let l;for(l in e)if(a[l]!==t[l])return!1;return!0}}function fU(e){return id(t);function t(n){return n&&n.type===e}}function id(e){return t;function t(n,r,a){return!!(pU(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function dU(){return!0}function pU(e){return e!==null&&typeof e=="object"&&"type"in e}const _1=[],mU=!0,zw=!1,gU="skip";function yU(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const l=y1(a),c=r?-1:1;d(e,void 0,[])();function d(m,p,y){const v=m&&typeof m=="object"?m:{};if(typeof v.type=="string"){const S=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return w;function w(){let S=_1,V,z,j;if((!t||l(m,p,y[y.length-1]||void 0))&&(S=_U(n(m,y)),S[0]===zw))return S;if("children"in m&&m.children){const F=m;if(F.children&&S[0]!==gU)for(z=(r?F.children.length:-1)+c,j=y.concat(F);z>-1&&z<F.children.length;){const st=F.children[z];if(V=d(st,z,j)(),V[0]===zw)return V;z=typeof V[1]=="number"?V[1]:z+c}}return S}}}function _U(e){return Array.isArray(e)?e:typeof e=="number"?[mU,e]:e==null?_1:[e]}function v1(e,t,n,r){let a,l,c;typeof t=="function"&&typeof n!="function"?(l=void 0,c=t,a=n):(l=t,c=n,a=r),yU(e,l,d,a);function d(m,p){const y=p[p.length-1],v=y?y.children.indexOf(m):void 0;return c(m,v,y)}}const pg={}.hasOwnProperty,vU={};function EU(e,t){const n=t||vU,r=new Map,a=new Map,l=new Map,c={...nU,...n.handlers},d={all:p,applyData:wU,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:m,options:n,patch:TU,wrap:bU};return v1(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?r:a,w=String(y.identifier).toUpperCase();v.has(w)||v.set(w,y)}}),d;function m(y,v){const w=y.type,S=d.handlers[w];if(pg.call(d.handlers,w)&&S)return S(d,y,v);if(d.options.passThrough&&d.options.passThrough.includes(w)){if("children"in y){const{children:z,...j}=y,F=Of(j);return F.children=d.all(y),F}return Of(y)}return(d.options.unknownHandler||SU)(d,y,v)}function p(y){const v=[];if("children"in y){const w=y.children;let S=-1;for(;++S<w.length;){const V=d.one(w[S],y);if(V){if(S&&w[S-1].type==="break"&&(!Array.isArray(V)&&V.type==="text"&&(V.value=Bw(V.value)),!Array.isArray(V)&&V.type==="element")){const z=V.children[0];z&&z.type==="text"&&(z.value=Bw(z.value))}Array.isArray(V)?v.push(...V):v.push(V)}}}return v}}function TU(e,t){e.position&&(t.position=rP(e))}function wU(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const c="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,Of(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function SU(e,t){const n=t.data||{},r="value"in t&&!(pg.call(n,"hProperties")||pg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bU(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Bw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function jw(e,t){const n=EU(e,t),r=n.one(e,void 0),a=uU(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function AU(e,t){return e&&"run"in e?async function(n,r){const a=jw(n,{file:r,...t});await e.run(a,r)}:function(n,r){return jw(n,{file:r,...e||t})}}function Hw(e){if(e)throw e}var Am,Fw;function CU(){if(Fw)return Am;Fw=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):t.call(p)==="[object Array]"},l=function(p){if(!p||t.call(p)!=="[object Object]")return!1;var y=e.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&e.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!v)return!1;var w;for(w in p);return typeof w>"u"||e.call(p,w)},c=function(p,y){n&&y.name==="__proto__"?n(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},d=function(p,y){if(y==="__proto__")if(e.call(p,y)){if(r)return r(p,y).value}else return;return p[y]};return Am=function m(){var p,y,v,w,S,V,z=arguments[0],j=1,F=arguments.length,st=!1;for(typeof z=="boolean"&&(st=z,z=arguments[1]||{},j=2),(z==null||typeof z!="object"&&typeof z!="function")&&(z={});j<F;++j)if(p=arguments[j],p!=null)for(y in p)v=d(z,y),w=d(p,y),z!==w&&(st&&w&&(l(w)||(S=a(w)))?(S?(S=!1,V=v&&a(v)?v:[]):V=v&&l(v)?v:{},c(z,{name:y,newValue:m(st,V,w)})):typeof w<"u"&&c(z,{name:y,newValue:w}));return z},Am}var RU=CU();const Cm=yg(RU);function mg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function IU(){const e=[],t={run:n,use:r};return t;function n(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...a);function d(m,...p){const y=e[++l];let v=-1;if(m){c(m);return}for(;++v<a.length;)(p[v]===null||p[v]===void 0)&&(p[v]=a[v]);a=p,y?xU(y,d)(...p):c(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function xU(e,t){let n;return r;function r(...c){const d=e.length>c.length;let m;d&&c.push(a);try{m=e.apply(this,c)}catch(p){const y=p;if(d&&n)throw y;return a(y)}d||(m&&m.then&&typeof m.then=="function"?m.then(l,a):m instanceof Error?a(m):l(m))}function a(c,...d){n||(n=!0,t(c,...d))}function l(c){a(null,c)}}const or={basename:DU,dirname:OU,extname:NU,join:kU,sep:"/"};function DU(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dc(e);let n=0,r=-1,a=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let c=-1,d=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else c<0&&(l=!0,c=a+1),d>-1&&(e.codePointAt(a)===t.codePointAt(d--)?d<0&&(r=a):(d=-1,r=c));return n===r?r=c:r<0&&(r=e.length),e.slice(n,r)}function OU(e){if(dc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function NU(e){dc(e);let t=e.length,n=-1,r=0,a=-1,l=0,c;for(;t--;){const d=e.codePointAt(t);if(d===47){if(c){r=t+1;break}continue}n<0&&(c=!0,n=t+1),d===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function kU(...e){let t=-1,n;for(;++t<e.length;)dc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":MU(n)}function MU(e){dc(e);const t=e.codePointAt(0)===47;let n=PU(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function PU(e,t){let n="",r=0,a=-1,l=0,c=-1,d,m;for(;++c<=e.length;){if(c<e.length)d=e.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),a=c,l=0;continue}}else if(n.length>0){n="",r=0,a=c,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,c):n=e.slice(a+1,c),r=c-a-1;a=c,l=0}else d===46&&l>-1?l++:l=-1}return n}function dc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const VU={cwd:LU};function LU(){return"/"}function gg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function UU(e){if(typeof e=="string")e=new URL(e);else if(!gg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zU(e)}function zU(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Rm=["history","path","basename","stem","extname","dirname"];class E1{constructor(t){let n;t?gg(t)?n={path:t}:typeof t=="string"||BU(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":VU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rm.length;){const l=Rm[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)Rm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?or.basename(this.path):void 0}set basename(t){xm(t,"basename"),Im(t,"basename"),this.path=or.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?or.dirname(this.path):void 0}set dirname(t){qw(this.basename,"dirname"),this.path=or.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?or.extname(this.path):void 0}set extname(t){if(Im(t,"extname"),qw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=or.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){gg(t)&&(t=UU(t)),xm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?or.basename(this.path,this.extname):void 0}set stem(t){xm(t,"stem"),Im(t,"stem"),this.path=or.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Rn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Im(e,t){if(e&&e.includes(or.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+or.sep+"`")}function xm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function BU(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jU=(function(e){const r=this.constructor.prototype,a=r[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),HU={}.hasOwnProperty;class ky extends jU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=IU()}copy(){const t=new ky;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Cm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Nm("data",this.frozen),this.namespace[t]=n,this):HU.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Nm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Xh(t),r=this.parser||this.Parser;return Dm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Dm("process",this.parser||this.Parser),Om("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,c){const d=Xh(t),m=r.parse(d);r.run(m,d,function(y,v,w){if(y||!v||!w)return p(y);const S=v,V=r.stringify(S,w);GU(V)?w.value=V:w.result=V,p(y,w)});function p(y,v){y||!v?c(y):l?l(v):n(void 0,v)}}}processSync(t){let n=!1,r;return this.freeze(),Dm("processSync",this.parser||this.Parser),Om("processSync",this.compiler||this.Compiler),this.process(t,a),Yw("processSync","process",n),r;function a(l,c){n=!0,Hw(l),r=c}}run(t,n,r){Gw(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(c,d){const m=Xh(n);a.run(t,m,p);function p(y,v,w){const S=v||t;y?d(y):c?c(S):r(void 0,S,w)}}}runSync(t,n){let r=!1,a;return this.run(t,n,l),Yw("runSync","run",r),a;function l(c,d){Hw(c),a=d,r=!0}}stringify(t,n){this.freeze();const r=Xh(n),a=this.compiler||this.Compiler;return Om("stringify",a),Gw(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Nm("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[y,...v]=p;m(y,v)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(p.plugins),p.settings&&(a.settings=Cm(!0,a.settings,p.settings))}function d(p){let y=-1;if(p!=null)if(Array.isArray(p))for(;++y<p.length;){const v=p[y];l(v)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,y){let v=-1,w=-1;for(;++v<r.length;)if(r[v][0]===p){w=v;break}if(w===-1)r.push([p,...y]);else if(y.length>0){let[S,...V]=y;const z=r[w][1];mg(z)&&mg(S)&&(S=Cm(!0,z,S)),r[w]=[p,S,...V]}}}}const FU=new ky().freeze();function Dm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Om(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Nm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gw(e){if(!mg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Yw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Xh(e){return qU(e)?e:new E1(e)}function qU(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function GU(e){return typeof e=="string"||YU(e)}function YU(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const KU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kw=[],Qw={allowDangerousHtml:!0},QU=/^(https?|ircs?|mailto|xmpp)$/i,XU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $U(e){const t=WU(e),n=JU(e);return ZU(t.runSync(t.parse(n),n),e)}function WU(e){const t=e.rehypePlugins||Kw,n=e.remarkPlugins||Kw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Qw}:Qw;return FU().use(DL).use(n).use(AU,r).use(t)}function JU(e){const t=e.children||"",n=new E1;return typeof t=="string"&&(n.value=t),n}function ZU(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,l=t.disallowedElements,c=t.skipHtml,d=t.unwrapDisallowed,m=t.urlTransform||t6;for(const y of XU)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+KU+y.id,void 0);return v1(e,p),uP(e,{Fragment:pt.Fragment,components:a,ignoreInvalidStyle:!0,jsx:pt.jsx,jsxs:pt.jsxs,passKeys:!0,passNode:!0});function p(y,v,w){if(y.type==="raw"&&w&&typeof v=="number")return c?w.children.splice(v,1):w.children[v]={type:"text",value:y.value},v;if(y.type==="element"){let S;for(S in wm)if(Object.hasOwn(wm,S)&&Object.hasOwn(y.properties,S)){const V=y.properties[S],z=wm[S];(z===null||z.includes(y.tagName))&&(y.properties[S]=m(String(V||""),S,y))}}if(y.type==="element"){let S=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!S&&r&&typeof v=="number"&&(S=!r(y,v,w)),S&&w&&typeof v=="number")return d&&y.children?w.children.splice(v,1,...y.children):w.children.splice(v,1),v}}}function t6(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||QU.test(e.slice(0,t))?e:""}const e6="AIzaSyBxHCj915aOBW8cUBkKdTkl32c2HJrRaXU";console.log("Checking VITE_GEMINI_API_KEY status...","Present");const n6=new M4(e6);function i6(){const[e,t]=ge.useState(null),[n,r]=ge.useState(!1),[a,l]=ge.useState(null),[c,d]=ge.useState(null),[m,p]=ge.useState(null),[y,v]=ge.useState(!0),[w,S]=ge.useState(""),[V,z]=ge.useState(""),[j,F]=ge.useState(!1),[st,W]=ge.useState("capture"),[dt,Et]=ge.useState(""),[$,O]=ge.useState(!1);ge.useEffect(()=>{const mt=Hk(Yh,bt=>{p(bt),v(!1)});return()=>mt()},[]);const R=async mt=>{mt.preventDefault(),r(!0),l(null);try{j?await Uk(Yh,w,V):await zk(Yh,w,V)}catch(bt){l("Authentication failed: "+bt.message)}finally{r(!1)}},x=async()=>{try{await Fk(Yh),St()}catch(mt){console.error("Sign out failed",mt)}},[P,D]=ge.useState(""),[k,I]=ge.useState(),[ft,ot]=ge.useState(),Y=ge.useRef(null),[at,yt]=ge.useState(!1),[kt,N]=ge.useState(!1),[L,J]=ge.useState("Save Reflection");ge.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},mt=>{const bt=mt[0];bt?.url&&(d(bt.url),bt.id&&chrome.storage.local.get(["linkedInSync_"+bt.id],ue=>{ue["linkedInSync_"+bt.id]&&(d(Ee=>Ee+"?reflections_sync=true"),chrome.storage.local.remove(["linkedInSync_"+bt.id]))}))})},[]);const C=async()=>{r(!0),l(null);try{const[mt]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!mt.id)throw new Error("No active tab");chrome.scripting.executeScript({target:{tabId:mt.id},func:async()=>{const bt=Yn=>new Promise(nn=>setTimeout(nn,Yn));window.scrollTo(0,document.body.scrollHeight),await bt(2e3),window.scrollTo(0,0);const ue=document.body.innerText,Ee=(Yn,nn=1500)=>{const Te=new RegExp(`${Yn}\\s*\\n`,"i"),se=ue.match(Te);return se&&se.index?ue.substring(se.index+se[0].length,se.index+se[0].length+nn):""},In=Ee("About",2e3),_n=Ee("Experience",4e3),Ie=()=>document.querySelector("h1")?.innerText||"",xn=()=>document.querySelector(".text-body-medium")?.innerText||"",Gn=()=>document.querySelector('meta[property="og:description"]')?.getAttribute("content")||"";return{name:Ie(),headline:xn(),about:Gn(),deepProfileText:`About Section:
${In}

Experience Section:
${_n}

(Extracted from LinkedIn)`,profileUrl:window.location.href,scrapedAt:new Date().toISOString()}}},async bt=>{if(chrome.runtime.lastError){l(chrome.runtime.lastError.message||"Script execution failed"),r(!1);return}if(bt&&bt[0]&&bt[0].result){const ue=bt[0].result;try{await N2(ef(mu,"users",m.uid),{linkedinProfileData:ue,tagline:ue.headline},{merge:!0}),W("success")}catch(Ee){l("Save failed: "+Ee.message)}}r(!1)})}catch(mt){l(mt.message),r(!1)}},ht=async()=>{r(!0),l(null);try{chrome.tabs.captureVisibleTab({format:"png"},mt=>{if(chrome.runtime.lastError){l(chrome.runtime.lastError.message||"Failed to capture tab"),r(!1);return}mt?t(mt):l("No image data received"),r(!1)})}catch(mt){l(mt.message||"Unexpected error"),r(!1)}},St=()=>{t(null),d(null),I(void 0),ot(void 0),D(""),l(null),W("capture"),Et(""),O(!1),N(!1),J("Save Reflection")},Tt=async()=>{if(e){yt(!0),l(null);try{let mt;ft&&ft.width>0&&ft.height>0&&Y.current?mt=await r4(Y.current,ft):mt=await(await fetch(e)).blob();const bt=`captures/${Date.now()}.png`,ue=iD(i4,bt),Ee=await eD(ue,mt),In=await nD(Ee.ref);let _n=null,Ie=0;try{const xn=C2(w0(mu,"reflections"),R2("userId","==",m?.uid)),nn=(await V2(xn)).data().count+1;Ie=nn,(nn===10||nn===25||nn===50||nn===100)&&(_n=nn)}catch(xn){console.error("Error checking milestone:",xn)}await M2(w0(mu,"reflections"),{imageUrl:In,timestamp:U2(),notes:P,sourceUrl:c,userId:m?.uid}),_n&&m?.uid&&await k2(ef(mu,"users",m.uid),{milestoneReached:_n}),J(Ie===1?"1st Reflection Captured! ":"Captured! "),N(!0),setTimeout(()=>{W("success")},1e3)}catch(mt){console.error("Upload failed:",mt),l("Upload failed: "+mt.message)}finally{yt(!1)}}},Vt=async()=>{if(m){W("insight"),O(!0),Et("");try{const mt=await O2(ef(mu,"users",m.uid));let bt="Unknown Traits";if(mt.exists()){const Ie=mt.data();Ie.aiPersona&&Ie.aiPersona.traits?bt=Ie.aiPersona.traits.join(", "):Ie.explicitInterests&&(bt=Ie.explicitInterests.join(", "))}const ue=n6.getGenerativeModel({model:"gemini-2.0-flash-exp"}),Ee=`You are Tony's Digital Twin. Use his Core Traits (AI Solutions Architect, Guitar Player) to provide a single-turn Digital Twin Brief in Markdown. Structure: 1) One high-level sentence on the signal's impact. 2) Three bulleted 'Next Steps' for his career/interests.
      User Traits: ${bt}.
      New Reflection Notes: "${P}"`,_n=(await ue.generateContent(Ee)).response.text();Et(_n)}catch(mt){console.error("Insight generation error:",mt),Et("Unable to generate insight. Please check your connection.")}finally{O(!1)}}};return pt.jsxs("div",{className:"App min-h-screen flex flex-col",style:{width:"100%",height:"100%"},children:[pt.jsxs("header",{className:"app-header p-4 border-b border-gray-200 bg-white",children:[pt.jsx("h1",{className:"text-blue-600 font-bold text-lg m-0",children:"ReflectionsMatch"}),st!=="capture"&&m&&pt.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"4px"},children:[m.email," ",pt.jsx("button",{onClick:x,style:{color:"#ef4444",border:"none",background:"none",cursor:"pointer",textDecoration:"underline",marginLeft:"5px"},children:"Sign Out"})]})]}),pt.jsx("main",{className:"flex-1 flex flex-col w-full overflow-hidden relative bg-white",children:y?pt.jsx("div",{style:{padding:"20px"},children:"Loading..."}):m?st==="success"?pt.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] h-full gap-8 p-6 w-full",children:[pt.jsxs("div",{className:"flex flex-col items-center text-center",children:[pt.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px"},children:""}),pt.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px",color:"#166534",fontWeight:"bold"},children:"Reflection Captured!"}),pt.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"Insights are emerging in your Reflections..."})]}),pt.jsxs("div",{className:"w-full flex flex-col items-center gap-4",children:[pt.jsxs("button",{className:"primary-button w-full max-w-[240px] flex items-center justify-center gap-2",onClick:Vt,style:{padding:"12px",borderRadius:"8px",border:"none",fontWeight:600,backgroundColor:"#2563eb",color:"white"},children:[pt.jsx("span",{children:""})," Ask Your Reflections"]}),pt.jsx("button",{className:"primary-button w-full max-w-[240px]",onClick:St,style:{backgroundColor:"#4b5563",padding:"12px",borderRadius:"8px",border:"none",color:"white"},children:"Done"})]})]}):st==="insight"?pt.jsxs("div",{className:"flex flex-col h-full bg-gray-50 animate-in fade-in duration-700",children:[pt.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:$?pt.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[pt.jsx("p",{className:"text-gray-600 font-medium animate-pulse",children:"Analyzing Patterns..."}),pt.jsxs("div",{className:"flex gap-2",children:[pt.jsx("div",{className:"w-2 h-8 bg-slate-700 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),pt.jsx("div",{className:"w-2 h-8 bg-slate-700 rounded-full animate-pulse",style:{animationDelay:"150ms"}}),pt.jsx("div",{className:"w-2 h-8 bg-slate-700 rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})]}):pt.jsx("div",{className:"w-full",children:pt.jsx("div",{className:"bg-[#1e1f22] p-6 rounded-xl border-l-4 border-purple-500 shadow-2xl text-white",children:pt.jsx("div",{className:"prose prose-invert max-w-none",children:pt.jsx($U,{children:dt})})})})}),pt.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:pt.jsx("button",{onClick:St,className:"w-full h-12 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition-colors",children:"Back to Reflections"})})]}):c?.includes("linkedin.com/in/")?pt.jsxs("div",{className:"capture-container",style:{padding:"20px",textAlign:"center"},children:[pt.jsxs("div",{style:{marginBottom:"20px",background:"#e8f4f9",padding:"16px",borderRadius:"12px",border:"1px solid #cce4f0"},children:[pt.jsx("h3",{style:{margin:"0 0 8px 0",color:"#0077B5",fontSize:"1.1rem"},children:"LinkedIn Detected"}),pt.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#555"},children:"We can import your Headline and Bio directly to your profile."})]}),pt.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[pt.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"We are auto-syncing your profile in the background. If it didn't work, click below."}),pt.jsx("button",{className:"primary-button",style:{background:"#0077B5"},onClick:C,disabled:n,children:n?"Syncing...":"Force Sync Profile"})]}),a&&pt.jsx("div",{className:"error-message",style:{marginTop:"16px"},children:a}),pt.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"10px",width:"100%"},children:[pt.jsx("p",{style:{fontSize:"0.8rem",color:"#888",marginBottom:"10px"},children:"Or use standard capture:"}),pt.jsx("button",{className:"secondary-button",onClick:()=>d("manual_override"),style:{width:"100%"},children:"Capture Snapshot"})]})]}):e?pt.jsxs("div",{className:"preview-container",children:[pt.jsx("p",{className:"crop-instruction",children:"Crop the image, then tell us why it matters."}),pt.jsx("div",{className:"crop-wrapper",children:pt.jsx(fR,{crop:k,onChange:mt=>I(mt),onComplete:mt=>ot(mt),children:pt.jsx("img",{ref:Y,src:e||void 0,alt:"Screenshot",style:{maxWidth:"100%"}})})}),pt.jsxs("div",{className:"notes-section",children:[pt.jsx("textarea",{className:"notes-input",placeholder:"Why is this relevant? (Optional)",value:P,onChange:mt=>D(mt.target.value)}),a&&pt.jsx("div",{className:"error-message",style:{width:"100%",marginTop:"8px"},children:a})]}),pt.jsxs("div",{className:"action-buttons",children:[pt.jsxs("button",{className:"primary-button upload-btn",onClick:Tt,disabled:at,style:{position:"relative",overflow:"visible"},children:[at?"Saving...":L,kt&&pt.jsx(pt.Fragment,{children:[...Array(12)].map((mt,bt)=>{const ue=["#00FFFF","#FF00FF","#32CD32","#FFE600"],Ee=bt/12*360,In=Math.random()*.2;return pt.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:ue[bt%4],animation:`particle-burst 0.8s ease-out forwards ${In}s`,transform:`translate(-50%, -50%) rotate(${Ee}deg) translate(0px)`,pointerEvents:"none",zIndex:999,"--angle":`${Ee}deg`}},bt)})})]}),pt.jsx("button",{className:"secondary-button reset-btn",onClick:St,disabled:at,children:"Reset"})]})]}):pt.jsx("div",{className:"capture-container",children:pt.jsx("button",{className:"primary-button capture-btn",onClick:ht,disabled:n,children:n?"Capturing...":"Capture This Page"})}):pt.jsx("div",{className:"login-container",style:{padding:"0 20px",width:"100%",boxSizing:"border-box"},children:pt.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"20px"},children:[pt.jsx("h2",{style:{fontSize:"1.2rem",color:"#333",marginBottom:"10px"},children:j?"Create Account":"Sign In"}),a&&pt.jsx("div",{className:"error-message",children:a}),pt.jsx("input",{type:"email",placeholder:"Email",value:w,onChange:mt=>S(mt.target.value),className:"notes-input",style:{height:"40px"},required:!0}),pt.jsx("input",{type:"password",placeholder:"Password",value:V,onChange:mt=>z(mt.target.value),className:"notes-input",style:{height:"40px"},required:!0}),pt.jsx("button",{type:"submit",className:"primary-button",disabled:n,children:n?"Processing...":j?"Sign Up":"Sign In"}),pt.jsx("div",{style:{textAlign:"center",marginTop:"10px"},children:pt.jsx("button",{type:"button",onClick:()=>F(!j),style:{background:"none",border:"none",color:"#2563eb",textDecoration:"underline",cursor:"pointer"},children:j?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})}),pt.jsx("footer",{style:st==="insight"||st==="success"?{backgroundColor:"#f3f4f6",color:"#9ca3af",borderTop:"none"}:{},children:"v1.3.0"})]})}aR.createRoot(document.getElementById("root")).render(pt.jsx(ge.StrictMode,{children:pt.jsx(i6,{})}));
