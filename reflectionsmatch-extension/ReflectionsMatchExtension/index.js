(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ib(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var um={exports:{}},Ul={};var bv;function rb(){if(bv)return Ul;bv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=t,Ul.jsx=n,Ul.jsxs=n,Ul}var Rv;function sb(){return Rv||(Rv=1,um.exports=rb()),um.exports}var nt=sb(),cm={exports:{}},St={};var Cv;function ab(){if(Cv)return St;Cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function O(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Q={};function at(x,Y,et){this.props=x,this.context=Y,this.refs=Q,this.updater=et||q}at.prototype.isReactComponent={},at.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},at.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ht(){}ht.prototype=at.prototype;function lt(x,Y,et){this.props=x,this.context=Y,this.refs=Q,this.updater=et||q}var Et=lt.prototype=new ht;Et.constructor=lt,J(Et,at.prototype),Et.isPureReactComponent=!0;var Dt=Array.isArray;function wt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(x,Y,et){var it=et.ref;return{$$typeof:r,type:x,key:Y,ref:it!==void 0?it:null,props:et}}function V(x,Y){return C(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function k(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function Jt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Y.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(wt,wt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,Y,et,it,_t){var At=typeof x;(At==="undefined"||At==="boolean")&&(x=null);var xt=!1;if(x===null)xt=!0;else switch(At){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(x.$$typeof){case r:case t:xt=!0;break;case E:return xt=x._init,F(xt(x._payload),Y,et,it,_t)}}if(xt)return _t=_t(x),xt=it===""?"."+Jt(x,0):it,Dt(_t)?(et="",xt!=null&&(et=xt.replace(R,"$&/")+"/"),F(_t,Y,et,"",function(Qi){return Qi})):_t!=null&&(N(_t)&&(_t=V(_t,et+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+xt)),Y.push(_t)),1;xt=0;var Se=it===""?".":it+":";if(Dt(x))for(var Yt=0;Yt<x.length;Yt++)it=x[Yt],At=Se+Jt(it,Yt),xt+=F(it,Y,et,At,_t);else if(Yt=O(x),typeof Yt=="function")for(x=Yt.call(x),Yt=0;!(it=x.next()).done;)it=it.value,At=Se+Jt(it,Yt++),xt+=F(it,Y,et,At,_t);else if(At==="object"){if(typeof x.then=="function")return F(ye(x),Y,et,it,_t);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function tt(x,Y,et){if(x==null)return x;var it=[],_t=0;return F(x,it,"","",function(At){return Y.call(et,At,_t++)}),it}function ft(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var Mt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},jt={map:tt,forEach:function(x,Y,et){tt(x,function(){Y.apply(this,arguments)},et)},count:function(x){var Y=0;return tt(x,function(){Y++}),Y},toArray:function(x){return tt(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=S,St.Children=jt,St.Component=at,St.Fragment=n,St.Profiler=o,St.PureComponent=lt,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,Y,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=J({},x.props),_t=x.key;if(Y!=null)for(At in Y.key!==void 0&&(_t=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(it[At]=Y[At]);var At=arguments.length-2;if(At===1)it.children=et;else if(1<At){for(var xt=Array(At),Se=0;Se<At;Se++)xt[Se]=arguments[Se+2];it.children=xt}return C(x.type,_t,it)},St.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},St.createElement=function(x,Y,et){var it,_t={},At=null;if(Y!=null)for(it in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(_t[it]=Y[it]);var xt=arguments.length-2;if(xt===1)_t.children=et;else if(1<xt){for(var Se=Array(xt),Yt=0;Yt<xt;Yt++)Se[Yt]=arguments[Yt+2];_t.children=Se}if(x&&x.defaultProps)for(it in xt=x.defaultProps,xt)_t[it]===void 0&&(_t[it]=xt[it]);return C(x,At,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:m,render:x}},St.isValidElement=N,St.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ft}},St.memo=function(x,Y){return{$$typeof:p,type:x,compare:Y===void 0?null:Y}},St.startTransition=function(x){var Y=D.T,et={};D.T=et;try{var it=x(),_t=D.S;_t!==null&&_t(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(wt,Mt)}catch(At){Mt(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),D.T=Y}},St.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},St.use=function(x){return D.H.use(x)},St.useActionState=function(x,Y,et){return D.H.useActionState(x,Y,et)},St.useCallback=function(x,Y){return D.H.useCallback(x,Y)},St.useContext=function(x){return D.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,Y){return D.H.useDeferredValue(x,Y)},St.useEffect=function(x,Y){return D.H.useEffect(x,Y)},St.useEffectEvent=function(x){return D.H.useEffectEvent(x)},St.useId=function(){return D.H.useId()},St.useImperativeHandle=function(x,Y,et){return D.H.useImperativeHandle(x,Y,et)},St.useInsertionEffect=function(x,Y){return D.H.useInsertionEffect(x,Y)},St.useLayoutEffect=function(x,Y){return D.H.useLayoutEffect(x,Y)},St.useMemo=function(x,Y){return D.H.useMemo(x,Y)},St.useOptimistic=function(x,Y){return D.H.useOptimistic(x,Y)},St.useReducer=function(x,Y,et){return D.H.useReducer(x,Y,et)},St.useRef=function(x){return D.H.useRef(x)},St.useState=function(x){return D.H.useState(x)},St.useSyncExternalStore=function(x,Y,et){return D.H.useSyncExternalStore(x,Y,et)},St.useTransition=function(){return D.H.useTransition()},St.version="19.2.3",St}var Iv;function ig(){return Iv||(Iv=1,cm.exports=ab()),cm.exports}var re=ig();const ie=ib(re);var hm={exports:{}},kl={},fm={exports:{}},dm={};var Dv;function ob(){return Dv||(Dv=1,(function(r){function t(F,tt){var ft=F.length;F.push(tt);t:for(;0<ft;){var Mt=ft-1>>>1,jt=F[Mt];if(0<o(jt,tt))F[Mt]=tt,F[ft]=jt,ft=Mt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var tt=F[0],ft=F.pop();if(ft!==tt){F[0]=ft;t:for(var Mt=0,jt=F.length,x=jt>>>1;Mt<x;){var Y=2*(Mt+1)-1,et=F[Y],it=Y+1,_t=F[it];if(0>o(et,ft))it<jt&&0>o(_t,et)?(F[Mt]=_t,F[it]=ft,Mt=it):(F[Mt]=et,F[Y]=ft,Mt=Y);else if(it<jt&&0>o(_t,ft))F[Mt]=_t,F[it]=ft,Mt=it;else break t}}return tt}function o(F,tt){var ft=F.sortIndex-tt.sortIndex;return ft!==0?ft:F.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,S=null,w=3,O=!1,q=!1,J=!1,Q=!1,at=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Et(F){for(var tt=n(p);tt!==null;){if(tt.callback===null)s(p);else if(tt.startTime<=F)s(p),tt.sortIndex=tt.expirationTime,t(g,tt);else break;tt=n(p)}}function Dt(F){if(J=!1,Et(F),!q)if(n(g)!==null)q=!0,wt||(wt=!0,k());else{var tt=n(p);tt!==null&&ye(Dt,tt.startTime-F)}}var wt=!1,D=-1,b=5,C=-1;function V(){return Q?!0:!(r.unstable_now()-C<b)}function N(){if(Q=!1,wt){var F=r.unstable_now();C=F;var tt=!0;try{t:{q=!1,J&&(J=!1,ht(D),D=-1),O=!0;var ft=w;try{e:{for(Et(F),S=n(g);S!==null&&!(S.expirationTime>F&&V());){var Mt=S.callback;if(typeof Mt=="function"){S.callback=null,w=S.priorityLevel;var jt=Mt(S.expirationTime<=F);if(F=r.unstable_now(),typeof jt=="function"){S.callback=jt,Et(F),tt=!0;break e}S===n(g)&&s(g),Et(F)}else s(g);S=n(g)}if(S!==null)tt=!0;else{var x=n(p);x!==null&&ye(Dt,x.startTime-F),tt=!1}}break t}finally{S=null,w=ft,O=!1}tt=void 0}}finally{tt?k():wt=!1}}}var k;if(typeof lt=="function")k=function(){lt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Jt=R.port2;R.port1.onmessage=N,k=function(){Jt.postMessage(null)}}else k=function(){at(N,0)};function ye(F,tt){D=at(function(){F(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(F){switch(w){case 1:case 2:case 3:var tt=3;break;default:tt=w}var ft=w;w=tt;try{return F()}finally{w=ft}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=w;w=F;try{return tt()}finally{w=ft}},r.unstable_scheduleCallback=function(F,tt,ft){var Mt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Mt+ft:Mt):ft=Mt,F){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ft+jt,F={id:E++,callback:tt,priorityLevel:F,startTime:ft,expirationTime:jt,sortIndex:-1},ft>Mt?(F.sortIndex=ft,t(p,F),n(g)===null&&F===n(p)&&(J?(ht(D),D=-1):J=!0,ye(Dt,ft-Mt))):(F.sortIndex=jt,t(g,F),q||O||(q=!0,wt||(wt=!0,k()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var tt=w;return function(){var ft=w;w=tt;try{return F.apply(this,arguments)}finally{w=ft}}}})(dm)),dm}var Ov;function lb(){return Ov||(Ov=1,fm.exports=ob()),fm.exports}var mm={exports:{}},sn={};var Nv;function ub(){if(Nv)return sn;Nv=1;var r=ig();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,E)},sn.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},sn.requestFormReset=function(g){s.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var Mv;function cb(){if(Mv)return mm.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),mm.exports=ub(),mm.exports}var xv;function hb(){if(xv)return kl;xv=1;var r=lb(),t=ig(),n=cb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case at:return"Profiler";case Q:return"StrictMode";case Dt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case lt:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case Et:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:Jt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Jt(e(i))}catch{}}return null}var ye=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Mt=[],jt=-1;function x(e){return{current:e}}function Y(e){0>jt||(e.current=Mt[jt],Mt[jt]=null,jt--)}function et(e,i){jt++,Mt[jt]=e.current,e.current=i}var it=x(null),_t=x(null),At=x(null),xt=x(null);function Se(e,i){switch(et(At,i),et(_t,e),et(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Q_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Q_(i),e=X_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(it),et(it,e)}function Yt(){Y(it),Y(_t),Y(At)}function Qi(e){e.memoizedState!==null&&et(xt,e);var i=it.current,a=X_(i,e.type);i!==a&&(et(_t,e),et(it,a))}function Xi(e){_t.current===e&&(Y(it),Y(_t)),xt.current===e&&(Y(xt),Nl._currentValue=ft)}var $i,Rr;function ut(e){if($i===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$i=i&&i[1]||"",Rr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+e+Rr}var It=!1;function le(e,i){if(!e||It)return"";It=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{It=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ut(a):""}function we(e,i){switch(e.tag){case 26:case 27:case 5:return ut(e.type);case 16:return ut("Lazy");case 13:return e.child!==i&&i!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return le(e.type,!1);case 11:return le(e.type.render,!1);case 1:return le(e.type,!0);case 31:return ut("Activity");default:return""}}function mn(e){try{var i="",a=null;do i+=we(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Wt=Object.prototype.hasOwnProperty,ue=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,wn=r.unstable_shouldYield,Wn=r.unstable_requestPaint,ae=r.unstable_now,Ji=r.unstable_getCurrentPriorityLevel,Pn=r.unstable_ImmediatePriority,Uo=r.unstable_UserBlockingPriority,Cr=r.unstable_NormalPriority,ff=r.unstable_LowPriority,Cu=r.unstable_IdlePriority,Iu=r.log,Du=r.unstable_setDisableYieldValue,Zn=null,Xe=null;function Ln(e){if(typeof Iu=="function"&&Du(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Zn,e)}catch{}}var be=Math.clz32?Math.clz32:Nu,Ou=Math.log,Sa=Math.LN2;function Nu(e){return e>>>=0,e===0?32:31-(Ou(e)/Sa|0)|0}var pi=256,xs=262144,Ne=4194304;function yi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=yi(l):(_&=T,_!==0?h=yi(_):a||(a=T&~e,a!==0&&(h=yi(a))))):(T=l&~d,T!==0?h=yi(T):_!==0?h=yi(_):a||(a=l&~e,a!==0&&(h=yi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ti(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function df(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function vi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Vs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-be(a),X=1<<G;T[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&Us(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Us(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-be(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function ko(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-be(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Po(e,i){var a=i&-i;return a=(a&42)!==0?1:ks(a),(a&(e.suspendedLanes|i))!==0?0:a}function ks(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:_v(e.type))}function ei(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var ni=Math.random().toString(36).slice(2),Me="__reactFiber$"+ni,Fe="__reactProps$"+ni,Ei="__reactContainer$"+ni,wa="__reactEvents$"+ni,gf="__reactListeners$"+ni,Vu="__reactHandles$"+ni,Uu="__reactResources$"+ni,Ti="__reactMarker$"+ni;function ba(e){delete e[Me],delete e[Fe],delete e[wa],delete e[gf],delete e[Vu]}function Ai(e){var i=e[Me];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ei]||a[Me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=nv(e);e!==null;){if(a=e[Me])return a;e=nv(e)}return i}e=a,a=e.parentNode}return null}function zn(e){if(e=e[Me]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function bn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Si(e){var i=e[Uu];return i||(i=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xe(e){e[Ti]=!0}var Lo=new Set,zo={};function wi(e,i){bi(e,i),bi(e+"Capture",i)}function bi(e,i){for(zo[e]=i,e=0;e<i.length;e++)Lo.add(i[e])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Ho={};function ku(e){return Wt.call(Ho,e)?!0:Wt.call(jo,e)?!1:Bo.test(e)?Ho[e]=!0:(jo[e]=!0,!1)}function Ra(e,i,a){if(ku(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Rn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ve(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ir(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=Ir(e)?"checked":"value";e._valueTracker=qo(e,i,""+e[i])}}function Ps(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ir(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ls=/[\n"\\]/g;function gn(e){return e.replace(Ls,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ca(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ge(i)):e.value!==""+Ge(i)&&(e.value=""+Ge(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Fo(e,_,Ge(i)):a!=null?Fo(e,_,Ge(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ge(T):e.removeAttribute("name")}function Pu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Ge(a):"",i=i!=null?""+Ge(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Fo(e,i,a){i==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ge(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Lu(e,i,a){if(i!=null&&(i=""+Ge(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ge(a):""}function Or(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ge(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||zu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(e,d,i[d])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(e){return Nr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var Yo=null;function Bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mr=null,Ci=null;function zs(e){var i=zn(e);if(i&&(e=i.stateNode)){var a=e[Fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Fe]||null;if(!h)throw Error(s(90));Ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ps(l)}break t;case"textarea":Lu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Dr(e,!!a.multiple,i,!1)}}}var Oa=!1;function xr(e,i,a){if(Oa)return e(i,a);Oa=!0;try{var l=e(i);return l}finally{if(Oa=!1,(Mr!==null||Ci!==null)&&(xc(),Mr&&(i=Mr,e=Ci,Ci=Mr=null,zs(i),e)))for(i=0;i<e.length;i++)zs(e[i])}}function ri(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Fe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(jn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Bs=!1}var Ii=null,Qo=null,js=null;function Xo(){if(js)return js;var e,i=Qo,a=i.length,l,h="value"in Ii?Ii.value:Ii.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return js=h.slice(e,1<l?1-l:void 0)}function Hs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function si(){return!1}function $e(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zi:si,this.isPropagationStopped=si,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=$e(tr),Vr=S({},tr,{view:0,detail:0}),$o=$e(Vr),Ur,Na,Oi,Ma=S({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Ur=e.screenX-Oi.screenX,Na=e.screenY-Oi.screenY):Na=Ur=0,Oi=e),Ur)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),Jo=$e(Ma),qs=S({},Ma,{dataTransfer:0}),ju=$e(qs),Hu=S({},Vr,{relatedTarget:0}),Fs=$e(Hu),Wo=S({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=$e(Wo),xa=S({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fu=$e(xa),Gu=S({},tr,{data:0}),Ni=$e(Gu),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Qu[e])?!!i[e]:!1}function kr(){return Xu}var hn=S({},Vr,{key:function(e){if(e.key){var i=Ku[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$u=$e(hn),Ju=S({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=$e(Ju),c=S({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=$e(c),v=S({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$e(v),P=S({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=$e(P),Z=S({},tr,{newState:0,oldState:0}),bt=$e(Z),Re=[9,13,27,32],Ft=jn&&"CompositionEvent"in window,de=null;jn&&"documentMode"in document&&(de=document.documentMode);var Hn=jn&&"TextEvent"in window&&!de,Mi=jn&&(!Ft||de&&8<de&&11>=de),ai=" ",oi=!1;function Gs(e,i){switch(e){case"keyup":return Re.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function CS(e,i){switch(e){case"compositionend":return Va(i);case"keypress":return i.which!==32?null:(oi=!0,ai);case"textInput":return e=i.data,e===ai&&oi?null:e;default:return null}}function IS(e,i){if(Ua)return e==="compositionend"||!Ft&&Gs(e,i)?(e=Xo(),js=Qo=Ii=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Mi&&i.locale!=="ko"?null:i.data;default:return null}}var DS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!DS[e.type]:i==="textarea"}function ap(e,i,a,l){Mr?Ci?Ci.push(l):Ci=[l]:Mr=l,i=Bc(i,"onChange"),0<i.length&&(a=new Di("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Zo=null,tl=null;function OS(e){H_(e,0)}function Wu(e){var i=bn(e);if(Ps(i))return e}function op(e,i){if(e==="change")return i}var lp=!1;if(jn){var pf;if(jn){var yf="oninput"in document;if(!yf){var up=document.createElement("div");up.setAttribute("oninput","return;"),yf=typeof up.oninput=="function"}pf=yf}else pf=!1;lp=pf&&(!document.documentMode||9<document.documentMode)}function cp(){Zo&&(Zo.detachEvent("onpropertychange",hp),tl=Zo=null)}function hp(e){if(e.propertyName==="value"&&Wu(tl)){var i=[];ap(i,tl,e,Bn(e)),xr(OS,i)}}function NS(e,i,a){e==="focusin"?(cp(),Zo=i,tl=a,Zo.attachEvent("onpropertychange",hp)):e==="focusout"&&cp()}function MS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(tl)}function xS(e,i){if(e==="click")return Wu(i)}function VS(e,i){if(e==="input"||e==="change")return Wu(i)}function US(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Cn=typeof Object.is=="function"?Object.is:US;function el(e,i){if(Cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wt.call(i,h)||!Cn(e[h],i[h]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,i){var a=fp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=fp(a)}}function mp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?mp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function gp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ri(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ri(e.document)}return i}function _f(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var kS=jn&&"documentMode"in document&&11>=document.documentMode,ka=null,vf=null,nl=null,Ef=!1;function pp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||ka==null||ka!==Ri(l)||(l=ka,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Bc(vf,"onSelect"),0<l.length&&(i=new Di("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ka)))}function Ks(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Pa={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Tf={},yp={};jn&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ys(e){if(Tf[e])return Tf[e];if(!Pa[e])return e;var i=Pa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in yp)return Tf[e]=i[a];return e}var _p=Ys("animationend"),vp=Ys("animationiteration"),Ep=Ys("animationstart"),PS=Ys("transitionrun"),LS=Ys("transitionstart"),zS=Ys("transitioncancel"),Tp=Ys("transitionend"),Ap=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function li(e,i){Ap.set(e,i),wi(i,[e])}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],La=0,Sf=0;function tc(){for(var e=La,i=Sf=La=0;i<e;){var a=qn[i];qn[i++]=null;var l=qn[i];qn[i++]=null;var h=qn[i];qn[i++]=null;var d=qn[i];if(qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Sp(a,h,d)}}function ec(e,i,a,l){qn[La++]=e,qn[La++]=i,qn[La++]=a,qn[La++]=l,Sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wf(e,i,a,l){return ec(e,i,a,l),nc(e)}function Qs(e,i){return ec(e,null,null,i),nc(e)}function Sp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-be(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(e){if(50<wl)throw wl=0,xd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var za={};function BS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,i,a,l){return new BS(e,i,a,l)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nr(e,i){var a=e.alternate;return a===null?(a=In(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ic(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")bf(e)&&(_=1);else if(typeof e=="string")_=Gw(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=In(31,a,i,h),e.elementType=C,e.lanes=d,e;case J:return Xs(a.children,h,d,i);case Q:_=8,h|=24;break;case at:return e=In(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case Dt:return e=In(13,a,i,h),e.elementType=Dt,e.lanes=d,e;case wt:return e=In(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:_=10;break t;case ht:_=9;break t;case Et:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=In(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Xs(e,i,a,l){return e=In(7,e,l,i),e.lanes=a,e}function Rf(e,i,a){return e=In(6,e,null,i),e.lanes=a,e}function bp(e){var i=In(18,null,null,0);return i.stateNode=e,i}function Cf(e,i,a){return i=In(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Rp=new WeakMap;function Fn(e,i){if(typeof e=="object"&&e!==null){var a=Rp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:mn(i)},Rp.set(e,i),i)}return{value:e,source:i,stack:mn(i)}}var Ba=[],ja=0,rc=null,il=0,Gn=[],Kn=0,Pr=null,xi=1,Vi="";function ir(e,i){Ba[ja++]=il,Ba[ja++]=rc,rc=e,il=i}function Cp(e,i,a){Gn[Kn++]=xi,Gn[Kn++]=Vi,Gn[Kn++]=Pr,Pr=e;var l=xi;e=Vi;var h=32-be(l)-1;l&=~(1<<h),a+=1;var d=32-be(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-be(i)+h|a<<h|l,Vi=d+e}else xi=1<<d|a<<h|l,Vi=e}function If(e){e.return!==null&&(ir(e,1),Cp(e,1,0))}function Df(e){for(;e===rc;)rc=Ba[--ja],Ba[ja]=null,il=Ba[--ja],Ba[ja]=null;for(;e===Pr;)Pr=Gn[--Kn],Gn[Kn]=null,Vi=Gn[--Kn],Gn[Kn]=null,xi=Gn[--Kn],Gn[Kn]=null}function Ip(e,i){Gn[Kn++]=xi,Gn[Kn++]=Vi,Gn[Kn++]=Pr,xi=i.id,Vi=i.overflow,Pr=e}var Je=null,ce=null,zt=!1,Lr=null,Yn=!1,Of=Error(s(519));function zr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Fn(i,e)),Of}function Dp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Me]=e,i[Fe]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Nt(Rl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Pu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),Or(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||K_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||zr(e,!0)}function Op(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Je=Je.return}}function Ha(e){if(e!==Je)return!1;if(!zt)return Op(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qd(e.type,e.memoizedProps)),a=!a),a&&ce&&zr(e),Op(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ce=ev(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ce=ev(e)}else i===27?(i=ce,Zr(e.type)?(e=Zd,Zd=null,ce=e):ce=i):ce=Je?Xn(e.stateNode.nextSibling):null;return!0}function $s(){ce=Je=null,zt=!1}function Nf(){var e=Lr;return e!==null&&(En===null?En=e:En.push.apply(En,e),Lr=null),e}function rl(e){Lr===null?Lr=[e]:Lr.push(e)}var Mf=x(null),Js=null,rr=null;function Br(e,i,a){et(Mf,i._currentValue),i._currentValue=a}function sr(e){e._currentValue=Mf.current,Y(Mf)}function xf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Vf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),xf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function qa(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Cn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===xt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Nl):e=[Nl])}h=h.return}e!==null&&Vf(i,e,a,l),i.flags|=262144}function sc(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ws(e){Js=e,rr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Np(Js,e)}function ac(e,i){return Js===null&&Ws(e),Np(e,i)}function Np(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},rr===null){if(e===null)throw Error(s(308));rr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else rr=rr.next=i;return a}var jS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},HS=r.unstable_scheduleCallback,qS=r.unstable_NormalPriority,Ue={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new jS,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&HS(qS,function(){e.controller.abort()})}var al=null,kf=0,Fa=0,Ga=null;function FS(e,i){if(al===null){var a=al=[];kf=0,Fa=zd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(Mp,Mp),i}function Mp(){if(--kf===0&&al!==null){Ga!==null&&(Ga.status="fulfilled");var e=al;al=null,Fa=0,Ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function GS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xp=F.S;F.S=function(e,i){p_=ae(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&FS(e,i),xp!==null&&xp(e,i)};var Zs=x(null);function Pf(){var e=Zs.current;return e!==null?e:se.pooledCache}function oc(e,i){i===null?et(Zs,Zs.current):et(Zs,i.pool)}function Vp(){var e=Pf();return e===null?null:{parent:Ue._currentValue,pool:e}}var Ka=Error(s(460)),Lf=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function Up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ii,ii),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Lp(e),e;default:if(typeof i.status=="string")i.then(ii,ii);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Lp(e),e}throw ea=i,Ka}}function ta(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,Ka):a}}var ea=null;function Pp(){if(ea===null)throw Error(s(459));var e=ea;return ea=null,e}function Lp(e){if(e===Ka||e===lc)throw Error(s(483))}var Ya=null,ol=0;function cc(e){var i=ol;return ol+=1,Ya===null&&(Ya=[]),kp(Ya,e,i)}function ll(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function hc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function zp(e){function i(U,M){if(e){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=nr(U,M),U.index=0,U.sibling=null,U}function d(U,M,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,L,K){return M===null||M.tag!==6?(M=Rf(L,U.mode,K),M.return=U,M):(M=h(M,L),M.return=U,M)}function I(U,M,L,K){var dt=L.type;return dt===J?G(U,M,L.props.children,K,L.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&ta(dt)===M.type)?(M=h(M,L.props),ll(M,L),M.return=U,M):(M=ic(L.type,L.key,L.props,null,U.mode,K),ll(M,L),M.return=U,M)}function z(U,M,L,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Cf(L,U.mode,K),M.return=U,M):(M=h(M,L.children||[]),M.return=U,M)}function G(U,M,L,K,dt){return M===null||M.tag!==7?(M=Xs(L,U.mode,K,dt),M.return=U,M):(M=h(M,L),M.return=U,M)}function X(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rf(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return L=ic(M.type,M.key,M.props,null,U.mode,L),ll(L,M),L.return=U,L;case q:return M=Cf(M,U.mode,L),M.return=U,M;case b:return M=ta(M),X(U,M,L)}if(ye(M)||k(M))return M=Xs(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return X(U,cc(M),L);if(M.$$typeof===lt)return X(U,ac(U,M),L);hc(U,M)}return null}function B(U,M,L,K){var dt=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:T(U,M,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===dt?I(U,M,L,K):null;case q:return L.key===dt?z(U,M,L,K):null;case b:return L=ta(L),B(U,M,L,K)}if(ye(L)||k(L))return dt!==null?null:G(U,M,L,K,null);if(typeof L.then=="function")return B(U,M,cc(L),K);if(L.$$typeof===lt)return B(U,M,ac(U,L),K);hc(U,L)}return null}function H(U,M,L,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(L)||null,T(M,U,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return U=U.get(K.key===null?L:K.key)||null,I(M,U,K,dt);case q:return U=U.get(K.key===null?L:K.key)||null,z(M,U,K,dt);case b:return K=ta(K),H(U,M,L,K,dt)}if(ye(K)||k(K))return U=U.get(L)||null,G(M,U,K,dt,null);if(typeof K.then=="function")return H(U,M,L,cc(K),dt);if(K.$$typeof===lt)return H(U,M,L,ac(M,K),dt);hc(M,K)}return null}function ot(U,M,L,K){for(var dt=null,Ht=null,ct=M,Ct=M=0,Ut=null;ct!==null&&Ct<L.length;Ct++){ct.index>Ct?(Ut=ct,ct=null):Ut=ct.sibling;var qt=B(U,ct,L[Ct],K);if(qt===null){ct===null&&(ct=Ut);break}e&&ct&&qt.alternate===null&&i(U,ct),M=d(qt,M,Ct),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt,ct=Ut}if(Ct===L.length)return a(U,ct),zt&&ir(U,Ct),dt;if(ct===null){for(;Ct<L.length;Ct++)ct=X(U,L[Ct],K),ct!==null&&(M=d(ct,M,Ct),Ht===null?dt=ct:Ht.sibling=ct,Ht=ct);return zt&&ir(U,Ct),dt}for(ct=l(ct);Ct<L.length;Ct++)Ut=H(ct,U,Ct,L[Ct],K),Ut!==null&&(e&&Ut.alternate!==null&&ct.delete(Ut.key===null?Ct:Ut.key),M=d(Ut,M,Ct),Ht===null?dt=Ut:Ht.sibling=Ut,Ht=Ut);return e&&ct.forEach(function(rs){return i(U,rs)}),zt&&ir(U,Ct),dt}function gt(U,M,L,K){if(L==null)throw Error(s(151));for(var dt=null,Ht=null,ct=M,Ct=M=0,Ut=null,qt=L.next();ct!==null&&!qt.done;Ct++,qt=L.next()){ct.index>Ct?(Ut=ct,ct=null):Ut=ct.sibling;var rs=B(U,ct,qt.value,K);if(rs===null){ct===null&&(ct=Ut);break}e&&ct&&rs.alternate===null&&i(U,ct),M=d(rs,M,Ct),Ht===null?dt=rs:Ht.sibling=rs,Ht=rs,ct=Ut}if(qt.done)return a(U,ct),zt&&ir(U,Ct),dt;if(ct===null){for(;!qt.done;Ct++,qt=L.next())qt=X(U,qt.value,K),qt!==null&&(M=d(qt,M,Ct),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return zt&&ir(U,Ct),dt}for(ct=l(ct);!qt.done;Ct++,qt=L.next())qt=H(ct,U,Ct,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?Ct:qt.key),M=d(qt,M,Ct),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return e&&ct.forEach(function(nb){return i(U,nb)}),zt&&ir(U,Ct),dt}function ne(U,M,L,K){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:t:{for(var dt=L.key;M!==null;){if(M.key===dt){if(dt=L.type,dt===J){if(M.tag===7){a(U,M.sibling),K=h(M,L.props.children),K.return=U,U=K;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&ta(dt)===M.type){a(U,M.sibling),K=h(M,L.props),ll(K,L),K.return=U,U=K;break t}a(U,M);break}else i(U,M);M=M.sibling}L.type===J?(K=Xs(L.props.children,U.mode,K,L.key),K.return=U,U=K):(K=ic(L.type,L.key,L.props,null,U.mode,K),ll(K,L),K.return=U,U=K)}return _(U);case q:t:{for(dt=L.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(U,M.sibling),K=h(M,L.children||[]),K.return=U,U=K;break t}else{a(U,M);break}else i(U,M);M=M.sibling}K=Cf(L,U.mode,K),K.return=U,U=K}return _(U);case b:return L=ta(L),ne(U,M,L,K)}if(ye(L))return ot(U,M,L,K);if(k(L)){if(dt=k(L),typeof dt!="function")throw Error(s(150));return L=dt.call(L),gt(U,M,L,K)}if(typeof L.then=="function")return ne(U,M,cc(L),K);if(L.$$typeof===lt)return ne(U,M,ac(U,L),K);hc(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(U,M.sibling),K=h(M,L),K.return=U,U=K):(a(U,M),K=Rf(L,U.mode,K),K.return=U,U=K),_(U)):a(U,M)}return function(U,M,L,K){try{ol=0;var dt=ne(U,M,L,K);return Ya=null,dt}catch(ct){if(ct===Ka||ct===lc)throw ct;var Ht=In(29,ct,null,U.mode);return Ht.lanes=K,Ht.return=U,Ht}}}var na=zp(!0),Bp=zp(!1),jr=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(e),Sp(e,null,a),i}return ec(e,l,i,a),nc(e)}function ul(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ko(e,a)}}function jf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Hf=!1;function cl(){if(Hf){var e=Ga;if(e!==null)throw e}}function hl(e,i,a,l){Hf=!1;var h=e.updateQueue;jr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;_=0,G=z=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Vt&B)===B:(l&B)===B){B!==0&&B===Fa&&(Hf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,gt=T;B=i;var ne=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){X=ot.call(ne,X,B);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,B=typeof ot=="function"?ot.call(ne,X,B):ot,B==null)break t;X=S({},X,B);break t;case 2:jr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Qr|=_,e.lanes=_,e.memoizedState=X}}function jp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Hp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jp(a[e],i)}var Qa=x(null),fc=x(0);function qp(e,i){e=mr,et(fc,e),et(Qa,i),mr=e|i.baseLanes}function qf(){et(fc,mr),et(Qa,Qa.current)}function Ff(){mr=fc.current,Y(Qa),Y(fc)}var Dn=x(null),Qn=null;function Fr(e){var i=e.alternate;et(Ce,Ce.current&1),et(Dn,e),Qn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Qn=e)}function Gf(e){et(Ce,Ce.current),et(Dn,e),Qn===null&&(Qn=e)}function Fp(e){e.tag===22?(et(Ce,Ce.current),et(Dn,e),Qn===null&&(Qn=e)):Gr()}function Gr(){et(Ce,Ce.current),et(Dn,Dn.current)}function On(e){Y(Dn),Qn===e&&(Qn=null),Y(Ce)}var Ce=x(0);function dc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||Wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ar=0,Rt=null,te=null,ke=null,mc=!1,Xa=!1,ia=!1,gc=0,fl=0,$a=null,KS=0;function _e(){throw Error(s(321))}function Kf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Cn(e[a],i[a]))return!1;return!0}function Yf(e,i,a,l,h,d){return ar=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Cy:ld,ia=!1,d=a(l,h),ia=!1,Xa&&(d=Kp(i,a,l,h)),Gp(e),d}function Gp(e){F.H=gl;var i=te!==null&&te.next!==null;if(ar=0,ke=te=Rt=null,mc=!1,fl=0,$a=null,i)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&sc(e)&&(Pe=!0))}function Kp(e,i,a,l){Rt=e;var h=0;do{if(Xa&&($a=null),fl=0,Xa=!1,25<=h)throw Error(s(301));if(h+=1,ke=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Iy,d=i(a,l)}while(Xa);return d}function YS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?dl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Qf(){var e=gc!==0;return gc=0,e}function Xf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function $f(e){if(mc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}mc=!1}ar=0,ke=te=Rt=null,Xa=!1,fl=gc=0,$a=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Rt.memoizedState=ke=e:ke=ke.next=e,ke}function Ie(){if(te===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=ke===null?Rt.memoizedState:ke.next;if(i!==null)ke=i,te=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ke===null?Rt.memoizedState=ke=e:ke=ke.next=e}return ke}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(e){var i=fl;return fl+=1,$a===null&&($a=[]),e=kp($a,e,i),i=Rt,(ke===null?i.memoizedState:ke.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Cy:ld),e}function yc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===lt)return We(e)}throw Error(s(438,String(e)))}function Jf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function or(e,i){return typeof i=="function"?i(e):i}function _c(e){var i=Ie();return Wf(i,te,e)}function Wf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Vt&X)===X:(ar&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Fa&&(G=!0);else if((ar&B)===B){z=z.next,B===Fa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=X,_=d):I=I.next=X,Rt.lanes|=B,Qr|=B;X=z.action,ia&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,Rt.lanes|=X,Qr|=X;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!Cn(d,e.memoizedState)&&(Pe=!0,G&&(a=Ga,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zf(e){var i=Ie(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Cn(d,i.memoizedState)||(Pe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yp(e,i,a){var l=Rt,h=Ie(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Cn((te||h).memoizedState,a);if(_&&(h.memoizedState=a,Pe=!0),h=h.queue,nd($p.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||ke!==null&&ke.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Xp.bind(null,l,h,a,i),null),se===null)throw Error(s(349));d||(ar&127)!==0||Qp(l,i,a)}return a}function Qp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=pc(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Xp(e,i,a,l){i.value=a,i.getSnapshot=l,Jp(i)&&Wp(e)}function $p(e,i,a){return a(function(){Jp(i)&&Wp(e)})}function Jp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Cn(e,a)}catch{return!0}}function Wp(e){var i=Qs(e,2);i!==null&&Tn(i,e,2)}function td(e){var i=fn();if(typeof e=="function"){var a=e;if(e=a(),ia){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:e},i}function Zp(e,i,a,l){return e.baseState=a,Wf(e,te,typeof l=="function"?l:or)}function QS(e,i,a,l,h){if(Tc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var T=a(h,l),I=F.S;I!==null&&I(_,T),ey(e,i,T)}catch(z){ed(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),ey(e,i,d)}catch(z){ed(e,i,z)}}function ey(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(e,i,l)},function(l){return ed(e,i,l)}):ny(e,i,a)}function ny(e,i,a){i.status="fulfilled",i.value=a,iy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ty(e,a)))}function ed(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,iy(i),i=i.next;while(i!==l)}e.action=null}function iy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ry(e,i){return i}function sy(e,i){if(zt){var a=se.formState;if(a!==null){t:{var l=Rt;if(zt){if(ce){e:{for(var h=ce,d=Yn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=Xn(h.nextSibling),l=h.data==="F!";break t}}zr(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=wy.bind(null,Rt,l),l.dispatch=a,l=td(!1),d=od.bind(null,Rt,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=QS.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ay(e){var i=Ie();return oy(i,te,e)}function oy(e,i,a){if(i=Wf(e,i,ry)[0],e=_c(or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===Ka?lc:_}else l=i;i=Ie();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Ja(9,{destroy:void 0},XS.bind(null,h,a),null)),[l,d,e]}function XS(e,i){e.action=i}function ly(e){var i=Ie(),a=te;if(a!==null)return oy(i,a,e);Ie(),i=i.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ja(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=pc(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function uy(){return Ie().memoizedState}function vc(e,i,a,l){var h=fn();Rt.flags|=e,h.memoizedState=Ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ec(e,i,a,l){var h=Ie();l=l===void 0?null:l;var d=h.memoizedState.inst;te!==null&&l!==null&&Kf(l,te.memoizedState.deps)?h.memoizedState=Ja(i,d,a,l):(Rt.flags|=e,h.memoizedState=Ja(1|i,d,a,l))}function cy(e,i){vc(8390656,8,e,i)}function nd(e,i){Ec(2048,8,e,i)}function $S(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=pc(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function hy(e){var i=Ie().memoizedState;return $S({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function fy(e,i){return Ec(4,2,e,i)}function dy(e,i){return Ec(4,4,e,i)}function my(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function gy(e,i,a){a=a!=null?a.concat([e]):null,Ec(4,4,my.bind(null,i,e),a)}function id(){}function py(e,i){var a=Ie();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function yy(e,i){var a=Ie();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=e(),ia){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[l,i],l}function rd(e,i,a){return a===void 0||(ar&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=__(),Rt.lanes|=e,Qr|=e,a)}function _y(e,i,a,l){return Cn(a,i)?a:Qa.current!==null?(e=rd(e,a,l),Cn(e,i)||(Pe=!0),e):(ar&42)===0||(ar&1073741824)!==0&&(Vt&261930)===0?(Pe=!0,e.memoizedState=a):(e=__(),Rt.lanes|=e,Qr|=e,i)}function vy(e,i,a,l,h){var d=tt.p;tt.p=d!==0&&8>d?d:8;var _=F.T,T={};F.T=T,od(e,!1,i,a);try{var I=h(),z=F.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=GS(I,l);ml(e,i,G,xn(e))}else ml(e,i,l,xn(e))}catch(X){ml(e,i,{then:function(){},status:"rejected",reason:X},xn())}finally{tt.p=d,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function JS(){}function sd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ey(e).queue;vy(e,h,i,ft,a===null?JS:function(){return Ty(e),a(l)})}function Ey(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ty(e){var i=Ey(e);i.next===null&&(i=e.alternate.memoizedState),ml(e,i.next.queue,{},xn())}function ad(){return We(Nl)}function Ay(){return Ie().memoizedState}function Sy(){return Ie().memoizedState}function WS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();e=Hr(a);var l=qr(i,e,a);l!==null&&(Tn(l,i,a),ul(l,i,a)),i={cache:Uf()},e.payload=i;return}i=i.return}}function ZS(e,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(e)?by(i,a):(a=wf(e,i,a,l),a!==null&&(Tn(a,e,l),Ry(a,i,l)))}function wy(e,i,a){var l=xn();ml(e,i,a,l)}function ml(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))by(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,_))return ec(e,i,h,0),se===null&&tc(),!1}catch{}if(a=wf(e,i,h,l),a!==null)return Tn(a,e,l),Ry(a,i,l),!0}return!1}function od(e,i,a,l){if(l={lane:2,revertLane:zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(e)){if(i)throw Error(s(479))}else i=wf(e,a,l,2),i!==null&&Tn(i,e,2)}function Tc(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function by(e,i){Xa=mc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ry(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ko(e,a)}}var gl={readContext:We,use:yc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};gl.useEffectEvent=_e;var Cy={readContext:We,use:yc,useCallback:function(e,i){return fn().memoizedState=[e,i===void 0?null:i],e},useContext:We,useEffect:cy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,vc(4194308,4,my.bind(null,i,e),a)},useLayoutEffect:function(e,i){return vc(4194308,4,e,i)},useInsertionEffect:function(e,i){vc(4,2,e,i)},useMemo:function(e,i){var a=fn();i=i===void 0?null:i;var l=e();if(ia){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=fn();if(a!==void 0){var h=a(i);if(ia){Ln(!0);try{a(i)}finally{Ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=ZS.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=fn();return e={current:e},i.memoizedState=e},useState:function(e){e=td(e);var i=e.queue,a=wy.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:id,useDeferredValue:function(e,i){var a=fn();return rd(a,e,i)},useTransition:function(){var e=td(!1);return e=vy.bind(null,Rt,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=fn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));(Vt&127)!==0||Qp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cy($p.bind(null,l,d,e),[e]),l.flags|=2048,Ja(9,{destroy:void 0},Xp.bind(null,l,d,a,i),null),a},useId:function(){var e=fn(),i=se.identifierPrefix;if(zt){var a=Vi,l=xi;a=(l&~(1<<32-be(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=KS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ad,useFormState:sy,useActionState:sy,useOptimistic:function(e){var i=fn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=od.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Jf,useCacheRefresh:function(){return fn().memoizedState=WS.bind(null,Rt)},useEffectEvent:function(e){var i=fn(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:We,use:yc,useCallback:py,useContext:We,useEffect:nd,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:_c,useRef:uy,useState:function(){return _c(or)},useDebugValue:id,useDeferredValue:function(e,i){var a=Ie();return _y(a,te.memoizedState,e,i)},useTransition:function(){var e=_c(or)[0],i=Ie().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:Yp,useId:Ay,useHostTransitionStatus:ad,useFormState:ay,useActionState:ay,useOptimistic:function(e,i){var a=Ie();return Zp(a,te,e,i)},useMemoCache:Jf,useCacheRefresh:Sy};ld.useEffectEvent=hy;var Iy={readContext:We,use:yc,useCallback:py,useContext:We,useEffect:nd,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Zf,useRef:uy,useState:function(){return Zf(or)},useDebugValue:id,useDeferredValue:function(e,i){var a=Ie();return te===null?rd(a,e,i):_y(a,te.memoizedState,e,i)},useTransition:function(){var e=Zf(or)[0],i=Ie().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:Yp,useId:Ay,useHostTransitionStatus:ad,useFormState:ly,useActionState:ly,useOptimistic:function(e,i){var a=Ie();return te!==null?Zp(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Sy};Iy.useEffectEvent=hy;function ud(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=xn(),h=Hr(l);h.payload=i,a!=null&&(h.callback=a),i=qr(e,h,l),i!==null&&(Tn(i,e,l),ul(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=xn(),h=Hr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=qr(e,h,l),i!==null&&(Tn(i,e,l),ul(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=xn(),l=Hr(a);l.tag=2,i!=null&&(l.callback=i),i=qr(e,l,a),i!==null&&(Tn(i,e,a),ul(i,e,a))}};function Dy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Oy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&cd.enqueueReplaceState(i,i.state,null)}function ra(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ny(e){Zu(e)}function My(e){console.error(e)}function xy(e){Zu(e)}function Ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hd(e,i,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,i)},a}function Uy(e){return e=Hr(e),e.tag=3,e}function ky(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Vy(i,a,l),typeof h!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qa(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Vc():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(e,l,h)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(e,l,h)),!1}throw Error(s(435,a.tag))}return kd(e,l,h),Vc(),!1}if(zt)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(e=Error(s(422),{cause:l}),rl(Fn(e,a)))):(l!==Of&&(i=Error(s(423),{cause:l}),rl(Fn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Fn(l,a),h=hd(e.stateNode,l,h),jf(e,h),ve!==4&&(ve=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),Sl===null?Sl=[d]:Sl.push(d),ve!==4&&(ve=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=hd(a.stateNode,l,e),jf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uy(h),ky(h,e,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var fd=Error(s(461)),Pe=!1;function Ze(e,i,a,l){i.child=e===null?Bp(i,null,a,l):na(i,e.child,a,l)}function Py(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ws(i),l=Yf(e,i,a,_,d,h),T=Qf(),e!==null&&!Pe?(Xf(e,i,h),lr(e,i,h)):(zt&&T&&If(i),i.flags|=1,Ze(e,i,l,h),i.child)}function Ly(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zy(e,i,d,l,h)):(e=ic(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Ed(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&e.ref===i.ref)return lr(e,i,h)}return i.flags|=1,e=nr(d,l),e.ref=i.ref,e.return=i,i.child=e}function zy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(el(d,l)&&e.ref===i.ref)if(Pe=!1,i.pendingProps=l=d,Ed(e,h))(e.flags&131072)!==0&&(Pe=!0);else return i.lanes=e.lanes,lr(e,i,h)}return dd(e,i,a,l,h)}function By(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return jy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(i,d!==null?d.cachePool:null),d!==null?qp(i,d):qf(),Fp(i);else return l=i.lanes=536870912,jy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(i,d.cachePool),qp(i,d),Gr(),i.memoizedState=null):(e!==null&&oc(i,null),qf(),Gr());return Ze(e,i,h,a),i.child}function pl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function jy(e,i,a,l,h){var d=Pf();return d=d===null?null:{parent:Ue._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&oc(i,null),qf(),Fp(i),e!==null&&qa(e,i,l,!0),i.childLanes=h,null}function Sc(e,i){return i=bc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Hy(e,i,a){return na(i,e.child,null,a),e=Sc(i,i.pendingProps),e.flags|=2,On(i),i.memoizedState=null,e}function ew(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=Sc(i,l),i.lanes=536870912,pl(null,e);if(Gf(i),(e=ce)?(e=tv(e,Yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:xi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=bp(e),a.return=i,i.child=a,Je=i,ce=null)):e=null,e===null)throw zr(i);return i.lanes=536870912,null}return Sc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Gf(i),h)if(i.flags&256)i.flags&=-257,i=Hy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Pe||qa(e,i,a,!1),h=(a&e.childLanes)!==0,Pe||h){if(l=se,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Qs(e,_),Tn(l,e,_),fd;Vc(),i=Hy(e,i,a)}else e=d.treeContext,ce=Xn(_.nextSibling),Je=i,zt=!0,Lr=null,Yn=!1,e!==null&&Ip(i,e),i=Sc(i,l),i.flags|=4096;return i}return e=nr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function wc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function dd(e,i,a,l,h){return Ws(i),a=Yf(e,i,a,l,void 0,h),l=Qf(),e!==null&&!Pe?(Xf(e,i,h),lr(e,i,h)):(zt&&l&&If(i),i.flags|=1,Ze(e,i,a,h),i.child)}function qy(e,i,a,l,h,d){return Ws(i),i.updateQueue=null,a=Kp(i,l,a,h),Gp(e),l=Qf(),e!==null&&!Pe?(Xf(e,i,d),lr(e,i,d)):(zt&&l&&If(i),i.flags|=1,Ze(e,i,a,d),i.child)}function Fy(e,i,a,l,h){if(Ws(i),i.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=We(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},zf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?We(_):za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ud(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&cd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=ra(a,T);d.props=I;var z=d.context,G=a.contextType;_=za,typeof G=="object"&&G!==null&&(_=We(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Oy(i,d,l,_),jr=!1;var B=i.memoizedState;d.state=B,hl(i,l,d,h),cl(),z=i.memoizedState,T||B!==z||jr?(typeof X=="function"&&(ud(i,a,X,l),z=i.memoizedState),(I=jr||Dy(i,a,I,l,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(e,i),_=i.memoizedProps,G=ra(a,_),d.props=G,X=i.pendingProps,B=d.context,z=a.contextType,I=za,typeof z=="object"&&z!==null&&(I=We(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||B!==I)&&Oy(i,d,l,I),jr=!1,B=i.memoizedState,d.state=B,hl(i,l,d,h),cl();var H=i.memoizedState;_!==X||B!==H||jr||e!==null&&e.dependencies!==null&&sc(e.dependencies)?(typeof T=="function"&&(ud(i,a,T,l),H=i.memoizedState),(G=jr||Dy(i,a,G,l,B,H,I)||e!==null&&e.dependencies!==null&&sc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=na(i,e.child,null,h),i.child=na(i,null,a,h)):Ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=lr(e,i,h),e}function Gy(e,i,a,l){return $s(),i.flags|=256,Ze(e,i,a,l),i.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:Vp()}}function pd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Mn),e}function Ky(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Fr(i):Gr(),(e=ce)?(e=tv(e,Yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:xi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=bp(e),a.return=i,i.child=a,Je=i,ce=null)):e=null,e===null)throw zr(i);return Wd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Gr(),h=i.mode,T=bc({mode:"hidden",children:T},h),l=Xs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=gd(a),l.childLanes=pd(e,_,a),i.memoizedState=md,pl(null,l)):(Fr(i),yd(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Fr(i),i.flags&=-257,i=_d(e,i,a)):i.memoizedState!==null?(Gr(),i.child=e.child,i.flags|=128,i=null):(Gr(),T=l.fallback,h=i.mode,l=bc({mode:"visible",children:l.children},h),T=Xs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,na(i,e.child,null,a),l=i.child,l.memoizedState=gd(a),l.childLanes=pd(e,_,a),i.memoizedState=md,i=pl(null,l));else if(Fr(i),Wd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=_d(e,i,a)}else if(Pe||qa(e,i,a,!1),_=(a&e.childLanes)!==0,Pe||_){if(_=se,_!==null&&(l=Po(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Qs(e,l),Tn(_,e,l),fd;Jd(T)||Vc(),i=_d(e,i,a)}else Jd(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ce=Xn(T.nextSibling),Je=i,zt=!0,Lr=null,Yn=!1,e!==null&&Ip(i,e),i=yd(i,l.children),i.flags|=4096);return i}return h?(Gr(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=nr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=nr(z,T):(T=Xs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,pl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=gd(a):(h=T.cachePool,h!==null?(I=Ue._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Vp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=pd(e,_,a),i.memoizedState=md,pl(e.child,l)):(Fr(i),a=e.child,e=a.sibling,a=nr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function yd(e,i){return i=bc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function bc(e,i){return e=In(22,e,null,i),e.lanes=0,e}function _d(e,i,a){return na(i,e.child,null,a),e=yd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Yy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),xf(e.return,i,a)}function vd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Qy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Ce.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,et(Ce,_),Ze(e,i,l,a),l=zt?il:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yy(e,a,i);else if(e.tag===19)Yy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&dc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),vd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&dc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}vd(i,!0,a,null,d,l);break;case"together":vd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function lr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(qa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=nr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=nr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Ed(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&sc(e)))}function nw(e,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Br(i,Ue,e.memoizedState.cache),$s();break;case 27:case 5:Qi(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ky(e,i,a):(Fr(i),e=lr(e,i,a),e!==null?e.sibling:null);Fr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qa(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ce,Ce.current),l)break;return null;case 22:return i.lanes=0,By(e,i,a,i.pendingProps);case 24:Br(i,Ue,e.memoizedState.cache)}return lr(e,i,a)}function Xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Pe=!0;else{if(!Ed(e,a)&&(i.flags&128)===0)return Pe=!1,nw(e,i,a);Pe=(e.flags&131072)!==0}else Pe=!1,zt&&(i.flags&1048576)!==0&&Cp(i,il,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=ta(i.elementType),i.type=e,typeof e=="function")bf(e)?(l=ra(e,l),i.tag=1,i=Fy(null,i,e,l,a)):(i.tag=0,i=dd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){i.tag=11,i=Py(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=Ly(null,i,e,l,a);break t}}throw i=Jt(e)||e,Error(s(306,i,""))}}return i;case 0:return dd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ra(l,i.pendingProps),Fy(e,i,l,h,a);case 3:t:{if(Se(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(e,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Br(i,Ue,l),l!==d.cache&&Vf(i,[Ue],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gy(e,i,l,a);break t}else if(l!==h){h=Fn(Error(s(424)),i),rl(h),i=Gy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ce=Xn(e.firstChild),Je=i,zt=!0,Lr=null,Yn=!0,a=Bp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($s(),l===h){i=lr(e,i,a);break t}Ze(e,i,l,a)}i=i.child}return i;case 26:return wc(e,i),e===null?(a=av(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=jc(At.current).createElement(a),l[Me]=i,l[Fe]=e,tn(l,a,e),xe(l),i.stateNode=l):i.memoizedState=av(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Qi(i),e===null&&zt&&(l=i.stateNode=iv(i.type,i.pendingProps,At.current),Je=i,Yn=!0,h=ce,Zr(i.type)?(Zd=h,ce=Xn(l.firstChild)):ce=h),Ze(e,i,i.pendingProps.children,a),wc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=ce)&&(l=Mw(l,i.type,i.pendingProps,Yn),l!==null?(i.stateNode=l,Je=i,ce=Xn(l.firstChild),Yn=!1,h=!0):h=!1),h||zr(i)),Qi(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Qd(h,d)?l=null:_!==null&&Qd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(e,i,YS,null,null,a),Nl._currentValue=h),wc(e,i),Ze(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=ce)&&(a=xw(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,Je=i,ce=null,e=!0):e=!1),e||zr(i)),null;case 13:return Ky(e,i,a);case 4:return Se(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=na(i,null,l,a):Ze(e,i,l,a),i.child;case 11:return Py(e,i,i.type,i.pendingProps,a);case 7:return Ze(e,i,i.pendingProps,a),i.child;case 8:return Ze(e,i,i.pendingProps.children,a),i.child;case 12:return Ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Br(i,i.type,l.value),Ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ws(i),h=We(h),l=l(h),i.flags|=1,Ze(e,i,l,a),i.child;case 14:return Ly(e,i,i.type,i.pendingProps,a);case 15:return zy(e,i,i.type,i.pendingProps,a);case 19:return Qy(e,i,a);case 31:return ew(e,i,a);case 22:return By(e,i,a,i.pendingProps);case 24:return Ws(i),l=We(Ue),e===null?(h=Pf(),h===null&&(h=se,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},zf(i),Br(i,Ue,h)):((e.lanes&a)!==0&&(Bf(e,i),hl(i,null,null,a),cl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Br(i,Ue,l)):(l=d.cache,Br(i,Ue,l),l!==h.cache&&Vf(i,[Ue],a,!0))),Ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ur(e){e.flags|=4}function Td(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(A_())e.flags|=8192;else throw ea=uc,Lf}else e.flags&=-16777217}function $y(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hv(i))if(A_())e.flags|=8192;else throw ea=uc,Lf}function Rc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Mu():536870912,e.lanes|=i,eo|=i)}function yl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function iw(e,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),sr(Ue),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ha(i)?ur(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nf())),he(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(ur(i),d!==null?(he(i),$y(i,d)):(he(i),Td(i,h,null,l,a))):d?d!==e.memoizedState?(ur(i),he(i),$y(i,d)):(he(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&ur(i),he(i),Td(i,h,e,l,a)),null;case 27:if(Xi(i),a=At.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=it.current,Ha(i)?Dp(i):(e=iv(h,l,a),i.stateNode=e,ur(i))}return he(i),null;case 5:if(Xi(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(d=it.current,Ha(i))Dp(i);else{var _=jc(At.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Me]=i,d[Fe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ur(i)}}return he(i),Td(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ur(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,Ha(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Me]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(e.nodeValue,a)),e||zr(i,!0)}else e=jc(e).createTextNode(l),e[Me]=i,i.stateNode=e}return he(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ha(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Me]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),e=!1}else a=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(On(i),i):(On(i),null);if((i.flags&128)!==0)throw Error(s(558))}return he(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ha(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Me]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(On(i),i):(On(i),null)}return On(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),he(i),null);case 4:return Yt(),e===null&&qd(i.stateNode.containerInfo),he(i),null;case 10:return sr(i.type),he(i),null;case 19:if(Y(Ce),l=i.memoizedState,l===null)return he(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=dc(e),d!==null){for(i.flags|=128,yl(l,!1),e=d.updateQueue,i.updateQueue=e,Rc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)wp(a,e),a=a.sibling;return et(Ce,Ce.current&1|2),zt&&ir(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&ae()>Nc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(e=dc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Rc(i,e),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return he(i),null}else 2*ae()-l.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ae(),e.sibling=null,a=Ce.current,et(Ce,h?a&1|2:a&1),zt&&ir(i,l.treeForkCount),e):(he(i),null);case 22:case 23:return On(i),Ff(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Y(Zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),sr(Ue),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rw(e,i){switch(Df(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return sr(Ue),Yt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xi(i),null;case 31:if(i.memoizedState!==null){if(On(i),i.alternate===null)throw Error(s(340));$s()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(On(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$s()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(Ce),null;case 4:return Yt(),null;case 10:return sr(i.type),null;case 22:case 23:return On(i),Ff(),e!==null&&Y(Zs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return sr(Ue),null;case 25:return null;default:return null}}function Jy(e,i){switch(Df(i),i.tag){case 3:sr(Ue),Yt();break;case 26:case 27:case 5:Xi(i);break;case 4:Yt();break;case 31:i.memoizedState!==null&&On(i);break;case 13:On(i);break;case 19:Y(Ce);break;case 10:sr(i.type);break;case 22:case 23:On(i),Ff(),e!==null&&Y(Zs);break;case 24:sr(Ue)}}function _l(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Kr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(G){$t(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){$t(i,i.return,G)}}function Wy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hp(i,a)}catch(l){$t(e,e.return,l)}}}function Zy(e,i,a){a.props=ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function vl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function Ui(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function t_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Ad(e,i,a){try{var l=e.stateNode;Rw(l,e.type,a,i),l[Fe]=i}catch(h){$t(e,e.return,h)}}function e_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zr(e.type)||e.tag===4}function Sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||e_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ii));else if(l!==4&&(l===27&&Zr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(wd(e,i,a),e=e.sibling;e!==null;)wd(e,i,a),e=e.sibling}function Cc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cc(e,i,a),e=e.sibling;e!==null;)Cc(e,i,a),e=e.sibling}function n_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,l,a),i[Me]=e,i[Fe]=a}catch(d){$t(e,e.return,d)}}var cr=!1,Le=!1,bd=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function sw(e,i){if(e=e.containerInfo,Kd=Qc,e=gp(e),_f(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||l!==0&&X.nodeType!==3||(I=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++G===l&&(I=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},Qc=!1,Ke=i;Ke!==null;)if(i=Ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ke=e;else for(;Ke!==null;){switch(i=Ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ot=ra(a.type,h);e=l.getSnapshotBeforeUpdate(ot,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)$d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ke=e;break}Ke=i.return}}function r_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(e,a),l&4&&_l(5,a);break;case 1:if(fr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=ra(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&Wy(a),l&512&&vl(a,a.return);break;case 3:if(fr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hp(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&l&4&&n_(a);case 26:case 5:fr(e,a),i===null&&l&4&&t_(a),l&512&&vl(a,a.return);break;case 12:fr(e,a);break;case 31:fr(e,a),l&4&&o_(e,a);break;case 13:fr(e,a),l&4&&l_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mw.bind(null,a),Vw(e,a))));break;case 22:if(l=a.memoizedState!==null||cr,!l){i=i!==null&&i.memoizedState!==null||Le,h=cr;var d=Le;cr=l,(Le=i)&&!d?dr(e,a,(a.subtreeFlags&8772)!==0):fr(e,a),cr=h,Le=d}break;case 30:break;default:fr(e,a)}}function s_(e){var i=e.alternate;i!==null&&(e.alternate=null,s_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ba(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,yn=!1;function hr(e,i,a){for(a=a.child;a!==null;)a_(e,i,a),a=a.sibling}function a_(e,i,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:Le||Ui(a,i),hr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Le||Ui(a,i);var l=me,h=yn;Zr(a.type)&&(me=a.stateNode,yn=!1),hr(e,i,a),Il(a.stateNode),me=l,yn=h;break;case 5:Le||Ui(a,i);case 6:if(l=me,h=yn,me=null,hr(e,i,a),me=l,yn=h,me!==null)if(yn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{me.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:me!==null&&(yn?(e=me,W_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),uo(e)):W_(me,a.stateNode));break;case 4:l=me,h=yn,me=a.stateNode.containerInfo,yn=!0,hr(e,i,a),me=l,yn=h;break;case 0:case 11:case 14:case 15:Kr(2,a,i),Le||Kr(4,a,i),hr(e,i,a);break;case 1:Le||(Ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),hr(e,i,a);break;case 21:hr(e,i,a);break;case 22:Le=(l=Le)||a.memoizedState!==null,hr(e,i,a),Le=l;break;default:hr(e,i,a)}}function o_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{uo(e)}catch(a){$t(i,i.return,a)}}}function l_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(a){$t(i,i.return,a)}}function aw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new i_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new i_),i;default:throw Error(s(435,e.tag))}}function Ic(e,i){var a=aw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=gw.bind(null,e,l);l.then(h,h)}})}function _n(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Zr(T.type)){me=T.stateNode,yn=!1;break t}break;case 5:me=T.stateNode,yn=!1;break t;case 3:case 4:me=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(me===null)throw Error(s(160));a_(d,_,h),me=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u_(i,e),i=i.sibling}var ui=null;function u_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(i,e),vn(e),l&4&&(Kr(3,e,e.return),_l(3,e),Kr(5,e,e.return));break;case 1:_n(i,e),vn(e),l&512&&(Le||a===null||Ui(a,a.return)),l&64&&cr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ui;if(_n(i,e),vn(e),l&512&&(Le||a===null||Ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ti]||d[Me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Me]=e,xe(d),l=d;break t;case"link":var _=uv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=uv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Me]=e,xe(d),l=d}e.stateNode=l}else cv(h,e.type,e.stateNode);else e.stateNode=lv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?cv(h,e.type,e.stateNode):lv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(i,e),vn(e),l&512&&(Le||a===null||Ui(a,a.return)),a!==null&&l&4&&Ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,e),vn(e),l&512&&(Le||a===null||Ui(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(ot){$t(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ad(e,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(_n(i,e),vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ot){$t(e,e.return,ot)}}break;case 3:if(Fc=null,h=ui,ui=Hc(i.containerInfo),_n(i,e),ui=h,vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(ot){$t(e,e.return,ot)}bd&&(bd=!1,c_(e));break;case 4:l=ui,ui=Hc(e.stateNode.containerInfo),_n(i,e),vn(e),ui=l;break;case 12:_n(i,e),vn(e);break;case 31:_n(i,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 13:_n(i,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=ae()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=cr,G=Le;if(cr=z||h,Le=G||I,_n(i,e),Le=G,cr=z,vn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||cr||Le||sa(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){$t(I,I.return,ot)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){$t(I,I.return,ot)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?Z_(H,!0):Z_(I.stateNode,!1)}catch(ot){$t(I,I.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(e,a))));break;case 19:_n(i,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 30:break;case 21:break;default:_n(i,e),vn(e)}}function vn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(e_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Sd(e);Cc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var T=Sd(e);Cc(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Sd(e);wd(e,z,I);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function c_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;c_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function fr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(e,i.alternate,i),i=i.sibling}function sa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),sa(i);break;case 1:Ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),sa(i);break;case 27:Il(i.stateNode);case 26:case 5:Ui(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}e=e.sibling}}function dr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:dr(h,d,a),_l(4,d);break;case 1:if(dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)jp(I[h],T)}catch(z){$t(l,l.return,z)}}a&&_&64&&Wy(d),vl(d,d.return);break;case 27:n_(d);case 26:case 5:dr(h,d,a),a&&l===null&&_&4&&t_(d),vl(d,d.return);break;case 12:dr(h,d,a);break;case 31:dr(h,d,a),a&&_&4&&o_(h,d);break;case 13:dr(h,d,a),a&&_&4&&l_(h,d);break;case 22:d.memoizedState===null&&dr(h,d,a),vl(d,d.return);break;case 30:break;default:dr(h,d,a)}i=i.sibling}}function Rd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sl(a))}function Cd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&sl(e))}function ci(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h_(e,i,a,l),i=i.sibling}function h_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(e,i,a,l),h&2048&&_l(9,i);break;case 1:ci(e,i,a,l);break;case 3:ci(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&sl(e)));break;case 12:if(h&2048){ci(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(i,i.return,I)}}else ci(e,i,a,l);break;case 31:ci(e,i,a,l);break;case 13:ci(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ci(e,i,a,l):El(e,i):d._visibility&2?ci(e,i,a,l):(d._visibility|=2,Wa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Rd(_,i);break;case 24:ci(e,i,a,l),h&2048&&Cd(i.alternate,i);break;default:ci(e,i,a,l)}}function Wa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,T,I,h),_l(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Wa(d,_,T,I,h):El(d,_):(G._visibility|=2,Wa(d,_,T,I,h)),h&&z&2048&&Rd(_.alternate,_);break;case 24:Wa(d,_,T,I,h),h&&z&2048&&Cd(_.alternate,_);break;default:Wa(d,_,T,I,h)}i=i.sibling}}function El(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Rd(l.alternate,l);break;case 24:El(a,l),h&2048&&Cd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Za(e,i,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)f_(e,i,a),e=e.sibling}function f_(e,i,a){switch(e.tag){case 26:Za(e,i,a),e.flags&Tl&&e.memoizedState!==null&&Kw(a,ui,e.memoizedState,e.memoizedProps);break;case 5:Za(e,i,a);break;case 3:case 4:var l=ui;ui=Hc(e.stateNode.containerInfo),Za(e,i,a),ui=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Za(e,i,a),Tl=l):Za(e,i,a));break;default:Za(e,i,a)}}function d_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ke=l,g_(l,e)}d_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)m_(e),e=e.sibling}function m_(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Kr(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Dc(e)):Al(e);break;default:Al(e)}}function Dc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ke=l,g_(l,e)}d_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}e=e.sibling}}function g_(e,i){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:Kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ke=l;else t:for(a=e;Ke!==null;){l=Ke;var h=l.sibling,d=l.return;if(s_(l),l===a){Ke=null;break t}if(h!==null){h.return=d,Ke=h;break t}Ke=d}}}var ow={getCacheForType:function(e){var i=We(Ue),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return We(Ue).controller.signal}},lw=typeof WeakMap=="function"?WeakMap:Map,Gt=0,se=null,Ot=null,Vt=0,Xt=0,Nn=null,Yr=!1,to=!1,Id=!1,mr=0,ve=0,Qr=0,aa=0,Dd=0,Mn=0,eo=0,Sl=null,En=null,Od=!1,Oc=0,p_=0,Nc=1/0,Mc=null,Xr=null,He=0,$r=null,no=null,gr=0,Nd=0,Md=null,y_=null,wl=0,xd=null;function xn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:F.T!==null?zd():xu()}function __(){if(Mn===0)if((Vt&536870912)===0||zt){var e=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),Mn=e}else Mn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Mn}function Tn(e,i,a){(e===se&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(io(e,0),Jr(e,Vt,Mn,!1)),Vs(e,a),((Gt&2)===0||e!==se)&&(e===se&&((Gt&2)===0&&(aa|=a),ve===4&&Jr(e,Vt,Mn,!1)),ki(e))}function v_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||ti(e,i),h=l?hw(e,i):Ud(e,i,!0),d=l;do{if(h===0){to&&!l&&Jr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!uw(a)){h=Ud(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=Sl;var I=T.current.memoizedState.isDehydrated;if(I&&(io(T,_).flags|=256),_=Ud(T,_,!1),_!==2){if(Id&&!I){T.errorRecoveryDisabledLanes|=d,aa|=d,h=4;break t}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){io(e,0),Jr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Jr(l,i,Mn,!Yr);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Oc+300-ae(),10<h)){if(Jr(l,i,Mn,!Yr),_i(l,0,!0)!==0)break t;gr=i,l.timeoutHandle=$_(E_.bind(null,l,a,En,Mc,Od,i,Mn,aa,eo,Yr,d,"Throttled",-0,0),h);break t}E_(l,a,En,Mc,Od,i,Mn,aa,eo,Yr,d,null,-0,0)}}break}while(!0);ki(e)}function E_(e,i,a,l,h,d,_,T,I,z,G,X,B,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},f_(i,d,X);var ot=(d&62914560)===d?Oc-ae():(d&4194048)===d?p_-ae():0;if(ot=Yw(X,ot),ot!==null){gr=d,e.cancelPendingCommit=ot(I_.bind(null,e,i,d,a,l,h,_,T,I,G,X,null,B,H)),Jr(e,d,_,!z);return}}I_(e,i,d,a,l,h,_,T,I)}function uw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(e,i,a,l){i&=~Dd,i&=~aa,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-be(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Us(e,a,i)}function xc(){return(Gt&6)===0?(bl(0),!1):!0}function Vd(){if(Ot!==null){if(Xt===0)var e=Ot.return;else e=Ot,rr=Js=null,$f(e),Ya=null,ol=0,e=Ot;for(;e!==null;)Jy(e.alternate,e),e=e.return;Ot=null}}function io(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Dw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gr=0,Vd(),se=e,Ot=a=nr(e.current,null),Vt=i,Xt=0,Nn=null,Yr=!1,to=ti(e,i),Id=!1,eo=Mn=Dd=aa=Qr=ve=0,En=Sl=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-be(l),d=1<<h;i|=e[h],l&=~d}return mr=i,tc(),a}function T_(e,i){Rt=null,F.H=gl,i===Ka||i===lc?(i=Pp(),Xt=3):i===Lf?(i=Pp(),Xt=4):Xt=i===fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ot===null&&(ve=1,Ac(e,Fn(i,e.current)))}function A_(){var e=Dn.current;return e===null?!0:(Vt&4194048)===Vt?Qn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Qn:!1}function S_(){var e=F.H;return F.H=gl,e===null?gl:e}function w_(){var e=F.A;return F.A=ow,e}function Vc(){ve=4,Yr||(Vt&4194048)!==Vt&&Dn.current!==null||(to=!0),(Qr&134217727)===0&&(aa&134217727)===0||se===null||Jr(se,Vt,Mn,!1)}function Ud(e,i,a){var l=Gt;Gt|=2;var h=S_(),d=w_();(se!==e||Vt!==i)&&(Mc=null,io(e,i)),i=!1;var _=ve;t:do try{if(Xt!==0&&Ot!==null){var T=Ot,I=Nn;switch(Xt){case 8:Vd(),_=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var z=Xt;if(Xt=0,Nn=null,ro(e,T,I,z),a&&to){_=0;break t}break;default:z=Xt,Xt=0,Nn=null,ro(e,T,I,z)}}cw(),_=ve;break}catch(G){T_(e,G)}while(!0);return i&&e.shellSuspendCounter++,rr=Js=null,Gt=l,F.H=h,F.A=d,Ot===null&&(se=null,Vt=0,tc()),_}function cw(){for(;Ot!==null;)b_(Ot)}function hw(e,i){var a=Gt;Gt|=2;var l=S_(),h=w_();se!==e||Vt!==i?(Mc=null,Nc=ae()+500,io(e,i)):to=ti(e,i);t:do try{if(Xt!==0&&Ot!==null){i=Ot;var d=Nn;e:switch(Xt){case 1:Xt=0,Nn=null,ro(e,i,d,1);break;case 2:case 9:if(Up(d)){Xt=0,Nn=null,R_(i);break}i=function(){Xt!==2&&Xt!==9||se!==e||(Xt=7),ki(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Up(d)?(Xt=0,Nn=null,R_(i)):(Xt=0,Nn=null,ro(e,i,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(_?hv(_):T.stateNode.complete){Xt=0,Nn=null;var I=T.sibling;if(I!==null)Ot=I;else{var z=T.return;z!==null?(Ot=z,Uc(z)):Ot=null}break e}}Xt=0,Nn=null,ro(e,i,d,5);break;case 6:Xt=0,Nn=null,ro(e,i,d,6);break;case 8:Vd(),ve=6;break t;default:throw Error(s(462))}}fw();break}catch(G){T_(e,G)}while(!0);return rr=Js=null,F.H=l,F.A=h,Gt=a,Ot!==null?0:(se=null,Vt=0,tc(),ve)}function fw(){for(;Ot!==null&&!wn();)b_(Ot)}function b_(e){var i=Xy(e.alternate,e,mr);e.memoizedProps=e.pendingProps,i===null?Uc(e):Ot=i}function R_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=qy(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=qy(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:$f(i);default:Jy(a,i),i=Ot=wp(i,mr),i=Xy(a,i,mr)}e.memoizedProps=e.pendingProps,i===null?Uc(e):Ot=i}function ro(e,i,a,l){rr=Js=null,$f(i),Ya=null,ol=0;var h=i.return;try{if(tw(e,h,i,a,Vt)){ve=1,Ac(e,Fn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;ve=1,Ac(e,Fn(a,e.current)),Ot=null;return}i.flags&32768?(zt||l===1?e=!0:to||(Vt&536870912)!==0?e=!1:(Yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(i,e)):Uc(i)}function Uc(e){var i=e;do{if((i.flags&32768)!==0){C_(i,Yr);return}e=i.return;var a=iw(i.alternate,i,mr);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);ve===0&&(ve=5)}function C_(e,i){do{var a=rw(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);ve=6,Ot=null}function I_(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do kc();while(He!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Sf,mf(e,a,d,_,T,I),e===se&&(Ot=se=null,Vt=0),no=i,$r=e,gr=a,Nd=d,Md=h,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pw(Cr,function(){return x_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=tt.p,tt.p=2,_=Gt,Gt|=4;try{sw(e,i,a)}finally{Gt=_,tt.p=h,F.T=l}}He=1,D_(),O_(),N_()}}function D_(){if(He===1){He=0;var e=$r,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=tt.p;tt.p=2;var h=Gt;Gt|=4;try{u_(i,e);var d=Yd,_=gp(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&mp(T.ownerDocument.documentElement,T)){if(I!==null&&_f(T)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=T.textContent.length,gt=Math.min(I.start,ot),ne=I.end===void 0?gt:Math.min(I.end,ot);!H.extend&&gt>ne&&(_=ne,ne=gt,gt=_);var U=dp(T,gt),M=dp(T,ne);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var L=X.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),gt>ne?(H.addRange(L),H.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),H.addRange(L))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Qc=!!Kd,Yd=Kd=null}finally{Gt=h,tt.p=l,F.T=a}}e.current=i,He=2}}function O_(){if(He===2){He=0;var e=$r,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=tt.p;tt.p=2;var h=Gt;Gt|=4;try{r_(e,i.alternate,i)}finally{Gt=h,tt.p=l,F.T=a}}He=3}}function N_(){if(He===4||He===3){He=0,Wn();var e=$r,i=no,a=gr,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,no=$r=null,M_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Xr=null),Wi(a),i=i.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{F.T=i,tt.p=h}}(gr&3)!==0&&kc(),ki(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===xd?wl++:(wl=0,xd=e):wl=0,bl(0)}}function M_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,sl(i)))}function kc(){return D_(),O_(),N_(),x_()}function x_(){if(He!==5)return!1;var e=$r,i=Nd;Nd=0;var a=Wi(gr),l=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=Md,Md=null;var d=$r,_=gr;if(He=0,no=$r=null,gr=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,m_(d.current),h_(d,d.current,_,a),Gt=T,bl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{tt.p=h,F.T=l,M_(e,i)}}function V_(e,i,a){i=Fn(a,i),i=hd(e.stateNode,i,2),e=qr(e,i,2),e!==null&&(Vs(e,2),ki(e))}function $t(e,i,a){if(e.tag===3)V_(e,e,a);else for(;i!==null;){if(i.tag===3){V_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=Fn(a,e),a=Uy(2),l=qr(i,a,2),l!==null&&(ky(a,l,i,e),Vs(l,2),ki(l));break}}i=i.return}}function kd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new lw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Id=!0,h.add(a),e=dw.bind(null,e,i,a),i.then(e,e))}function dw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Vt&a)===a&&(ve===4||ve===3&&(Vt&62914560)===Vt&&300>ae()-Oc?(Gt&2)===0&&io(e,0):Dd|=a,eo===Vt&&(eo=0)),ki(e)}function U_(e,i){i===0&&(i=Mu()),e=Qs(e,i),e!==null&&(Vs(e,i),ki(e))}function mw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),U_(e,a)}function gw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),U_(e,a)}function pw(e,i){return ue(e,i)}var Pc=null,so=null,Pd=!1,Lc=!1,Ld=!1,Wr=0;function ki(e){e!==so&&e.next===null&&(so===null?Pc=so=e:so=so.next=e),Lc=!0,Pd||(Pd=!0,_w())}function bl(e,i){if(!Ld&&Lc){Ld=!0;do for(var a=!1,l=Pc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-be(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=Vt,d=_i(l,l===se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ti(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Ld=!1}}function yw(){k_()}function k_(){Lc=Pd=!1;var e=0;Wr!==0&&Iw()&&(e=Wr);for(var i=ae(),a=null,l=Pc;l!==null;){var h=l.next,d=P_(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(so=a)):(a=l,(e!==0||(d&3)!==0)&&(Lc=!0)),l=h}He!==0&&He!==5||bl(e),Wr!==0&&(Wr=0)}function P_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-be(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=df(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=se,a=Vt,a=_i(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qe(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ti(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Qe(l),Wi(a)){case 2:case 8:a=Uo;break;case 32:a=Cr;break;case 268435456:a=Cu;break;default:a=Cr}return l=L_.bind(null,e),a=ue(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Qe(l),e.callbackPriority=2,e.callbackNode=null,2}function L_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(kc()&&e.callbackNode!==a)return null;var l=Vt;return l=_i(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(v_(e,l,i),P_(e,ae()),e.callbackNode!=null&&e.callbackNode===a?L_.bind(null,e):null)}function z_(e,i){if(kc())return null;v_(e,i,!0)}function _w(){Ow(function(){(Gt&6)!==0?ue(Pn,yw):k_()})}function zd(){if(Wr===0){var e=Fa;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Wr=e}return Wr}function B_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Da(""+e)}function j_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function vw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[Fe]||null).action),_=l.submitter;_&&(i=(i=_[Fe]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Di("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var I=_?j_(h,_):new FormData(h);sd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?j_(h,_):new FormData(h),sd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Bd=0;Bd<Af.length;Bd++){var jd=Af[Bd],Ew=jd.toLowerCase(),Tw=jd[0].toUpperCase()+jd.slice(1);li(Ew,"on"+Tw)}li(_p,"onAnimationEnd"),li(vp,"onAnimationIteration"),li(Ep,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(PS,"onTransitionRun"),li(LS,"onTransitionStart"),li(zS,"onTransitionCancel"),li(Tp,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function H_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Zu(G)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){Zu(G)}h.currentTarget=null,d=I}}}}function Nt(e,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var l=e+"__bubble";a.has(l)||(q_(i,e,2,!1),a.add(l))}function Hd(e,i,a){var l=0;i&&(l|=4),q_(a,e,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[zc]){e[zc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(Aw.has(a)||Hd(a,!1,e),Hd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[zc]||(i[zc]=!0,Hd("selectionchange",!1,i))}}function q_(e,i,a,l){switch(_v(i)){case 2:var h=$w;break;case 8:h=Jw;break;default:h=rm}a=h.bind(null,i,a,e),h=void 0,!Bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Fd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ai(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}xr(function(){var z=d,G=Bn(a),X=[];t:{var B=Ap.get(e);if(B!==void 0){var H=Di,ot=e;switch(e){case"keypress":if(Hs(a)===0)break t;case"keydown":case"keyup":H=$u;break;case"focusin":ot="focus",H=Fs;break;case"focusout":ot="blur",H=Fs;break;case"beforeblur":case"afterblur":H=Fs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case _p:case vp:case Ep:H=qu;break;case Tp:H=A;break;case"scroll":case"scrollend":H=$o;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=er;break;case"toggle":case"beforetoggle":H=bt}var gt=(i&4)!==0,ne=!gt&&(e==="scroll"||e==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var M=z,L;M!==null;){var K=M;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||U===null||(K=ri(M,U),K!=null&&gt.push(Cl(M,K,L))),ne)break;M=M.return}0<gt.length&&(B=new H(B,ot,null,a,G),X.push({event:B,listeners:gt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Yo&&(ot=a.relatedTarget||a.fromElement)&&(Ai(ot)||ot[Ei]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=z,ot=ot?Ai(ot):null,ot!==null&&(ne=u(ot),gt=ot.tag,ot!==ne||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(gt=Jo,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=er,K="onPointerLeave",U="onPointerEnter",M="pointer"),ne=H==null?B:bn(H),L=ot==null?B:bn(ot),B=new gt(K,M+"leave",H,a,G),B.target=ne,B.relatedTarget=L,K=null,Ai(G)===z&&(gt=new gt(U,M+"enter",ot,a,G),gt.target=L,gt.relatedTarget=ne,K=gt),ne=K,H&&ot)e:{for(gt=Sw,U=H,M=ot,L=0,K=U;K;K=gt(K))L++;K=0;for(var dt=M;dt;dt=gt(dt))K++;for(;0<L-K;)U=gt(U),L--;for(;0<K-L;)M=gt(M),K--;for(;L--;){if(U===M||M!==null&&U===M.alternate){gt=U;break e}U=gt(U),M=gt(M)}gt=null}else gt=null;H!==null&&F_(X,B,H,gt,!1),ot!==null&&ne!==null&&F_(X,ne,ot,gt,!0)}}t:{if(B=z?bn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ht=op;else if(sp(B))if(lp)Ht=VS;else{Ht=MS;var ct=NS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ia(z.elementType)&&(Ht=op):Ht=xS;if(Ht&&(Ht=Ht(e,z))){ap(X,Ht,a,G);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Fo(B,"number",B.value)}switch(ct=z?bn(z):window,e){case"focusin":(sp(ct)||ct.contentEditable==="true")&&(ka=ct,vf=z,nl=null);break;case"focusout":nl=vf=ka=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,pp(X,a,G);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":pp(X,a,G)}var Ct;if(Ft)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ua?Gs(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(Mi&&a.locale!=="ko"&&(Ua||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ua&&(Ct=Xo()):(Ii=G,Qo="value"in Ii?Ii.value:Ii.textContent,Ua=!0)),ct=Bc(z,Ut),0<ct.length&&(Ut=new Ni(Ut,e,null,a,G),X.push({event:Ut,listeners:ct}),Ct?Ut.data=Ct:(Ct=Va(a),Ct!==null&&(Ut.data=Ct)))),(Ct=Hn?CS(e,a):IS(e,a))&&(Ut=Bc(z,"onBeforeInput"),0<Ut.length&&(ct=new Ni("onBeforeInput","beforeinput",null,a,G),X.push({event:ct,listeners:Ut}),ct.data=Ct)),vw(X,e,z,a,G)}H_(X,i)})}function Cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Bc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ri(e,a),h!=null&&l.unshift(Cl(e,h,d)),h=ri(e,i),h!=null&&l.push(Cl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Sw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function F_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ri(a,d),z!=null&&_.unshift(Cl(a,z,I))):h||(z=ri(a,d),z!=null&&_.push(Cl(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var ww=/\r\n?/g,bw=/\u0000|\uFFFD/g;function G_(e){return(typeof e=="string"?e:""+e).replace(ww,`
`).replace(bw,"")}function K_(e,i){return i=G_(i),G_(e)===i}function ee(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&pn(e,""+l);break;case"className":Rn(e,"class",l);break;case"tabIndex":Rn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(e,a,l);break;case"style":Ko(e,l,d);break;case"data":if(i!=="object"){Rn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ii);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Ra(e,"popover",l);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ra(e,a,l))}}function Gd(e,i,a,l,h,d){switch(a){case"style":Ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Fe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ra(e,a,l)}}}function tn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,_,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ee(e,i,l,G,a,null)}}Pu(e,d,T,I,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ee(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Dr(e,!!l,i,!1):a!=null&&Dr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ee(e,i,_,T,a,null)}Or(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ee(e,i,I,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Nt(Rl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,z,l,a,null)}return;default:if(Ia(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Gd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ee(e,i,T,l,a,null))}function Rw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||ee(e,i,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&ee(e,i,B,H,l,X)}}Ca(e,_,T,I,z,G,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&ee(e,i,h,d,l,I)}i=T,a=_,l=H,B!=null?Dr(e,!!a,B,!1):!!l!=!!a&&(i!=null?Dr(e,!!a,i,!0):Dr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ee(e,i,_,h,l,d)}Lu(e,B,H);return;case"option":for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ee(e,i,ot,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ee(e,i,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&ee(e,i,gt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:ee(e,i,z,B,l,H)}return;default:if(Ia(i)){for(var ne in a)B=a[ne],a.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&Gd(e,i,ne,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Gd(e,i,G,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||ee(e,i,X,B,l,H)}function Y_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&Y_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var G=I.transferSize,X=I.initiatorType;G&&Y_(X)&&(I=I.responseEnd,_+=G*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Yd=null;function jc(e){return e.nodeType===9?e:e.ownerDocument}function Q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Qd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Iw(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(e){return J_.resolve(null).then(e).catch(Nw)}:$_;function Nw(e){setTimeout(function(){throw e})}function Zr(e){return e==="head"}function W_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),uo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(e.ownerDocument.body);a=h}while(a);uo(i)}function Z_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function $d(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Mw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ti])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function xw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xn(e.nextSibling),e===null))return null;return e}function tv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Xn(e.nextSibling),e===null))return null;return e}function Jd(e){return e.data==="$?"||e.data==="$~"}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Zd=null;function ev(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function nv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function iv(e,i,a){switch(i=jc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Il(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ba(e)}var $n=new Map,rv=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pr=tt.d;tt.d={f:Uw,r:kw,D:Pw,C:Lw,L:zw,m:Bw,X:Hw,S:jw,M:qw};function Uw(){var e=pr.f(),i=xc();return e||i}function kw(e){var i=zn(e);i!==null&&i.tag===5&&i.type==="form"?Ty(i):pr.r(e)}var ao=typeof document>"u"?null:document;function sv(e,i,a){var l=ao;if(l&&typeof i=="string"&&i){var h=gn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),tn(i,"link",e),xe(i),l.head.appendChild(i)))}}function Pw(e){pr.D(e),sv("dns-prefetch",e,null)}function Lw(e,i){pr.C(e,i),sv("preconnect",e,i)}function zw(e,i,a){pr.L(e,i,a);var l=ao;if(l&&e&&i){var h='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var d=h;switch(i){case"style":d=oo(e);break;case"script":d=lo(e)}$n.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),$n.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),tn(i,"link",e),xe(i),l.head.appendChild(i)))}}function Bw(e,i){pr.m(e,i);var a=ao;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(e)}if(!$n.has(d)&&(e=S({rel:"modulepreload",href:e},i),$n.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),tn(l,"link",e),xe(l),a.head.appendChild(l)}}}function jw(e,i,a){pr.S(e,i,a);var l=ao;if(l&&e){var h=Si(l).hoistableStyles,d=oo(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Dl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=$n.get(d))&&tm(e,a);var I=_=l.createElement("link");xe(I),tn(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Hw(e,i){pr.X(e,i);var a=ao;if(a&&e){var l=Si(a).hoistableScripts,h=lo(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=S({src:e,async:!0},i),(i=$n.get(h))&&em(e,i),d=a.createElement("script"),xe(d),tn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qw(e,i){pr.M(e,i);var a=ao;if(a&&e){var l=Si(a).hoistableScripts,h=lo(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=$n.get(h))&&em(e,i),d=a.createElement("script"),xe(d),tn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function av(e,i,a,l){var h=(h=At.current)?Hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=oo(a.href),a=Si(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=oo(a.href);var d=Si(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Dl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),$n.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(e,a),d||Fw(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(a),a=Si(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function oo(e){return'href="'+gn(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function ov(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Fw(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),xe(i),e.head.appendChild(i))}function lo(e){return'[src="'+gn(e)+'"]'}function Ol(e){return"script[async]"+e}function lv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return i.instance=l,xe(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),tn(l,"style",h),qc(l,a.precedence,e),i.instance=l;case"stylesheet":h=oo(a.href);var d=e.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,xe(d),d;l=ov(a),(h=$n.get(h))&&tm(l,h),d=(e.ownerDocument||e).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),tn(d,"link",l),i.state.loading|=4,qc(d,a.precedence,e),i.instance=d;case"script":return d=lo(a.src),(h=e.querySelector(Ol(d)))?(i.instance=h,xe(h),h):(l=a,(h=$n.get(d))&&(l=S({},a),em(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),tn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,e));return i.instance}function qc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function tm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function em(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Fc=null;function uv(e,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ti]||d[Me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function cv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Gw(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kw(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=oo(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Gc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,xe(d);return}d=i.ownerDocument||i,l=ov(l),(h=$n.get(h))&&tm(l,h),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),tn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var nm=0;function Yw(e,i){return e.stylesheets&&e.count===0&&Yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&nm===0&&(nm=62500*Cw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>nm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function Yc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,i.forEach(Qw,e),Kc=null,Gc.call(e))}function Qw(e,i){if(!(i.state.loading&4)){var a=Kc.get(e);if(a)var l=a.get(null);else{a=new Map,Kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Nl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Xw(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function fv(e,i,a,l,h,d,_,T,I,z,G,X){return e=new Xw(e,i,a,_,I,z,G,X,T),i=1,d===!0&&(i|=24),d=In(3,null,null,i),e.current=d,d.stateNode=e,i=Uf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},zf(d),e}function dv(e){return e?(e=za,e):za}function mv(e,i,a,l,h,d){h=dv(h),l.context===null?l.context=h:l.pendingContext=h,l=Hr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qr(e,l,i),a!==null&&(Tn(a,e,i),ul(a,e,i))}function gv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function im(e,i){gv(e,i),(e=e.alternate)&&gv(e,i)}function pv(e){if(e.tag===13||e.tag===31){var i=Qs(e,67108864);i!==null&&Tn(i,e,67108864),im(e,67108864)}}function yv(e){if(e.tag===13||e.tag===31){var i=xn();i=ks(i);var a=Qs(e,i);a!==null&&Tn(a,e,i),im(e,i)}}var Qc=!0;function $w(e,i,a,l){var h=F.T;F.T=null;var d=tt.p;try{tt.p=2,rm(e,i,a,l)}finally{tt.p=d,F.T=h}}function Jw(e,i,a,l){var h=F.T;F.T=null;var d=tt.p;try{tt.p=8,rm(e,i,a,l)}finally{tt.p=d,F.T=h}}function rm(e,i,a,l){if(Qc){var h=sm(l);if(h===null)Fd(e,i,l,Xc,a),vv(e,l);else if(Zw(h,e,i,a,l))l.stopPropagation();else if(vv(e,l),i&4&&-1<Ww.indexOf(e)){for(;h!==null;){var d=zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-be(_);T.entanglements[1]|=I,_&=~I}ki(d),(Gt&6)===0&&(Nc=ae()+500,bl(0))}}break;case 31:case 13:T=Qs(d,2),T!==null&&Tn(T,d,2),xc(),im(d,2)}if(d=sm(l),d===null&&Fd(e,i,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fd(e,i,l,null,a)}}function sm(e){return e=Bn(e),am(e)}var Xc=null;function am(e){if(Xc=null,e=Ai(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Xc=e,null}function _v(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ji()){case Pn:return 2;case Uo:return 8;case Cr:case ff:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var om=!1,ts=null,es=null,ns=null,Ml=new Map,xl=new Map,is=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vv(e,i){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Vl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=zn(i),i!==null&&pv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Zw(e,i,a,l,h){switch(i){case"focusin":return ts=Vl(ts,e,i,a,l,h),!0;case"dragenter":return es=Vl(es,e,i,a,l,h),!0;case"mouseover":return ns=Vl(ns,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Vl(Ml.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Vl(xl.get(d)||null,e,i,a,l,h)),!0}return!1}function Ev(e){var i=Ai(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ei(e.priority,function(){yv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,ei(e.priority,function(){yv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=sm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=zn(a),i!==null&&pv(i),e.blockedOn=a,!1;i.shift()}return!0}function Tv(e,i,a){$c(e)&&a.delete(i)}function tb(){om=!1,ts!==null&&$c(ts)&&(ts=null),es!==null&&$c(es)&&(es=null),ns!==null&&$c(ns)&&(ns=null),Ml.forEach(Tv),xl.forEach(Tv)}function Jc(e,i){e.blockedOn===i&&(e.blockedOn=null,om||(om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tb)))}var Wc=null;function Av(e){Wc!==e&&(Wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var d=zn(a);d!==null&&(e.splice(i,3),i-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function uo(e){function i(I){return Jc(I,e)}ts!==null&&Jc(ts,e),es!==null&&Jc(es,e),ns!==null&&Jc(ns,e),Ml.forEach(i),xl.forEach(i);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Fe]||null;if(typeof d=="function")_||Av(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Fe]||null)T=_.formAction;else if(am(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Av(a)}}}function Sv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function lm(e){this._internalRoot=e}Zc.prototype.render=lm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();mv(a,l,e,i,null,null)},Zc.prototype.unmount=lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;mv(e.current,2,null,e,null,null),xc(),i[Ei]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=xu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,e),a===0&&Ev(e)}};var wv=t.version;if(wv!=="19.2.3")throw Error(s(527,wv,"19.2.3"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Zn=th.inject(eb),Xe=th}catch{}}return kl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ny,d=My,_=xy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=fv(e,1,!1,null,null,a,l,null,h,d,_,Sv),e[Ei]=i.current,qd(e),new lm(i)},kl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ny,_=My,T=xy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=fv(e,1,!0,i,a??null,l,h,I,d,_,T,Sv),i.context=dv(null),a=i.current,l=xn(),l=ks(l),h=Hr(l),h.callback=null,qr(a,h,l),a=l,i.current.lanes=a,Vs(i,a),ki(i),e[Ei]=i.current,qd(e),new Zc(i)},kl.version="19.2.3",kl}var Vv;function fb(){if(Vv)return hm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hm.exports=hb(),hm.exports}var db=fb(),mb=Object.defineProperty,gb=(r,t,n)=>t in r?mb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,ge=(r,t,n)=>gb(r,typeof t!="symbol"?t+"":t,n);const Ah={x:0,y:0,width:0,height:0,unit:"px"},co=(r,t,n)=>Math.min(Math.max(r,t),n),pb=(...r)=>r.filter(t=>t&&typeof t=="string").join(" "),Uv=(r,t)=>r===t||r.width===t.width&&r.height===t.height&&r.x===t.x&&r.y===t.y&&r.unit===t.unit;function ho(r,t,n){return r.unit==="%"?{...Ah,...r,unit:"%"}:{unit:"%",x:r.x?r.x/t*100:0,y:r.y?r.y/n*100:0,width:r.width?r.width/t*100:0,height:r.height?r.height/n*100:0}}function ss(r,t,n){return r.unit?r.unit==="px"?{...Ah,...r,unit:"px"}:{unit:"px",x:r.x?r.x*t/100:0,y:r.y?r.y*n/100:0,width:r.width?r.width*t/100:0,height:r.height?r.height*n/100:0}:{...Ah,...r,unit:"px"}}function kv(r,t,n,s,o,u=0,f=0,m=s,g=o){const p={...r};let E=Math.min(u,s),S=Math.min(f,o),w=Math.min(m,s),O=Math.min(g,o);t&&(t>1?(E=f?f*t:E,S=E/t,w=m*t):(S=u?u/t:S,E=S*t,O=g/t)),p.y<0&&(p.height=Math.max(p.height+p.y,S),p.y=0),p.x<0&&(p.width=Math.max(p.width+p.x,E),p.x=0);const q=s-(p.x+p.width);q<0&&(p.x=Math.min(p.x,s-E),p.width+=q);const J=o-(p.y+p.height);if(J<0&&(p.y=Math.min(p.y,o-S),p.height+=J),p.width<E&&((n==="sw"||n=="nw")&&(p.x-=E-p.width),p.width=E),p.height<S&&((n==="nw"||n=="ne")&&(p.y-=S-p.height),p.height=S),p.width>w&&((n==="sw"||n=="nw")&&(p.x-=w-p.width),p.width=w),p.height>O&&((n==="nw"||n=="ne")&&(p.y-=O-p.height),p.height=O),t){const Q=p.width/p.height;if(Q<t){const at=Math.max(p.width/t,S);(n==="nw"||n=="ne")&&(p.y-=at-p.height),p.height=at}else if(Q>t){const at=Math.max(p.height*t,E);(n==="sw"||n=="nw")&&(p.x-=at-p.width),p.width=at}}return p}function yb(r,t,n,s){const o={...r};return t==="ArrowLeft"?s==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):s==="w"?(o.x-=n,o.width+=n):s==="sw"?(o.x-=n,o.width+=n,o.height+=n):s==="ne"?(o.y+=n,o.width-=n,o.height-=n):s==="e"?o.width-=n:s==="se"&&(o.width-=n,o.height-=n):t==="ArrowRight"&&(s==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):s==="w"?(o.x+=n,o.width-=n):s==="sw"?(o.x+=n,o.width-=n,o.height-=n):s==="ne"?(o.y-=n,o.width+=n,o.height+=n):s==="e"?o.width+=n:s==="se"&&(o.width+=n,o.height+=n)),t==="ArrowUp"?s==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):s==="n"?(o.y-=n,o.height+=n):s==="ne"?(o.y-=n,o.width+=n,o.height+=n):s==="sw"?(o.x+=n,o.width-=n,o.height-=n):s==="s"?o.height-=n:s==="se"&&(o.width-=n,o.height-=n):t==="ArrowDown"&&(s==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):s==="n"?(o.y+=n,o.height-=n):s==="ne"?(o.y+=n,o.width-=n,o.height-=n):s==="sw"?(o.x-=n,o.width+=n,o.height+=n):s==="s"?o.height+=n:s==="se"&&(o.width+=n,o.height+=n)),o}const fo={capture:!0,passive:!1};let _b=0;const os=class hi extends re.PureComponent{constructor(){super(...arguments),ge(this,"docMoveBound",!1),ge(this,"mouseDownOnCrop",!1),ge(this,"dragStarted",!1),ge(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),ge(this,"componentRef",re.createRef()),ge(this,"mediaRef",re.createRef()),ge(this,"resizeObserver"),ge(this,"initChangeCalled",!1),ge(this,"instanceId",`rc-${_b++}`),ge(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),ge(this,"onCropPointerDown",t=>{const{crop:n,disabled:s}=this.props,o=this.getBox();if(!n)return;const u=ss(n,o.width,o.height);if(s)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const f=t.target.dataset.ord,m=!!f;let g=t.clientX,p=t.clientY,E=u.x,S=u.y;if(f){const w=t.clientX-o.x,O=t.clientY-o.y;let q=0,J=0;f==="ne"||f=="e"?(q=w-(u.x+u.width),J=O-u.y,E=u.x,S=u.y+u.height):f==="se"||f==="s"?(q=w-(u.x+u.width),J=O-(u.y+u.height),E=u.x,S=u.y):f==="sw"||f=="w"?(q=w-u.x,J=O-(u.y+u.height),E=u.x+u.width,S=u.y):(f==="nw"||f=="n")&&(q=w-u.x,J=O-u.y,E=u.x+u.width,S=u.y+u.height),g=E+o.x+q,p=S+o.y+J}this.evData={startClientX:g,startClientY:p,startCropX:E,startCropY:S,clientX:t.clientX,clientY:t.clientY,isResize:m,ord:f},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),ge(this,"onComponentPointerDown",t=>{const{crop:n,disabled:s,locked:o,keepSelection:u,onChange:f}=this.props,m=this.getBox();if(s||o||u&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const g=t.clientX-m.x,p=t.clientY-m.y,E={unit:"px",x:g,y:p,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:g,startCropY:p,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,f(ss(E,m.width,m.height),ho(E,m.width,m.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),ge(this,"onDocPointerMove",t=>{const{crop:n,disabled:s,onChange:o,onDragStart:u}=this.props,f=this.getBox();if(s||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,u&&u(t));const{evData:m}=this;m.clientX=t.clientX,m.clientY=t.clientY;let g;m.isResize?g=this.resizeCrop():g=this.dragCrop(),Uv(n,g)||o(ss(g,f.width,f.height),ho(g,f.width,f.height))}),ge(this,"onComponentKeyDown",t=>{const{crop:n,disabled:s,onChange:o,onComplete:u}=this.props;if(s)return;const f=t.key;let m=!1;if(!n)return;const g=this.getBox(),p=this.makePixelCrop(g),E=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?hi.nudgeStepLarge:t.shiftKey?hi.nudgeStepMedium:hi.nudgeStep;if(f==="ArrowLeft"?(p.x-=E,m=!0):f==="ArrowRight"?(p.x+=E,m=!0):f==="ArrowUp"?(p.y-=E,m=!0):f==="ArrowDown"&&(p.y+=E,m=!0),m){t.cancelable&&t.preventDefault(),p.x=co(p.x,0,g.width-p.width),p.y=co(p.y,0,g.height-p.height);const S=ss(p,g.width,g.height),w=ho(p,g.width,g.height);o(S,w),u&&u(S,w)}}),ge(this,"onHandlerKeyDown",(t,n)=>{const{aspect:s=0,crop:o,disabled:u,minWidth:f=0,minHeight:m=0,maxWidth:g,maxHeight:p,onChange:E,onComplete:S}=this.props,w=this.getBox();if(u||!o)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const O=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?hi.nudgeStepLarge:t.shiftKey?hi.nudgeStepMedium:hi.nudgeStep,q=ss(o,w.width,w.height),J=yb(q,t.key,O,n),Q=kv(J,s,n,w.width,w.height,f,m,g,p);if(!Uv(o,Q)){const at=ho(Q,w.width,w.height);E(Q,at),S&&S(Q,at)}}),ge(this,"onDocPointerDone",t=>{const{crop:n,disabled:s,onComplete:o,onDragEnd:u}=this.props,f=this.getBox();this.unbindDocMove(),!(s||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,u&&u(t),o&&o(ss(n,f.width,f.height),ho(n,f.width,f.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),ge(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:s,width:o,height:u}=t.getBoundingClientRect();return{x:n,y:s,width:o,height:u}}componentDidUpdate(t){const{crop:n,onComplete:s}=this.props;if(s&&!t.crop&&n){const{width:o,height:u}=this.getBox();o&&u&&s(ss(n,o,u),ho(n,o,u))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,fo),this.document.addEventListener("pointerup",this.onDocPointerDone,fo),this.document.addEventListener("pointercancel",this.onDocPointerDone,fo),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,fo),this.document.removeEventListener("pointerup",this.onDocPointerDone,fo),this.document.removeEventListener("pointercancel",this.onDocPointerDone,fo),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),s=this.makePixelCrop(n),o=t.clientX-t.startClientX,u=t.clientY-t.startClientY;return s.x=co(t.startCropX+o,0,n.width-s.width),s.y=co(t.startCropY+u,0,n.height-s.height),s}getPointRegion(t,n,s,o){const{evData:u}=this,f=u.clientX-t.x,m=u.clientY-t.y;let g;o&&n?g=n==="nw"||n==="n"||n==="ne":g=m<u.startCropY;let p;return s&&n?p=n==="nw"||n==="w"||n==="sw":p=f<u.startCropX,p?g?"nw":"sw":g?"ne":"se"}resolveMinDimensions(t,n,s=0,o=0){const u=Math.min(s,t.width),f=Math.min(o,t.height);return!n||!u&&!f?[u,f]:n>1?u?[u,u/n]:[f*n,f]:f?[f*n,f]:[u,u/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:s,maxHeight:o}=this.props,u=this.getBox(),[f,m]=this.resolveMinDimensions(u,n,this.props.minWidth,this.props.minHeight);let g=this.makePixelCrop(u);const p=this.getPointRegion(u,t.ord,f,m),E=t.ord||p;let S=t.clientX-t.startClientX,w=t.clientY-t.startClientY;(f&&E==="nw"||E==="w"||E==="sw")&&(S=Math.min(S,-f)),(m&&E==="nw"||E==="n"||E==="ne")&&(w=Math.min(w,-m));const O={unit:"px",x:0,y:0,width:0,height:0};p==="ne"?(O.x=t.startCropX,O.width=S,n?(O.height=O.width/n,O.y=t.startCropY-O.height):(O.height=Math.abs(w),O.y=t.startCropY-O.height)):p==="se"?(O.x=t.startCropX,O.y=t.startCropY,O.width=S,n?O.height=O.width/n:O.height=w):p==="sw"?(O.x=t.startCropX+S,O.y=t.startCropY,O.width=Math.abs(S),n?O.height=O.width/n:O.height=w):p==="nw"&&(O.x=t.startCropX+S,O.width=Math.abs(S),n?(O.height=O.width/n,O.y=t.startCropY-O.height):(O.height=Math.abs(w),O.y=t.startCropY+w));const q=kv(O,n,p,u.width,u.height,f,m,s,o);return n||hi.xyOrds.indexOf(E)>-1?g=q:hi.xOrds.indexOf(E)>-1?(g.x=q.x,g.width=q.width):hi.yOrds.indexOf(E)>-1&&(g.y=q.y,g.height=q.height),g.x=co(g.x,0,u.width-g.width),g.y=co(g.y,0,u.height-g.height),g}renderCropSelection(){const{ariaLabels:t=hi.defaultProps.ariaLabels,disabled:n,locked:s,renderSelectionAddon:o,ruleOfThirds:u,crop:f}=this.props,m=this.getCropStyle();if(f)return ie.createElement("div",{style:m,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!s&&ie.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},ie.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),ie.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),ie.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),ie.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"nw"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"n"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"ne"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"e"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"se"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"s"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"sw"),role:"button"}),ie.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:g=>this.onHandlerKeyDown(g,"w"),role:"button"})),o&&ie.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:g=>g.stopPropagation()},o(this.state)),u&&ie.createElement(ie.Fragment,null,ie.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),ie.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...Ah,...this.props.crop||{}};return ss(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:s,className:o,crop:u,disabled:f,locked:m,style:g,ruleOfThirds:p}=this.props,{cropIsActive:E,newCropIsBeingDrawn:S}=this.state,w=u?this.renderCropSelection():null,O=pb("ReactCrop",o,E&&"ReactCrop--active",f&&"ReactCrop--disabled",m&&"ReactCrop--locked",S&&"ReactCrop--new-crop",u&&t&&"ReactCrop--fixed-aspect",u&&s&&"ReactCrop--circular-crop",u&&p&&"ReactCrop--rule-of-thirds",!this.dragStarted&&u&&!u.width&&!u.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return ie.createElement("div",{ref:this.componentRef,className:O,style:g},ie.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),u?ie.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},ie.createElement("defs",null,ie.createElement("mask",{id:`hole-${this.instanceId}`},ie.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?ie.createElement("ellipse",{cx:`${u.x+u.width/2}${u.unit}`,cy:`${u.y+u.height/2}${u.unit}`,rx:`${u.width/2}${u.unit}`,ry:`${u.height/2}${u.unit}`,fill:"black"}):ie.createElement("rect",{x:`${u.x}${u.unit}`,y:`${u.y}${u.unit}`,width:`${u.width}${u.unit}`,height:`${u.height}${u.unit}`,fill:"black"}))),ie.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,w)}};ge(os,"xOrds",["e","w"]),ge(os,"yOrds",["n","s"]),ge(os,"xyOrds",["nw","ne","se","sw"]),ge(os,"nudgeStep",1),ge(os,"nudgeStepMedium",10),ge(os,"nudgeStepLarge",100),ge(os,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let vb=os;const Eb=()=>{};var Pv={};const kT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Tb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,O=p&63;g||(O=64,f||(w=64)),s.push(n[E],n[S],n[w],n[O])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(kT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Tb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new Ab;const w=u<<2|m>>4;if(s.push(w),p!==64){const O=m<<4&240|p>>2;if(s.push(O),S!==64){const q=p<<6&192|S;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(r){const t=kT(r);return PT.encodeByteArray(t,!0)},Sh=function(r){return Sb(r).replace(/\./g,"")},LT=function(r){try{return PT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bb=()=>wb().__FIREBASE_DEFAULTS__,Rb=()=>{if(typeof process>"u"||typeof Pv>"u")return;const r=Pv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Cb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&LT(r[1]);return t&&JSON.parse(t)},Hh=()=>{try{return Eb()||bb()||Rb()||Cb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zT=r=>Hh()?.emulatorHosts?.[r],BT=r=>{const t=zT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},jT=()=>Hh()?.config,HT=r=>Hh()?.[`_${r}`];class Ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Is(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rg(r){return(await fetch(r,{credentials:"include"})).ok}function qT(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const Gl={};function Db(){const r={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?r.emulator.push(t):r.prod.push(t);return r}function Ob(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Lv=!1;function sg(r,t){if(typeof window>"u"||typeof document>"u"||!Is(window.location.host)||Gl[r]===t||Gl[r]||Lv)return;Gl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Db().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Lv=!0,f()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Ob(s),O=n("text"),q=document.getElementById(O)||document.createElement("span"),J=n("learnmore"),Q=document.getElementById(J)||document.createElement("a"),at=n("preprendIcon"),ht=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const lt=w.element;m(lt),E(Q,J);const Et=p();g(ht,at),lt.append(ht,q,Q,Et),document.body.appendChild(lt)}u?(q.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Mb(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kb(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Pb(){return!Mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lb(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const Bb="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Bb,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?jb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,m,s)}}function jb(r,t){return r.replace(Hb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Hb=/\{\$([^}]+)}/g;function qb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ha(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(zv(u)&&zv(f)){if(!ha(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}function du(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function zl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Bl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Fb(r,t){const n=new Gb(r,t);return n.subscribe.bind(n)}class Gb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Kb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function gm(){}function Ee(r){return r&&r._delegate?r._delegate:r}class Ts{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const oa="[DEFAULT]";class Yb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Ib;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xb(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Qb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qb(r){return r===oa?void 0:r}function Xb(r){return r.instantiationMode==="EAGER"}class $b{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const Jb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Wb=kt.INFO,Zb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},tR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Zb[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ag{constructor(t){this.name=t,this._logLevel=Wb,this._logHandler=tR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Jb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const eR=(r,t)=>t.some(n=>r instanceof n);let Bv,jv;function nR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,Dm=new WeakMap,GT=new WeakMap,pm=new WeakMap,og=new WeakMap;function rR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ps(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&FT.set(n,r)}).catch(()=>{}),og.set(t,r),t}function sR(r){if(Dm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Dm.set(r,t)}let Om={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Dm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||GT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function aR(r){Om=r(Om)}function oR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(ym(this),t,...n);return GT.set(s,t.sort?t.sort():[t]),ps(s)}:iR().includes(r)?function(...t){return r.apply(ym(this),t),ps(FT.get(this))}:function(...t){return ps(r.apply(ym(this),t))}}function lR(r){return typeof r=="function"?oR(r):(r instanceof IDBTransaction&&sR(r),eR(r,nR())?new Proxy(r,Om):r)}function ps(r){if(r instanceof IDBRequest)return rR(r);if(pm.has(r))return pm.get(r);const t=lR(r);return t!==r&&(pm.set(r,t),og.set(t,r)),t}const ym=r=>og.get(r);function uR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ps(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ps(f.result),g.oldVersion,g.newVersion,ps(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const cR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],_m=new Map;function Hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(_m.get(t))return _m.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=hR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return _m.set(t,u),u}aR(r=>({...r,get:(t,n,s)=>Hv(t,n)||r.get(t,n,s),has:(t,n)=>!!Hv(t,n)||r.has(t,n)}));class fR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dR(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",qv="0.14.6";const Tr=new ag("@firebase/app"),mR="@firebase/app-compat",gR="@firebase/analytics-compat",pR="@firebase/analytics",yR="@firebase/app-check-compat",_R="@firebase/app-check",vR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",AR="@firebase/data-connect",SR="@firebase/database-compat",wR="@firebase/functions",bR="@firebase/functions-compat",RR="@firebase/installations",CR="@firebase/installations-compat",IR="@firebase/messaging",DR="@firebase/messaging-compat",OR="@firebase/performance",NR="@firebase/performance-compat",MR="@firebase/remote-config",xR="@firebase/remote-config-compat",VR="@firebase/storage",UR="@firebase/storage-compat",kR="@firebase/firestore",PR="@firebase/ai",LR="@firebase/firestore-compat",zR="firebase",BR="12.6.0";const Mm="[DEFAULT]",jR={[Nm]:"fire-core",[mR]:"fire-core-compat",[pR]:"fire-analytics",[gR]:"fire-analytics-compat",[_R]:"fire-app-check",[yR]:"fire-app-check-compat",[vR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[AR]:"fire-data-connect",[SR]:"fire-rtdb-compat",[wR]:"fire-fn",[bR]:"fire-fn-compat",[RR]:"fire-iid",[CR]:"fire-iid-compat",[IR]:"fire-fcm",[DR]:"fire-fcm-compat",[OR]:"fire-perf",[NR]:"fire-perf-compat",[MR]:"fire-rc",[xR]:"fire-rc-compat",[VR]:"fire-gcs",[UR]:"fire-gcs-compat",[kR]:"fire-fst",[LR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};const wh=new Map,HR=new Map,xm=new Map;function Fv(r,t){try{r.container.addComponent(t)}catch(n){Tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function fa(r){const t=r.name;if(xm.has(t))return Tr.debug(`There were multiple attempts to register component ${t}.`),!1;xm.set(t,r);for(const n of wh.values())Fv(n,r);for(const n of HR.values())Fv(n,r);return!0}function qh(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Vn(r){return r==null?!1:r.settings!==void 0}const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new fu("app","Firebase",qR);class FR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}const va=BR;function KT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Mm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ys.create("bad-app-name",{appName:String(o)});if(n||(n=jT()),!n)throw ys.create("no-options");const u=wh.get(o);if(u){if(ha(n,u.options)&&ha(s,u.config))return u;throw ys.create("duplicate-app",{appName:o})}const f=new $b(o);for(const g of xm.values())f.addComponent(g);const m=new FR(n,s,f);return wh.set(o,m),m}function lg(r=Mm){const t=wh.get(r);if(!t&&r===Mm&&jT())return KT();if(!t)throw ys.create("no-app",{appName:r});return t}function zi(r,t,n){let s=jR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tr.warn(f.join(" "));return}fa(new Ts(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const GR="firebase-heartbeat-database",KR=1,tu="firebase-heartbeat-store";let vm=null;function YT(){return vm||(vm=uR(GR,KR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ys.create("idb-open",{originalErrorMessage:r.message})})),vm}async function YR(r){try{const n=(await YT()).transaction(tu),s=await n.objectStore(tu).get(QT(r));return await n.done,s}catch(t){if(t instanceof Yi)Tr.warn(t.message);else{const n=ys.create("idb-get",{originalErrorMessage:t?.message});Tr.warn(n.message)}}}async function Gv(r,t){try{const s=(await YT()).transaction(tu,"readwrite");await s.objectStore(tu).put(t,QT(r)),await s.done}catch(n){if(n instanceof Yi)Tr.warn(n.message);else{const s=ys.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(s.message)}}}function QT(r){return`${r.name}!${r.options.appId}`}const QR=1024,XR=30;class $R{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>XR){const o=ZR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kv(),{heartbeatsToSend:n,unsentEntries:s}=JR(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Tr.warn(t),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function JR(r,t=QR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lb()?zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Yv(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function ZR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function t1(r){fa(new Ts("platform-logger",t=>new fR(t),"PRIVATE")),fa(new Ts("heartbeat",t=>new $R(t),"PRIVATE")),zi(Nm,qv,r),zi(Nm,qv,"esm2020"),zi("fire-js","")}t1("");const XT="firebasestorage.googleapis.com",$T="storageBucket",e1=120*1e3,n1=600*1e3;class Ae extends Yi{constructor(t,n,s=0){super(Em(t),`Firebase Storage: ${n} (${Em(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ae.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Em(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Em(r){return"storage/"+r}function ug(){const r="An unknown error occurred, please check the error payload for server response.";return new Ae(Te.UNKNOWN,r)}function i1(r){return new Ae(Te.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function r1(r){return new Ae(Te.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s1(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(Te.UNAUTHENTICATED,r)}function a1(){return new Ae(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function o1(r){return new Ae(Te.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function l1(){return new Ae(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function u1(){return new Ae(Te.CANCELED,"User canceled the upload/download.")}function c1(r){return new Ae(Te.INVALID_URL,"Invalid URL '"+r+"'.")}function h1(r){return new Ae(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function f1(){return new Ae(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$T+"' property when initializing the app?")}function d1(){return new Ae(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m1(){return new Ae(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g1(r){return new Ae(Te.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vm(r){return new Ae(Te.INVALID_ARGUMENT,r)}function JT(){return new Ae(Te.APP_DELETED,"The Firebase app was deleted.")}function p1(r){return new Ae(Te.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kl(r,t){return new Ae(Te.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function Pl(r){throw new Ae(Te.INTERNAL_ERROR,"Internal error: "+r)}class Un{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Un.makeFromUrl(t,n)}catch{return new Un(t,"")}if(s.path==="")return s;throw h1(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(Et){Et.path.charAt(Et.path.length-1)==="/"&&(Et.path_=Et.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function p(Et){Et.path_=decodeURIComponent(Et.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${S}/${E}/b/${o}/o${w}`,"i"),q={bucket:1,path:3},J=n===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Q="([^?#]*)",at=new RegExp(`^https?://${J}/${o}/${Q}`,"i"),lt=[{regex:m,indices:g,postModify:u},{regex:O,indices:q,postModify:p},{regex:at,indices:{bucket:1,path:2},postModify:p}];for(let Et=0;Et<lt.length;Et++){const Dt=lt[Et],wt=Dt.regex.exec(t);if(wt){const D=wt[Dt.indices.bucket];let b=wt[Dt.indices.path];b||(b=""),s=new Un(D,b),Dt.postModify(s);break}}if(s==null)throw c1(t);return s}}class y1{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function _1(r,t,n){let s=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let p=!1;function E(...Q){p||(p=!0,t.apply(null,Q))}function S(Q){o=setTimeout(()=>{o=null,r(O,g())},Q)}function w(){u&&clearTimeout(u)}function O(Q,...at){if(p){w();return}if(Q){w(),E.call(null,Q,...at);return}if(g()||f){w(),E.call(null,Q,...at);return}s<64&&(s*=2);let lt;m===1?(m=2,lt=0):lt=(s+Math.random())*1e3,S(lt)}let q=!1;function J(Q){q||(q=!0,w(),!p&&(o!==null?(Q||(m=2),clearTimeout(o),S(0)):Q||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,J(!0)},n),J}function v1(r){r(!1)}function E1(r){return r!==void 0}function T1(r){return typeof r=="object"&&!Array.isArray(r)}function cg(r){return typeof r=="string"||r instanceof String}function Qv(r){return hg()&&r instanceof Blob}function hg(){return typeof Blob<"u"}function Xv(r,t,n,s){if(s<t)throw Vm(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw Vm(`Invalid value for '${r}'. Expected ${n} or less.`)}function fg(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function WT(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ua;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ua||(ua={}));function A1(r,t){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return n||o||u}class S1{constructor(t,n,s,o,u,f,m,g,p,E,S,w=!0,O=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=S,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,J)=>{this.resolve_=q,this.reject_=J,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new eh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ua.NO_ERROR,g=u.getStatus();if(!m||A1(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ua.ABORT;s(!1,new eh(!1,null,E));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new eh(p,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());E1(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=ug();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?JT():u1();f(g)}else{const g=l1();f(g)}};this.canceled_?n(!1,new eh(!1,null,!0)):this.backoffId_=_1(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&v1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function w1(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function b1(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function R1(r,t){t&&(r["X-Firebase-GMPID"]=t)}function C1(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function I1(r,t,n,s,o,u,f=!0,m=!1){const g=WT(r.urlParams),p=r.url+g,E=Object.assign({},r.headers);return R1(E,t),w1(E,n),b1(E,u),C1(E,s),new S1(p,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}function D1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O1(...r){const t=D1();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(hg())return new Blob(r);throw new Ae(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N1(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}function M1(r){if(typeof atob>"u")throw g1("base-64");return atob(r)}const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tm{constructor(t,n){this.data=t,this.contentType=n||null}}function x1(r,t){switch(r){case Li.RAW:return new Tm(ZT(t));case Li.BASE64:case Li.BASE64URL:return new Tm(t0(r,t));case Li.DATA_URL:return new Tm(U1(t),k1(t))}throw ug()}function ZT(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,f=r.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function V1(r){let t;try{t=decodeURIComponent(r)}catch{throw Kl(Li.DATA_URL,"Malformed data URL.")}return ZT(t)}function t0(r,t){switch(r){case Li.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Kl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Kl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M1(t)}catch(o){throw o.message.includes("polyfill")?o:Kl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class e0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Kl(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=P1(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function U1(r){const t=new e0(r);return t.base64?t0(Li.BASE64,t.rest):V1(t.rest)}function k1(r){return new e0(r).contentType}function P1(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}class us{constructor(t,n){let s=0,o="";Qv(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(Qv(this.data_)){const s=this.data_,o=N1(s,t,n);return o===null?null:new us(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new us(s,!0)}}static getBlob(...t){if(hg()){const n=t.map(s=>s instanceof us?s.data_:s);return new us(O1.apply(null,n))}else{const n=t.map(f=>cg(f)?x1(Li.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new us(o,!0)}}uploadData(){return this.data_}}function n0(r){let t;try{t=JSON.parse(r)}catch{return null}return T1(t)?t:null}function L1(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function z1(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function i0(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}function B1(r,t){return t}class dn{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||B1}}let nh=null;function j1(r){return!cg(r)||r.length<2?r:i0(r)}function r0(){if(nh)return nh;const r=[];r.push(new dn("bucket")),r.push(new dn("generation")),r.push(new dn("metageneration")),r.push(new dn("name","fullPath",!0));function t(u,f){return j1(f)}const n=new dn("name");n.xform=t,r.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new dn("size");return o.xform=s,r.push(o),r.push(new dn("timeCreated")),r.push(new dn("updated")),r.push(new dn("md5Hash",null,!0)),r.push(new dn("cacheControl",null,!0)),r.push(new dn("contentDisposition",null,!0)),r.push(new dn("contentEncoding",null,!0)),r.push(new dn("contentLanguage",null,!0)),r.push(new dn("contentType",null,!0)),r.push(new dn("metadata","customMetadata",!0)),nh=r,nh}function H1(r,t){function n(){const s=r.bucket,o=r.fullPath,u=new Un(s,o);return t._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function q1(r,t,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,t[f.server])}return H1(s,r),s}function s0(r,t,n){const s=n0(t);return s===null?null:q1(r,s,n)}function F1(r,t,n,s){const o=n0(t);if(o===null||!cg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(p=>{const E=r.bucket,S=r.fullPath,w="/b/"+f(E)+"/o/"+f(S),O=fg(w,n,s),q=WT({alt:"media",token:p});return O+q})[0]}function G1(r,t){const n={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class a0{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function o0(r){if(!r)throw ug()}function K1(r,t){function n(s,o){const u=s0(r,o,t);return o0(u!==null),u}return n}function Y1(r,t){function n(s,o){const u=s0(r,o,t);return o0(u!==null),F1(u,o,r.host,r._protocol)}return n}function l0(r){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=a1():o=s1():n.getStatus()===402?o=r1(r.bucket):n.getStatus()===403?o=o1(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function Q1(r){const t=l0(r);function n(s,o){let u=t(s,o);return s.getStatus()===404&&(u=i1(r.path)),u.serverResponse=o.serverResponse,u}return n}function X1(r,t,n){const s=t.fullServerUrl(),o=fg(s,r.host,r._protocol),u="GET",f=r.maxOperationRetryTime,m=new a0(o,u,Y1(r,n),f);return m.errorHandler=Q1(t),m}function $1(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function J1(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=$1(null,t)),s}function W1(r,t,n,s,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let lt="";for(let Et=0;Et<2;Et++)lt=lt+Math.random().toString().slice(2);return lt}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const p=J1(t,s,o),E=G1(p,n),S="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+g+"--",O=us.getBlob(S,s,w);if(O===null)throw d1();const q={name:p.fullPath},J=fg(u,r.host,r._protocol),Q="POST",at=r.maxUploadRetryTime,ht=new a0(J,Q,K1(r,n),at);return ht.urlParams=q,ht.headers=f,ht.body=O.uploadData(),ht.errorHandler=l0(t),ht}class Z1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ua.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ua.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,u){if(this.sent_)throw Pl("cannot .send() more than once");if(Is(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class tC extends Z1{initXhr(){this.xhr_.responseType="text"}}function u0(){return new tC}class da{constructor(t,n){this._service=t,n instanceof Un?this._location=n:this._location=Un.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new da(t,n)}get root(){const t=new Un(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i0(this._location.path)}get storage(){return this._service}get parent(){const t=L1(this._location.path);if(t===null)return null;const n=new Un(this._location.bucket,t);return new da(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw p1(t)}}function eC(r,t,n){r._throwIfRoot("uploadBytes");const s=W1(r.storage,r._location,r0(),new us(t,!0),n);return r.storage.makeRequestWithTokens(s,u0).then(o=>({metadata:o,ref:r}))}function nC(r){r._throwIfRoot("getDownloadURL");const t=X1(r.storage,r._location,r0());return r.storage.makeRequestWithTokens(t,u0).then(n=>{if(n===null)throw m1();return n})}function iC(r,t){const n=z1(r._location.path,t),s=new Un(r._location.bucket,n);return new da(r.storage,s)}function rC(r){return/^[A-Za-z]+:\/\//.test(r)}function sC(r,t){return new da(r,t)}function c0(r,t){if(r instanceof dg){const n=r;if(n._bucket==null)throw f1();const s=new da(n,n._bucket);return t!=null?c0(s,t):s}else return t!==void 0?iC(r,t):r}function aC(r,t){if(t&&rC(t)){if(r instanceof dg)return sC(r,t);throw Vm("To use ref(service, url), the first argument must be a Storage instance.")}else return c0(r,t)}function $v(r,t){const n=t?.[$T];return n==null?null:Un.makeFromBucketSpec(n,r)}function oC(r,t,n,s={}){r.host=`${t}:${n}`;const o=Is(t);o&&(rg(`https://${r.host}/b`),sg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:qT(u,r.app.options.projectId))}class dg{constructor(t,n,s,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e1,this._maxUploadRetryTime=n1,this._requests=new Set,o!=null?this._bucket=Un.makeFromBucketSpec(o,this._host):this._bucket=$v(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,t):this._bucket=$v(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Xv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Xv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new da(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new y1(JT());{const f=I1(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const Jv="@firebase/storage",Wv="0.14.0";const h0="storage";function lC(r,t,n){return r=Ee(r),eC(r,t,n)}function uC(r){return r=Ee(r),nC(r)}function cC(r,t){return r=Ee(r),aC(r,t)}function hC(r=lg(),t){r=Ee(r);const s=qh(r,h0).getImmediate({identifier:t}),o=BT("storage");return o&&fC(s,...o),s}function fC(r,t,n,s={}){oC(r,t,n,s)}function dC(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new dg(n,s,o,t,va)}function mC(){fa(new Ts(h0,dC,"PUBLIC").setMultipleInstances(!0)),zi(Jv,Wv,""),zi(Jv,Wv,"esm2020")}mC();var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _s,f0;(function(){var r;function t(D,b){function C(){}C.prototype=b.prototype,D.F=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(V,N,k){for(var R=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)R[Jt-2]=arguments[Jt];return b.prototype[N].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],N=D.g[2];let k=D.g[3],R;R=b+(k^C&(N^k))+V[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+V[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(k^C&(N^k))+V[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+V[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(k^C&(N^k))+V[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+V[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(k^C&(N^k))+V[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(N^b&(C^N))+V[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=N+(C^k&(b^C))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(b^N&(k^b))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(N^k&(C^N))+V[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+V[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^k&(C^N))+V[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+V[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^k&(C^N))+V[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+V[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^k&(C^N))+V[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(b^C))+V[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(k^b))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(N^k))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(C^N^k)+V[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+V[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^k)+V[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+V[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^k)+V[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+V[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^k)+V[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^N)+V[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=N+(k^b^C)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^b)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(N^(C|~k))+V[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+V[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~k))+V[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+V[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~k))+V[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+V[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~k))+V[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~N))+V[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=N+(b^(k|~C))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const C=b-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<b;){if(N==0)for(;k<=C;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(V[N++]=D.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<b;)if(V[N++]=D[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)D[b++]=this.g[C]>>>V&255;return D};function u(D,b){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function f(D,b){this.h=b;const C=[];let V=!0;for(let N=D.length-1;N>=0;N--){const k=D[N]|0;V&&k==b||(C[N]=k,V=!1)}this.g=C}var m={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return Q(p(-D));const b=[];let C=1;for(let V=0;D>=C;V++)b[V]=D/C|0,C*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return Q(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(b,8));let V=S;for(let k=0;k<D.length;k+=8){var N=Math.min(8,D.length-k);const R=parseInt(D.substring(k,k+N),b);N<8?(N=p(Math.pow(b,N)),V=V.j(N).add(p(R))):(V=V.j(C),V=V.add(p(R)))}return V}var S=g(0),w=g(1),O=g(16777216);r=f.prototype,r.m=function(){if(J(this))return-Q(this).m();let D=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(q(this))return"0";if(J(this))return"-"+Q(this).toString(D);const b=p(Math.pow(D,6));var C=this;let V="";for(;;){const N=Et(C,b).g;C=at(C,N.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=N,q(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function q(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function J(D){return D.h==-1}r.l=function(D){return D=at(this,D),J(D)?-1:q(D)?0:1};function Q(D){const b=D.g.length,C=[];for(let V=0;V<b;V++)C[V]=~D.g[V];return new f(C,~D.h).add(w)}r.abs=function(){return J(this)?Q(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),C=[];let V=0;for(let N=0;N<=b;N++){let k=V+(this.i(N)&65535)+(D.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function at(D,b){return D.add(Q(b))}r.j=function(D){if(q(this)||q(D))return S;if(J(this))return J(D)?Q(this).j(Q(D)):Q(Q(this).j(D));if(J(D))return Q(this.j(Q(D)));if(this.l(O)<0&&D.l(O)<0)return p(this.m()*D.m());const b=this.g.length+D.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<D.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,Jt=D.i(N)>>>16,ye=D.i(N)&65535;C[2*V+2*N]+=R*ye,ht(C,2*V+2*N),C[2*V+2*N+1]+=k*ye,ht(C,2*V+2*N+1),C[2*V+2*N+1]+=R*Jt,ht(C,2*V+2*N+1),C[2*V+2*N+2]+=k*Jt,ht(C,2*V+2*N+2)}for(D=0;D<b;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=b;D<2*b;D++)C[D]=0;return new f(C,0)};function ht(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function lt(D,b){this.g=D,this.h=b}function Et(D,b){if(q(b))throw Error("division by zero");if(q(D))return new lt(S,S);if(J(D))return b=Et(Q(D),b),new lt(Q(b.g),Q(b.h));if(J(b))return b=Et(D,Q(b)),new lt(Q(b.g),b.h);if(D.g.length>30){if(J(D)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=b;V.l(D)<=0;)C=Dt(C),V=Dt(V);var N=wt(C,1),k=wt(V,1);for(V=wt(V,2),C=wt(C,2);!q(V);){var R=k.add(V);R.l(D)<=0&&(N=N.add(C),k=R),V=wt(V,1),C=wt(C,1)}return b=at(D,N.j(b)),new lt(N,b)}for(N=S;D.l(b)>=0;){for(C=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(C),R=k.j(b);J(R)||R.l(D)>0;)C-=V,k=p(C),R=k.j(b);q(k)&&(k=w),N=N.add(k),D=at(D,R)}return new lt(N,D)}r.B=function(D){return Et(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&D.i(V);return new f(C,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|D.i(V);return new f(C,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^D.i(V);return new f(C,this.h^D.h)};function Dt(D){const b=D.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(C,D.h)}function wt(D,b){const C=b>>5;b%=32;const V=D.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=b>0?D.i(k+C)>>>b|D.i(k+C+1)<<32-b:D.i(k+C);return new f(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,f0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,_s=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d0,jl,m0,ch,Um,g0,p0,y0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,j){for(var Z=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Z[bt-2]=arguments[bt];return y.prototype[P].apply(A,Z)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function q(c,y){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const j=P.length||0;c.length=v+j;for(let Z=0;Z<j;Z++)c[v+Z]=P[Z]}else c.push(P)}}class J{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){f.setTimeout(()=>{throw c},0)}function at(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ht{constructor(){this.h=this.g=null}add(y,v){const A=lt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new J(()=>new Et,c=>c.reset());class Et{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,wt=!1,D=new ht,b=()=>{const c=Promise.resolve(void 0);Dt=()=>{c.then(C)}};function C(){for(var c;c=at();){try{c.h.call(c.g)}catch(v){Q(v)}var y=lt;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Jt(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(Jt,N),Jt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Jt.Z.h.call(this)},Jt.prototype.h=function(){Jt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(c,y,v,A,P){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mt(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function jt(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,y){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function it(c){this.src=c,this.g={},this.h=0}it.prototype.add=function(c,y,v,A,P){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const Z=At(c,y,A,P);return Z>-1?(y=c[Z],v||(y.fa=!1)):(y=new tt(y,this.src,j,!!A,P),y.fa=v,c.push(y)),y};function _t(c,y){const v=y.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,y,void 0),j;(j=P>=0)&&Array.prototype.splice.call(A,P,1),j&&(ft(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function At(c,y,v,A){for(let P=0;P<c.length;++P){const j=c[P];if(!j.da&&j.listener==y&&j.capture==!!v&&j.ha==A)return P}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Se={};function Yt(c,y,v,A,P){if(Array.isArray(y)){for(let j=0;j<y.length;j++)Yt(c,y[j],v,A,P);return null}return v=mn(v),c&&c[ye]?c.J(y,v,m(A)?!!A.capture:!1,P):Qi(c,y,v,!1,A,P)}function Qi(c,y,v,A,P,j){if(!y)throw Error("Invalid event type");const Z=m(P)?!!P.capture:!!P;let bt=le(c);if(bt||(c[xt]=bt=new it(c)),v=bt.add(y,v,A,Z,j),v.proxy)return v;if(A=Xi(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(P=Z),P===void 0&&(P=!1),c.addEventListener(y.toString(),A,P);else if(c.attachEvent)c.attachEvent(ut(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xi(){function c(v){return y.call(c.src,c.listener,v)}const y=It;return c}function $i(c,y,v,A,P){if(Array.isArray(y))for(var j=0;j<y.length;j++)$i(c,y[j],v,A,P);else A=m(A)?!!A.capture:!!A,v=mn(v),c&&c[ye]?(c=c.i,j=String(y).toString(),j in c.g&&(y=c.g[j],v=At(y,v,A,P),v>-1&&(ft(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[j],c.h--)))):c&&(c=le(c))&&(y=c.g[y.toString()],c=-1,y&&(c=At(y,v,A,P)),(v=c>-1?y[c]:null)&&Rr(v))}function Rr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ye])_t(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ut(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=le(y))?(_t(v,c),v.h==0&&(v.src=null,y[xt]=null)):ft(c)}}}function ut(c){return c in Se?Se[c]:Se[c]="on"+c}function It(c,y){if(c.da)c=!0;else{y=new Jt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&Rr(c),c=v.call(A,y)}return c}function le(c){return c=c[xt],c instanceof it?c:null}var we="__closure_events_fn_"+(Math.random()*1e9>>>0);function mn(c){return typeof c=="function"?c:(c[we]||(c[we]=function(y){return c.handleEvent(y)}),c[we])}function Wt(){V.call(this),this.i=new it(this),this.M=this,this.G=null}S(Wt,V),Wt.prototype[ye]=!0,Wt.prototype.removeEventListener=function(c,y,v,A){$i(this,c,y,v,A)};function ue(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var P=y;y=new N(A,c),et(y,P)}P=!0;let j,Z;if(v)for(Z=v.length-1;Z>=0;Z--)j=y.g=v[Z],P=Qe(j,A,!0,y)&&P;if(j=y.g=c,P=Qe(j,A,!0,y)&&P,P=Qe(j,A,!1,y)&&P,v)for(Z=0;Z<v.length;Z++)j=y.g=v[Z],P=Qe(j,A,!1,y)&&P}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ft(v[A]);delete c.g[y],c.h--}}this.G=null},Wt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Wt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Qe(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let P=!0;for(let j=0;j<y.length;++j){const Z=y[j];if(Z&&!Z.da&&Z.capture==v){const bt=Z.listener,Re=Z.ha||Z.src;Z.fa&&_t(c.i,Z),P=bt.call(Re,A)!==!1&&P}}return P&&!A.defaultPrevented}function wn(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Wn(c){c.g=wn(()=>{c.g=null,c.i&&(c.i=!1,Wn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ae extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(c){V.call(this),this.h=c,this.g={}}S(Ji,V);var Pn=[];function Uo(c){Mt(c.g,function(y,v){this.g.hasOwnProperty(v)&&Rr(y)},c),c.g={}}Ji.prototype.N=function(){Ji.Z.N.call(this),Uo(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=f.JSON.stringify,ff=f.JSON.parse,Cu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Iu(){}function Du(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){N.call(this,"d")}S(Xe,N);function Ln(){N.call(this,"c")}S(Ln,N);var be={},Ou=null;function Sa(){return Ou=Ou||new Wt}be.Ia="serverreachability";function Nu(c){N.call(this,be.Ia,c)}S(Nu,N);function pi(c){const y=Sa();ue(y,new Nu(y))}be.STAT_EVENT="statevent";function xs(c,y){N.call(this,be.STAT_EVENT,c),this.stat=y}S(xs,N);function Ne(c){const y=Sa();ue(y,new xs(y,c))}be.Ja="timingevent";function yi(c,y){N.call(this,be.Ja,c),this.size=y}S(yi,N);function _i(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function df(c,y,v,A,P,j){c.info(function(){if(c.g)if(j){var Z="",bt=j.split("&");for(let Ft=0;Ft<bt.length;Ft++){var Re=bt[Ft].split("=");if(Re.length>1){const de=Re[0];Re=Re[1];const Hn=de.split("_");Z=Hn.length>=2&&Hn[1]=="type"?Z+(de+"="+Re+"&"):Z+(de+"=redacted&")}}}else Z=null;else Z=j;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+y+`
`+v+`
`+Z})}function Mu(c,y,v,A,P,j,Z){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+y+`
`+v+`
`+j+" "+Z})}function vi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+mf(c,v)+(A?" "+A:"")})}function Vs(c,y){c.info(function(){return"TIMEOUT: "+y})}ti.prototype.info=function(){};function mf(c,y){if(!c.g)return y;if(!y)return null;try{const j=JSON.parse(y);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let Z=1;Z<A.length;Z++)A[Z]=""}}}}return Cr(j)}catch{return y}}var Us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function ks(){}S(ks,Iu),ks.prototype.g=function(){return new XMLHttpRequest},Po=new ks;function Wi(c){return encodeURIComponent(String(c))}function xu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function ei(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Me={},Fe={};function Ei(c,y,v){c.M=1,c.A=Ps(Ve(y)),c.u=v,c.R=!0,wa(c,null)}function wa(c,y){c.F=Date.now(),Ti(c),c.B=Ve(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ia(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ni,c.g=Qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new ae(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Pn[0]=P.toString()),P=Pn);for(let j=0;j<P.length;j++){const Z=Yt(v,P[j],A||y.handleEvent,!1,y.h||y);if(!Z)break;y.g[Z.key]=Z}y=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),pi(),df(c.i,c.v,c.B,c.l,c.S,c.u)}ei.prototype.ba=function(c){c=c.target;const y=this.O;y&&si(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)t:{const bt=si(this.g),Re=this.g.ya(),Ft=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||bt!=4||Re==7||(Re==8||Ft<=0?pi(3):pi(2)),Ai(this);var y=this.g.ca();this.X=y;var v=gf(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,bt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var j=A;break e}}j=null}if(c=j)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,c);else{this.o=!1,this.m=3,Ne(12),bn(this),zn(this);break t}}if(this.R){c=!0;let de;for(;!this.K&&this.C<v.length;)if(de=Uu(this,v),de==Fe){bt==4&&(this.m=4,Ne(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Me){this.m=4,Ne(15),vi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,de,null),Si(this,de);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(Z),Z.P=!0,Ne(11))}}else vi(this.i,this.l,v,null),Si(this,v);bt==4&&bn(this),this.o&&!this.K&&(bt==4?Fu(this.j,this):(this.o=!1,Ti(this)))}else tr(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),bn(this),zn(this)}}}catch{}};function gf(c){if(!Vu(c))return c.g.la();const y=$e(c.g);if(y==="")return"";let v="";const A=y.length,P=si(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),zn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(y[j],{stream:!(P&&j==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Fe:(v=Number(y.substring(v,A)),isNaN(v)?Me:(A+=1,A+v>y.length?Fe:(y=y.slice(A,A+v),c.C=A+v,y)))}ei.prototype.cancel=function(){this.K=!0,bn(this)};function Ti(c){c.T=Date.now()+c.H,ba(c,c.H)}function ba(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_i(p(c.aa,c),y)}function Ai(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ei.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(pi(),Ne(17)),bn(this),this.m=2,zn(this)):ba(this,this.T-c)};function zn(c){c.j.I==0||c.K||Fu(c.j,c)}function bn(c){Ai(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Uo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Si(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)xa(v),Ur(v);else break t;Fs(v),Ne(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(p(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&xa(v),!R(y))for(P=v.Ba.g.parse(y),y=0;y<P.length;y++){let Ft=P[y];const de=Ft[0];if(!(de<=v.K))if(v.K=de,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Hn=Ft[3];Hn!=null&&(v.ka=Hn,v.j.info("VER="+v.ka));const Mi=Ft[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ai=Ft[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const oi=c.g;if(oi){const Gs=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var j=A.h;j.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Bo(j,j.h),j.h=null))}if(A.G){const Va=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(A.wa=Va,Qt(A.J,A.G,Va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var Z=c;if(A.na=Yu(A,A.L?A.ba:null,A.W),Z.L){jo(A.h,Z);var bt=Z,Re=A.O;Re&&(bt.H=Re),bt.D&&(Ai(bt),Ti(bt)),A.g=Z}else Hu(A);v.i.length>0&&Oi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ni(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ni(v,7):$o(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}pi(4)}catch{}}var xe=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Bo(c,y){c.g?c.g.add(y):c.h=y}function jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return O(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,j=null;A>=0?(P=c[v].substring(0,A),j=c[v].substring(A+1)):P=c[v],y(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Rn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Rn?(this.l=c.l,Ge(this,c.j),this.o=c.o,this.g=c.g,Ir(this,c.u),this.h=c.h,qo(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,Ge(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),Ir(this,y[4]),this.h=Ri(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.l=!1,this.i=new Or(null,this.l))}Rn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ls(y,Ca,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,Ca,!0),"@"),c.push(Wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ls(v,v.charAt(0)=="/"?Fo:Pu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ls(v,Lu)),c.join("")},Rn.prototype.resolve=function(c){const y=Ve(this);let v=!!c.j;v?Ge(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Ir(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=y.h.lastIndexOf("/");P!=-1&&(A=y.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let Z=0;Z<P.length;){const bt=P[Z++];bt=="."?A&&Z==P.length&&j.push(""):bt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&Z==P.length&&j.push("")):(j.push(bt),A=!0)}A=j.join("/")}else A=P}return v?y.h=A:v=c.i.toString()!=="",v?qo(y,Bu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Ve(c){return new Rn(c)}function Ge(c,y,v){c.j=v?Ri(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ir(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function qo(c,y,v){y instanceof Or?(c.i=y,Da(c.i,c.l)):(v||(y=Ls(y,Dr)),c.i=new Or(y,c.l))}function Qt(c,y,v){c.i.set(y,v)}function Ps(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ri(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,gn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Pu=/[#\?:]/g,Fo=/[#\?]/g,Dr=/[#\?@]/g,Lu=/#/g;function Or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function pn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Or.prototype,r.add=function(c,y){pn(this),this.i=null,c=Nr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zu(c,y){pn(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Go(c,y){return pn(c),y=Nr(c,y),c.g.has(y)}r.forEach=function(c,y){pn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(y,P,A,this)},this)},this)};function Ko(c,y){pn(c);let v=[];if(typeof y=="string")Go(c,y)&&(v=v.concat(c.g.get(Nr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return pn(this),this.i=null,c=Nr(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ko(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,v){zu(c,y),v.length>0&&(c.i=null,c.g.set(Nr(c,y),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const P=Wi(v);v=Ko(this,v);for(let j=0;j<v.length;j++){let Z=P;v[j]!==""&&(Z+="="+Wi(v[j])),c.push(Z)}}return this.i=c.join("&")};function Bu(c){const y=new Or;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Da(c,y){y&&!c.j&&(pn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(zu(this,A),Ia(this,P,v))},c)),c.j=y}function ii(c,y){const v=new ti;if(f.Image){const A=new Image;A.onload=E(Bn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Bn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Bn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Bn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Yo(c,y){const v=new ti,A=new AbortController,P=setTimeout(()=>{A.abort(),Bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(P),j.ok?Bn(v,"TestPingServer: ok",!0,y):Bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),Bn(v,"TestPingServer: error",!1,y)})}function Bn(c,y,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Mr(){this.g=new Cu}function Ci(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ci,Iu),Ci.prototype.g=function(){return new zs(this.i,this.h)};function zs(c,y){Wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(zs,Wt),r=zs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?xr(this):ri(this),this.readyState==3&&Oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,xr(this))},r.Na=function(c){this.g&&(this.response=c,xr(this))},r.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ri(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let y="";return Mt(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Bs(c,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=jn(v),typeof c=="string"?v!=null&&Wi(v):Qt(c,y,v))}function Zt(c){Wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,Wt);var Ii=/^https?$/i,Qo=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(j){js(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of v)this.g.setRequestHeader(j,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){js(this,j)}};function js(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Xo(c),Zi(c)}function Xo(c){c.A||(c.A=!0,ue(c,"complete"),ue(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ue(this,"complete"),ue(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},r.Xa=function(){Hs(this)};function Hs(c){if(c.h&&typeof u<"u"){if(c.v&&si(c)==4)setTimeout(c.Ca.bind(c),0);else if(ue(c,"readystatechange"),si(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=j===0){let Z=String(c.D).match(ku)[1]||null;!Z&&f.self&&f.self.location&&(Z=f.self.location.protocol.slice(0,-1)),A=!Ii.test(Z?Z.toLowerCase():"")}v=A}if(v)ue(c,"complete"),ue(c,"success");else{c.o=6;try{var P=si(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Xo(c)}}finally{Zi(c)}}}}function Zi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||ue(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}r.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ff(y)}};function $e(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(c){const y={};c=(c.g&&si(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=xu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=y[P]||[];y[P]=j,j.push(v)}jt(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Vr(c){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,c),this.Za=Di("retryDelaySeedMs",1e4,c),this.Ta=Di("forwardChannelMaxRetries",2,c),this.va=Di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new Mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Ne(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Yu(this,null,this.W),Oi(this)};function $o(c){if(Na(c),c.I==3){var y=c.V++,v=Ve(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",y),Qt(v,"TYPE","terminate"),qs(c,v),y=new ei(c,c.j,y),y.M=2,y.A=Ps(Ve(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ti(y)}Ku(c)}function Ur(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function Na(c){Ur(c),c.v&&(f.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Oi(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Dt||b(),wt||(Dt(),wt=!0),D.add(y,c),c.D=0}}function Ma(c,y){return wi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_i(p(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new ei(this,this.j,c);let j=this.o;if(this.U&&(j?(j=x(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=ju(this,P,y),v=Ve(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),qs(this,v),j&&(this.R?y="headers="+Wi(jn(j))+"&"+y:this.u&&Bs(v,this.u,j)),Bo(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",y),Qt(v,"SID","null"),P.U=!0,Ei(P,v,null)):Ei(P,v,y),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.V++;const A=Ve(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),qs(c,A),c.u&&c.o&&Bs(A,c.u,c.o),v=new ei(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ju(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,v),Ei(v,A,y)}function qs(c,y){c.H&&Mt(c.H,function(v,A){Qt(y,A,v)}),c.l&&Mt({},function(v,A){Qt(y,A,v)})}function ju(c,y,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;t:{var P=c.i;let bt=-1;for(;;){const Re=["count="+v];bt==-1?v>0?(bt=P[0].g,Re.push("ofs="+bt)):bt=0:Re.push("ofs="+bt);let Ft=!0;for(let de=0;de<v;de++){var j=P[de].g;const Hn=P[de].map;if(j-=bt,j<0)bt=Math.max(0,P[de].g-100),Ft=!1;else try{j="req"+j+"_"||"";try{var Z=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Mi,ai]of Z){let oi=ai;m(ai)&&(oi=Cr(ai)),Re.push(j+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw Re.push(j+"type="+encodeURIComponent("_badmap")),Mi}}catch{A&&A(Hn)}}if(Ft){Z=Re.join("&");break t}}Z=void 0}return c=c.i.splice(0,v),y.G=c,Z}function Hu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Dt||b(),wt||(Dt(),wt=!0),D.add(y,c),c.A=0}}function Fs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_i(p(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_i(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Ur(this),qu(this))};function Wo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ve(c.na);Qt(y,"RID","rpc"),Qt(y,"SID",c.M),Qt(y,"AID",c.K),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(y,"TO",c.ia),Qt(y,"TYPE","xmlhttp"),qs(c,y),c.u&&c.o&&Bs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ps(Ve(y)),v.u=null,v.R=!0,wa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ur(this),Fs(this),Ne(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Fu(c,y){var v=null;if(c.g==y){xa(c),Wo(c),c.g=null;var A=2}else if(bi(c.h,y))v=y.G,jo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var P=c.D;A=Sa(),ue(A,new yi(A,v)),Oi(c)}else Hu(c);else if(P=y.m,P==3||P==0&&y.X>0||!(A==1&&Ma(c,y)||A==2&&Fs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),P){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Gu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),A=c.Ua;const P=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ge(A,"https"),Ps(A),P?ii(A.toString(),v):Yo(A.toString(),v)}else Ne(2);c.I=0,c.l&&c.l.pa(y),Ku(c),Na(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Ku(c){if(c.I=0,c.ja=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Yu(c,y,v){var A=v instanceof Rn?Ve(v):new Rn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ir(A,A.u);else{var P=f.location;A=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;const j=new Rn(null);A&&Ge(j,A),y&&(j.g=y),P&&Ir(j,P),v&&(j.h=v),A=j}return v=c.G,y=c.wa,v&&y&&Qt(A,v,y),Qt(A,"VER",c.ka),qs(c,A),A}function Qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Zt(new Ci({ab:v})):new Zt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function kr(){}kr.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){Wt.call(this),this.g=new Vr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new er(this)}S(hn,Wt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){$o(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Cr(c),c=v);y.i.push(new xe(y.Ya++,c)),y.I==3&&Oi(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,hn.Z.N.call(this)};function $u(c){Xe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S($u,Xe);function Ju(){Ln.call(this),this.status=1}S(Ju,Ln);function er(c){this.g=c}S(er,Xu),er.prototype.ra=function(){ue(this.g,"a")},er.prototype.qa=function(c){ue(this.g,new $u(c))},er.prototype.pa=function(c){ue(this.g,new Ju)},er.prototype.oa=function(){ue(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,y0=function(){return new kr},p0=function(){return Sa()},g0=be,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,ch=Us,ko.COMPLETE="complete",m0=ko,Du.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,jl=Du,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,d0=Zt}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const tE="@firebase/firestore",eE="4.9.3";class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let Do="12.7.0";const ma=new ag("@firebase/firestore");function go(){return ma.logLevel}function st(r,...t){if(ma.logLevel<=kt.DEBUG){const n=t.map(mg);ma.debug(`Firestore (${Do}): ${r}`,...n)}}function Ar(r,...t){if(ma.logLevel<=kt.ERROR){const n=t.map(mg);ma.error(`Firestore (${Do}): ${r}`,...n)}}function So(r,...t){if(ma.logLevel<=kt.WARN){const n=t.map(mg);ma.warn(`Firestore (${Do}): ${r}`,...n)}}function mg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,_0(r,s,n)}function _0(r,t,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ar(s),new Error(s)}function Kt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||_0(t,o,s)}function vt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class v0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class pC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yC{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new v0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class _C{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new _C(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class gg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function km(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Am(o)===Am(u)?Pt(o,u):Am(o)?1:-1}return Pt(r.length,t.length)}const AC=55296,SC=57343;function Am(r){const t=r.charCodeAt(0);return t>=AC&&t<=SC}function wo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const iE="__name__";class Pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=Pi.isNumericId(t),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):km(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}}class oe extends Pi{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Pi{construct(t,n,s){return new nn(t,n,s)}static isValidIdentifier(t){return wC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new nn([iE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(oe.fromString(t))}static fromName(t){return new mt(oe.fromString(t).popFirst(5))}static empty(){return new mt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new oe(t.slice()))}}function E0(r,t,n){if(!n)throw new rt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function bC(r,t,n,s){if(t===!0&&s===!0)throw new rt($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function rE(r){if(!mt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sE(r){if(mt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function T0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Sr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function je(r,t){const n={typeString:r};return t&&(n.value=t),n}function mu(r,t){if(!T0(r))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new rt($.INVALID_ARGUMENT,n);return!0}const aE=-62135596800,oE=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*oE);return new fe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<aE)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(mu(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-aE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:je("string",fe._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new fe(0,0))}static max(){return new Tt(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function RC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new fe(n+1,0):new fe(n,s));return new As(o,mt.empty(),t)}function CC(r){return new As(r.readTime,r.key,eu)}class As{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new As(Tt.min(),mt.empty(),eu)}static max(){return new As(Tt.max(),mt.empty(),eu)}}function IC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}const DC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Oo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==DC)throw r;st("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(t[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function NC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Gh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gh.ce=-1;const pg=-1;function Kh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function MC(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const A0="";function xC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=lE(t)),t=VC(r.get(n),t);return lE(t)}function VC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case A0:n+="";break;default:n+=u}}return n}function lE(r){return r+A0+""}function uE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function UC(r,t){const n=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.push(t(r[s],s,r));return n}function S0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class pe{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rh(this.root,t,this.comparator,!0)}}class rh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new en(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(t){return new cE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new qe(this.comparator);return n.data=t,n}}class cE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new kn([])}unionWith(t){let n=new qe(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return wo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class w0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new w0("Invalid base64 string: "+u):u}})(t);return new rn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const kC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const n=kC.exec(r);if(Kt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:De(r.seconds),nanos:De(r.nanos)}}function De(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ws(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const b0="server_timestamp",R0="__type__",C0="__previous_value__",I0="__local_write_time__";function yg(r){return(r?.mapValue?.fields||{})[R0]?.stringValue===b0}function Yh(r){const t=r.mapValue.fields[C0];return yg(t)?Yh(t):t}function nu(r){const t=Ss(r.mapValue.fields[I0].timestampValue);return new fe(t.seconds,t.nanos)}class PC{constructor(t,n,s,o,u,f,m,g,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Rh="(default)";class iu{constructor(t,n){this.projectId=t,this.database=n||Rh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}const D0="__type__",LC="__max__",sh={mapValue:{}},O0="__vector__",Ch="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:BC(r)?9007199254740991:zC(r)?10:11:yt(28295,{value:r})}function Ki(r,t){if(r===t)return!0;const n=bs(r);if(n!==bs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return nu(r).isEqual(nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ss(o.timestampValue),m=Ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ws(o.bytesValue).isEqual(ws(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return De(o.geoPointValue.latitude)===De(u.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return De(o.integerValue)===De(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=De(o.doubleValue),m=De(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return wo(r.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(uE(f)!==uE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ki(f[g],m[g])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function ru(r,t){return(r.values||[]).find((n=>Ki(n,t)))!==void 0}function bo(r,t){if(r===t)return 0;const n=bs(r),s=bs(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=De(u.integerValue||u.doubleValue),g=De(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return hE(r.timestampValue,t.timestampValue);case 4:return hE(nu(r),nu(t));case 5:return km(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ws(u),g=ws(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Pt(m[p],g[p]);if(E!==0)return E}return Pt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(De(u.latitude),De(f.latitude));return m!==0?m:Pt(De(u.longitude),De(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return fE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Ch]?.arrayValue,E=g[Ch]?.arrayValue,S=Pt(p?.values?.length||0,E?.values?.length||0);return S!==0?S:fE(p,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=km(g[S],E[S]);if(w!==0)return w;const O=bo(m[g[S]],p[E[S]]);if(O!==0)return O}return Pt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function hE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=Ss(r),s=Ss(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function fE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bo(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function Ro(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ws(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pm(n.fields[f])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function hh(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yh(r);return t?16+hh(t):16;case 5:return 2*r.stringValue.length;case 6:return ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+hh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ds(s.fields,((u,f)=>{o+=u.length+hh(f)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function dE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function mE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function zC(r){return(r?.mapValue?.fields||{})[D0]?.stringValue===O0}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ds(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Yl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return t}return{...r}}function BC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LC}class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(n)}setAll(t){let n=nn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ds(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Sn(Yl(this.value))}}function N0(r){const t=[];return Ds(r.fields,((n,s)=>{const o=new nn([n]);if(fh(s)){const u=N0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new kn(t)}class ln{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new ln(t,0,Tt.min(),Tt.min(),Tt.min(),Sn.empty(),0)}static newFoundDocument(t,n,s,o){return new ln(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new ln(t,2,n,Tt.min(),Tt.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,Tt.min(),Tt.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ih{constructor(t,n){this.position=t,this.inclusive=n}}function pE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=bo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ki(r.position[n],t.position[n]))return!1;return!0}class Dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function jC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class M0{}class Be extends M0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new qC(t,n,s):n==="array-contains"?new KC(t,s):n==="in"?new YC(t,s):n==="not-in"?new QC(t,s):n==="array-contains-any"?new XC(t,s):new Be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new FC(t,s):new GC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends M0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new mi(t,n)}matches(t){return x0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(r){return r.op==="and"}function V0(r){return HC(r)&&x0(r)}function HC(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function zm(r){if(r instanceof Be)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(V0(r))return r.filters.map((t=>zm(t))).join(",");{const t=r.filters.map((n=>zm(n))).join(",");return`${r.op}(${t})`}}function U0(r,t){return r instanceof Be?(function(s,o){return o instanceof Be&&s.op===o.op&&s.field.isEqual(o.field)&&Ki(s.value,o.value)})(r,t):r instanceof mi?(function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&U0(f,o.filters[m])),!0):!1})(r,t):void yt(19439)}function k0(r){return r instanceof Be?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(r):r instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(k0).join(" ,")+"}"})(r):"Filter"}class qC extends Be{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class FC extends Be{constructor(t,n){super(t,"in",n),this.keys=P0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class GC extends Be{constructor(t,n){super(t,"not-in",n),this.keys=P0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function P0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class KC extends Be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _g(n)&&ru(n.arrayValue,this.value)}}class YC extends Be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class QC extends Be{constructor(t,n){super(t,"not-in",n)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class XC extends Be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class $C{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function _E(r,t=null,n=[],s=[],o=null,u=null,f=null){return new $C(r,t,n,s,o,u,f)}function vg(r){const t=vt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>zm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ro(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ro(s))).join(",")),t.Te=n}return t.Te}function Eg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!U0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yE(r.startAt,t.startAt)&&yE(r.endAt,t.endAt)}function Bm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JC(r,t,n,s,o,u,f,m){return new gu(r,t,n,s,o,u,f,m)}function Tg(r){return new gu(r)}function vE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function L0(r){return r.collectionGroup!==null}function Ql(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new qe(nn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Dh(u,s))})),n.has(nn.keyField().canonicalString())||t.Ie.push(new Dh(nn.keyField(),s))}return t.Ie}function Bi(r){const t=vt(r);return t.Ee||(t.Ee=z0(t,Ql(r))),t.Ee}function WC(r){const t=vt(r);return t.de||(t.de=z0(t,r.explicitOrderBy)),t.de}function z0(r,t){if(r.limitType==="F")return _E(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)}));const n=r.endAt?new Ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ih(r.startAt.position,r.startAt.inclusive):null;return _E(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function jm(r,t){const n=r.filters.concat([t]);return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Hm(r,t,n){return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Qh(r,t){return Eg(Bi(r),Bi(t))&&r.limitType===t.limitType}function B0(r){return`${vg(Bi(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>k0(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(Bi(r))}; limitType=${r.limitType})`}function Xh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=pE(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,m,g){const p=pE(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Ql(s),o))})(r,t)}function ZC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j0(r){return(t,n)=>{let s=!1;for(const o of Ql(r)){const u=tI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tI(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?bo(g,p):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class Ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}const eI=new pe(mt.comparator);function wr(){return eI}const H0=new pe(mt.comparator);function Hl(...r){let t=H0;for(const n of r)t=t.insert(n.key,n);return t}function q0(r){let t=H0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function la(){return Xl()}function F0(){return Xl()}function Xl(){return new Ea((r=>r.toString()),((r,t)=>r.isEqual(t)))}const nI=new pe(mt.comparator),iI=new qe(mt.comparator);function Lt(...r){let t=iI;for(const n of r)t=t.add(n);return t}const rI=new qe(Pt);function sI(){return rI}function Ag(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(t)?"-0":t}}function G0(r){return{integerValue:""+r}}function aI(r,t){return MC(t)?G0(t):Ag(r,t)}class $h{constructor(){this._=void 0}}function oI(r,t,n){return r instanceof su?(function(o,u){const f={fields:{[R0]:{stringValue:b0},[I0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Yh(u)),u&&(f.fields[C0]=u),{mapValue:f}})(n,t):r instanceof au?Y0(r,t):r instanceof ou?Q0(r,t):(function(o,u){const f=K0(o,u),m=EE(f)+EE(o.Ae);return Lm(f)&&Lm(o.Ae)?G0(m):Ag(o.serializer,m)})(r,t)}function lI(r,t,n){return r instanceof au?Y0(r,t):r instanceof ou?Q0(r,t):n}function K0(r,t){return r instanceof Oh?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class su extends $h{}class au extends $h{constructor(t){super(),this.elements=t}}function Y0(r,t){const n=X0(t);for(const s of r.elements)n.some((o=>Ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends $h{constructor(t){super(),this.elements=t}}function Q0(r,t){let n=X0(t);for(const s of r.elements)n=n.filter((o=>!Ki(o,s)));return{arrayValue:{values:n}}}class Oh extends $h{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function EE(r){return De(r.integerValue||r.doubleValue)}function X0(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class uI{constructor(t,n){this.field=t,this.transform=n}}function cI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?wo(s.elements,o.elements,Ki):s instanceof Oh&&o instanceof Oh?Ki(s.Ae,o.Ae):s instanceof su&&o instanceof su})(r.transform,t.transform)}class hI{constructor(t,n){this.version=t,this.transformResults=n}}class di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Jh{}function $0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new W0(r.key,di.none()):new pu(r.key,r.data,di.none());{const n=r.data,s=Sn.empty();let o=new qe(nn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Os(r.key,s,new kn(o.toArray()),di.none())}}function fI(r,t,n){r instanceof pu?(function(o,u,f){const m=o.value.clone(),g=AE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Os?(function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=AE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(J0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function $l(r,t,n,s){return r instanceof pu?(function(u,f,m,g){if(!dh(u.precondition,f))return m;const p=u.value.clone(),E=SE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,t,n,s):r instanceof Os?(function(u,f,m,g){if(!dh(u.precondition,f))return m;const p=SE(u.fieldTransforms,g,f),E=f.data;return E.setAll(J0(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function dI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=K0(s.transform,o||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,u))}return n||null}function TE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,f)=>cI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class pu extends Jh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends Jh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function AE(r,t,n){const s=new Map;Kt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,lI(f,m,n[o]))}return s}function SE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,oI(u,f,t))}return s}class W0 extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mI extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&fI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=$l(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=$l(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=F0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=$0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&wo(this.mutations,t.mutations,((n,s)=>TE(n,s)))&&wo(this.baseMutations,t.baseMutations,((n,s)=>TE(n,s)))}}class Sg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return nI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sg(t,n,s,o)}}class pI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yI{constructor(t,n,s){this.alias=t,this.aggregateType=n,this.fieldPath=s}}class _I{constructor(t,n){this.count=t,this.unchangedNames=n}}var ze,Bt;function vI(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Z0(r){if(r===void 0)return Ar("GRPC error has no .code"),$.UNKNOWN;switch(r){case ze.OK:return $.OK;case ze.CANCELLED:return $.CANCELLED;case ze.UNKNOWN:return $.UNKNOWN;case ze.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ze.INTERNAL:return $.INTERNAL;case ze.UNAVAILABLE:return $.UNAVAILABLE;case ze.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ze.NOT_FOUND:return $.NOT_FOUND;case ze.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ze.ABORTED:return $.ABORTED;case ze.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ze.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(Bt=ze||(ze={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function EI(){return new TextEncoder}const TI=new _s([4294967295,4294967295],0);function wE(r){const t=EI().encode(r),n=new f0;return n.update(t),new Uint8Array(n.digest())}function bE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new _s([n,s],0),new _s([o,u],0)]}class wg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=_s.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(_s.fromNumber(s)));return o.compare(TI)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=wE(t),[s,o]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new wg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=wE(t),[s,o]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,yu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Wh(Tt.min(),o,new pe(Pt),wr(),Lt())}}class yu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new yu(s,n,Lt(),Lt(),Lt())}}class mh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class tA{constructor(t,n){this.targetId=t,this.Ce=n}}class eA{constructor(t,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class RE{constructor(){this.ve=0,this.Fe=CE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new yu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=CE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(t){this.Ge=t,this.ze=new Map,this.je=wr(),this.Je=ah(),this.He=ah(),this.Ye=new pe(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new mt(u.path);this.et(n,f,ln.newNoDocument(f,Tt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ws(s).toUint8Array()}catch(g){if(g instanceof w0)return So("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new wg(f,o,u)}catch(g){return So(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Bm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,ln.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Lt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Wh(t,n,this.Ye,this.je,s);return this.je=wr(),this.Je=ah(),this.He=ah(),this.Ye=new pe(Pt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new RE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new qe(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new qe(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new RE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ah(){return new pe(mt.comparator)}function CE(){return new pe(mt.comparator)}const SI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class RI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qm(r,t){return r.useProto3Json||Kh(t)?t:{value:t}}function Nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function CI(r,t){return Nh(r,t.toTimestamp())}function ji(r){return Kt(!!r,49232),Tt.fromTimestamp((function(n){const s=Ss(n);return new fe(s.seconds,s.nanos)})(r))}function bg(r,t){return Fm(r,t).canonicalString()}function Fm(r,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function iA(r){const t=oe.fromString(r);return Kt(uA(t),10190,{key:t.toString()}),t}function Gm(r,t){return bg(r.databaseId,t.path)}function Sm(r,t){const n=iA(t);if(n.get(1)!==r.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(sA(n))}function rA(r,t){return bg(r.databaseId,t)}function II(r){const t=iA(r);return t.length===4?oe.emptyPath():sA(t)}function Km(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sA(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function IE(r,t,n){return{name:Gm(r,t),fields:n.value.mapValue.fields}}function DI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:yt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?$.UNKNOWN:Z0(p.code);return new rt(E,p.message||"")})(f);n=new eA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=ji(s.document.updateTime),f=s.document.createTime?ji(s.document.createTime):Tt.min(),m=new Sn({mapValue:{fields:s.document.fields}}),g=ln.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(p,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?ji(s.readTime):Tt.min(),f=ln.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new _I(o,u),m=s.targetId;n=new tA(m,f)}}return n}function OI(r,t){let n;if(t instanceof pu)n={update:IE(r,t.key,t.value)};else if(t instanceof W0)n={delete:Gm(r,t.key)};else if(t instanceof Os)n={update:IE(r,t.key,t.data),updateMask:zI(t.fieldMask)};else{if(!(t instanceof mI))return yt(16599,{Vt:t.type});n={verify:Gm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function NI(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ji(o.updateTime):ji(u);return f.isEqual(Tt.min())&&(f=ji(u)),new hI(f,o.transformResults||[])})(n,t)))):[]}function MI(r,t){return{documents:[rA(r,t.path)]}}function aA(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rA(r,o);const u=(function(p){if(p.length!==0)return lA(mi.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:cs(w.field),direction:kI(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:o}}function xI(r,t,n,s){const{ft:o,parent:u}=aA(r,t),f={},m=[];let g=0;return n.forEach((p=>{const E="aggregate_"+g++;f[E]=p.alias,p.aggregateType==="count"?m.push({alias:E,count:{}}):p.aggregateType==="avg"?m.push({alias:E,avg:{field:cs(p.fieldPath)}}):p.aggregateType==="sum"&&m.push({alias:E,sum:{field:cs(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:f,parent:u}}function VI(r){let t=II(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=oA(S);return w instanceof mi&&V0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(q){return new Dh(yo(q.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Kh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,O=S.values||[];return new Ih(O,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const w=!S.before,O=S.values||[];return new Ih(O,w)})(n.endAt)),JC(t,o,f,u,m,"F",g,p)}function UI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function oA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(n.unaryFilter.field);return Be.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Be.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((s=>oA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function kI(r){return SI[r]}function PI(r){return wI[r]}function LI(r){return bI[r]}function cs(r){return{fieldPath:r.canonicalString()}}function yo(r){return nn.fromServerFormat(r.fieldPath)}function lA(r){return r instanceof Be?(function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:PI(n.op),value:n.value}}})(r):r instanceof mi?(function(n){const s=n.getFilters().map((o=>lA(o)));return s.length===1?s[0]:{compositeFilter:{op:LI(n.op),filters:s}}})(r):yt(54877,{filter:r})}function zI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function uA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class gs{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=rn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BI{constructor(t){this.yt=t}}function jI(r){const t=VI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hm(t,t.limit,"L"):t}class HI{constructor(){this.Cn=new qI}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(As.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(As.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class qI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new qe(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new qe(oe.comparator)).toArray()}}const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(cA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}const OE="LruGarbageCollector",FI=1048576;function NE([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class GI{constructor(t){this.Ir=t,this.buffer=new qe(NE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(OE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?st(OE,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)}))}}class YI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(Gh.ce);const s=new GI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(DE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(p=Date.now(),go()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function QI(r,t){return new YI(r,t)}class XI{constructor(){this.changes=new Ea((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $I{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class JI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&$l(s.mutation,o,kn.empty(),fe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=la();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=la();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=wr();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Os)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),$l(E.mutation,p,E.mutation.getFieldMask(),fe.now())):f.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new $I(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new pe(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||kn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const S=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,S=F0();E.forEach((w=>{if(!u.has(w)){const O=$0(n.get(w),s.get(w));O!==null&&S.set(w,O),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,p,S))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):L0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(la());let m=eu,g=u;return f.next((p=>W.forEach(p,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,Lt()))).next((E=>({batchId:m,changes:q0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const p=(function(S,w){return new gu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,ln.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&$l(E.mutation,p,kn.empty(),fe.now()),Xh(n,p)&&(m=m.insert(g,p))})),m}))}}class WI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:jI(o.bundledQuery),readTime:ji(o.readTime)}})(n)),W.resolve()}}class ZI{constructor(){this.overlays=new pe(mt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=la();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=la(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new pe(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=la(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=la(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new pI(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class tD{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class Rg{constructor(){this.Qr=new qe(Ye.$r),this.Ur=new qe(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ye(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ye(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new mt(new oe([])),s=new Ye(n,t),o=new Ye(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new oe([])),s=new Ye(n,t),o=new Ye(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ye(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}class eD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ye.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ye(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?pg:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ye(n,0),o=new Ye(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new qe(Pt);return n.forEach((o=>{const u=new Ye(o,0),f=new Ye(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Ye(new mt(u),0);let m=new qe(Pt);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Ye(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ye(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nD{constructor(t){this.ri=t,this.docs=(function(){return new pe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=wr();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||IC(CC(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new iD(this)}getSize(t){return W.resolve(this.size)}}class iD extends XI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class rD{constructor(t){this.persistence=t,this.si=new Ea((n=>vg(n)),Eg),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rg,this.targetCount=0,this.ai=Co.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class hA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new tD,this.referenceDelegate=t(this),this.Pi=new rD(this),this.indexManager=new HI,this.remoteDocumentCache=(function(o){return new nD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BI(n),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new eD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const o=new sD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class sD extends OC{constructor(t){super(),this.currentSequenceNumber=t}}class Cg{constructor(t){this.persistence=t,this.Ri=new Rg,this.Vi=null}static mi(t){return new Cg(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Mh{constructor(t,n){this.persistence=t,this.pi=new Ea((s=>xC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=QI(this,n)}static mi(t,n){return new Mh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=hh(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ig{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ig(t,n.fromCache,s,o)}}class aD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class oD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Pb()?8:NC(cn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new aD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(go()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(go()<=kt.DEBUG&&st("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(go()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):W.resolve())}ys(t,n){if(vE(n))return W.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(t,Hm(n,null,"F")):this.vs(t,p,n,g)}))))})))))}ws(t,n,s,o){return vE(n)||o.isEqual(Tt.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(go()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(t,f,n,RC(o,eu)).next((m=>m)))}))}Ds(t,n){let s=new qe(j0(t));return n.forEach(((o,u)=>{Xh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return go()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(t,n,As.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Dg="LocalStore",lD=3e8;class uD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new pe(Pt),this.xs=new Ea((u=>vg(u)),Eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function cD(r,t,n,s){return new uD(r,t,n,s)}async function fA(r,t){const n=vt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function hD(r,t){const n=vt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const S=p.batch,w=S.keys();let O=W.resolve();return w.forEach((q=>{O=O.next((()=>E.getEntry(g,q))).next((J=>{const Q=p.docVersions.get(q);Kt(Q!==null,48541),J.version.compareTo(Q)<0&&(S.applyToRemoteDocument(J,p),J.isValidDocument()&&(J.setReadTime(p.commitVersion),E.addEntry(J)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function dA(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function fD(r,t){const n=vt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let O=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(rn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),(function(J,Q,at){return J.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=lD?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(w,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let g=wr(),p=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(dD(u,f,t.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function dD(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=wr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):st(Dg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function mD(r,t){const n=vt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function gD(r,t){const n=vt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new gs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Ym(r,t,n){const s=vt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;st(Dg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function ME(r,t,n){const s=vt(r);let o=Tt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const S=vt(g),w=S.xs.get(E);return w!==void 0?W.resolve(S.Ms.get(w)):S.Pi.getTargetData(p,E)})(s,f,Bi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:Lt()))).next((m=>(pD(s,ZC(t),m),{documents:m,Qs:u})))))}function pD(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class xE{constructor(){this.activeTargetIds=sI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yD{constructor(){this.Mo=new xE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new xE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _D{Oo(t){}shutdown(){}}const VE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(VE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(VE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function Qm(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const wm="RestConnection",vD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ED{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Qm(),m=this.zo(t,n.toUriEncodedString());st(wm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=Is(p);return this.Jo(t,m,g,s,E).then((S=>(st(wm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw So(wm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=vD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class TD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const an="WebChannelConnection";class AD extends ED{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Qm();return new Promise(((m,g)=>{const p=new d0;p.setWithCredentials(!0),p.listenOnce(m0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const S=p.getResponseJson();st(an,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case ch.TIMEOUT:st(an,`RPC '${t}' ${f} timed out`),g(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const w=p.getStatus();if(st(an,`RPC '${t}' ${f} failed with status:`,w,"response text:",p.getResponseText()),w>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const q=O?.error;if(q&&q.status&&q.message){const J=(function(at){const ht=at.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ht)>=0?ht:$.UNKNOWN})(q.status);g(new rt(J,q.message))}else g(new rt($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new rt($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{st(an,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);st(an,`RPC '${t}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=y0(),m=p0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");st(an,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let w=!1,O=!1;const q=new TD({Yo:Q=>{O?st(an,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(w||(st(an,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),st(an,`RPC '${t}' stream ${o} sending:`,Q),S.send(Q))},Zo:()=>S.close()}),J=(Q,at,ht)=>{Q.listen(at,(lt=>{try{ht(lt)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return J(S,jl.EventType.OPEN,(()=>{O||(st(an,`RPC '${t}' stream ${o} transport opened.`),q.o_())})),J(S,jl.EventType.CLOSE,(()=>{O||(O=!0,st(an,`RPC '${t}' stream ${o} transport closed`),q.a_(),this.E_(S))})),J(S,jl.EventType.ERROR,(Q=>{O||(O=!0,So(an,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),q.a_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),J(S,jl.EventType.MESSAGE,(Q=>{if(!O){const at=Q.data[0];Kt(!!at,16349);const ht=at,lt=ht?.error||ht[0]?.error;if(lt){st(an,`RPC '${t}' stream ${o} received error:`,lt);const Et=lt.status;let Dt=(function(b){const C=ze[b];if(C!==void 0)return Z0(C)})(Et),wt=lt.message;Dt===void 0&&(Dt=$.INTERNAL,wt="Unknown error status: "+Et+" with message "+lt.message),O=!0,q.a_(new rt(Dt,wt)),S.close()}else st(an,`RPC '${t}' stream ${o} received:`,at),q.u_(at)}})),J(m,g0.STAT_EVENT,(Q=>{Q.stat===Um.PROXY?st(an,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===Um.NOPROXY&&st(an,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function bm(){return typeof document<"u"?document:null}function Zh(r){return new RI(r,!0)}class mA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kE="PersistentStream";class gA{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new rt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(kE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SD extends gA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=DI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?ji(f.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Km(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Bm(g)?{documents:MI(u,g)}:{query:aA(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nA(u,f.resumeToken);const p=qm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const p=qm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const s=UI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Km(this.serializer),n.removeTarget=t,this.q_(n)}}class wD extends gA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=NI(t.writeResults,t.commitTime),s=ji(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Km(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>OI(this.serializer,s)))};this.q_(n)}}class bD{}class RD extends bD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Fm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt($.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Fm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class ID{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ta(this)&&(st(ga,"Restarting streams for network reachability change."),await(async function(g){const p=vt(g);p.Ea.add(4),await _u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await tf(p)})(this))}))})),this.Ra=new CD(s,o)}}async function tf(r){if(Ta(r))for(const t of r.da)await t(!0)}async function _u(r){for(const t of r.da)await t(!1)}function pA(r,t){const n=vt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xg(n)?Mg(n):Mo(n).O_()&&Ng(n,t))}function Og(r,t){const n=vt(r),s=Mo(n);n.Ia.delete(t),s.O_()&&yA(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Ra.set("Unknown"))}function Ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Mo(r).Y_(t)}function yA(r,t){r.Va.Ue(t),Mo(r).Z_(t)}function Mg(r){r.Va=new AI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Ra.ua()}function xg(r){return Ta(r)&&!Mo(r).x_()&&r.Ia.size>0}function Ta(r){return vt(r).Ea.size===0}function _A(r){r.Va=void 0}async function DD(r){r.Ra.set("Online")}async function OD(r){r.Ia.forEach(((t,n)=>{Ng(r,t)}))}async function ND(r,t){_A(r),xg(r)?(r.Ra.ha(t),Mg(r)):r.Ra.set("Unknown")}async function MD(r,t,n){if(r.Ra.set("Online"),t instanceof eA&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){st(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await xh(r,s)}else if(t instanceof mh?r.Va.Ze(t):t instanceof tA?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await dA(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),yA(u,g);const S=new gs(E.target,g,p,E.sequenceNumber);Ng(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){st(ga,"Failed to raise snapshot:",s),await xh(r,s)}}async function xh(r,t,n){if(!No(t))throw t;r.Ea.add(1),await _u(r),r.Ra.set("Offline"),n||(n=()=>dA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(ga,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function vA(r,t){return t().catch((n=>xh(r,n,t)))}async function ef(r){const t=vt(r),n=Rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pg;for(;xD(t);)try{const o=await mD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,VD(t,o)}catch(o){await xh(t,o)}EA(t)&&TA(t)}function xD(r){return Ta(r)&&r.Ta.length<10}function VD(r,t){r.Ta.push(t);const n=Rs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function EA(r){return Ta(r)&&!Rs(r).x_()&&r.Ta.length>0}function TA(r){Rs(r).start()}async function UD(r){Rs(r).ra()}async function kD(r){const t=Rs(r);for(const n of r.Ta)t.ea(n.mutations)}async function PD(r,t,n){const s=r.Ta.shift(),o=Sg.from(s,t,n);await vA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function LD(r,t){t&&Rs(r).X_&&await(async function(s,o){if((function(f){return vI(f)&&f!==$.ABORTED})(o.code)){const u=s.Ta.shift();Rs(s).B_(),await vA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,t),EA(r)&&TA(r)}async function PE(r,t){const n=vt(r);n.asyncQueue.verifyOperationInProgress(),st(ga,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await _u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await tf(n)}async function zD(r,t){const n=vt(r);t?(n.Ea.delete(2),await tf(n)):t||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const u=vt(n);return u.sa(),new SD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:DD.bind(null,r),t_:OD.bind(null,r),r_:ND.bind(null,r),H_:MD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),xg(r)?Mg(r):r.Ra.set("Unknown")):(await r.ma.stop(),_A(r))}))),r.ma}function Rs(r){return r.fa||(r.fa=(function(n,s,o){const u=vt(n);return u.sa(),new wD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:UD.bind(null,r),r_:LD.bind(null,r),ta:kD.bind(null,r),na:PD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(st(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Vg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(r,t){if(Ar("AsyncQueue",`${t}: ${r}`),No(r))return new rt($.UNAVAILABLE,`${t}: ${r}`);throw r}class vo{static emptySet(t){return new vo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class LE{constructor(){this.ga=new pe(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Io{constructor(t,n,s,o,u,f,m,g,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Io(t,n,vo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class BD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jD{constructor(){this.queries=zE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=vt(n),u=o.queries;o.queries=zE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function zE(){return new Ea((r=>B0(r)),Qh)}async function HD(r,t){const n=vt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new BD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ug(f,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&kg(n)}async function qD(r,t){const n=vt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FD(r,t){const n=vt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kg(n)}function GD(r,t,n){const s=vt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function kg(r){r.Ca.forEach((t=>{t.next()}))}var Xm,BE;(BE=Xm||(Xm={})).Ma="default",BE.Cache="cache";class KD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Io(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xm.Cache}}class AA{constructor(t){this.key=t}}class SA{constructor(t){this.key=t}}class YD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=j0(t),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new LE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),O=Xh(this.query,S)?S:null,q=!!w&&this.mutatedKeys.has(w.key),J=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let Q=!1;w&&O?w.data.isEqual(O.data)?q!==J&&(s.track({type:3,doc:O}),Q=!0):this.su(w,O)||(s.track({type:2,doc:O}),Q=!0,(g&&this.eu(O,g)>0||p&&this.eu(O,p)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),Q=!0):w&&!O&&(s.track({type:1,doc:w}),Q=!0,(g||p)&&(m=!0)),Q&&(O?(f=f.add(O),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(O,q){const J=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Q})}};return J(O)-J(q)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new Io(this.query,t.tu,u,f,t.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new SA(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new AA(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pg="SyncEngine";class QD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class XD{constructor(t){this.key=t,this.hu=!1}}class $D{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ea((m=>B0(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new pe(mt.comparator),this.Au=new Map,this.Ru=new Rg,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JD(r,t,n=!0){const s=DA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await wA(s,t,n,!0),o}async function WD(r,t){const n=DA(r);await wA(n,t,!0,!1)}async function wA(r,t,n,s){const o=await gD(r.localStore,Bi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ZD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&pA(r.remoteStore,o),m}async function ZD(r,t,n,s,o){r.pu=(S,w,O)=>(async function(J,Q,at,ht){let lt=Q.view.ru(at);lt.Cs&&(lt=await ME(J.localStore,Q.query,!1).then((({documents:D})=>Q.view.ru(D,lt))));const Et=ht&&ht.targetChanges.get(Q.targetId),Dt=ht&&ht.targetMismatches.get(Q.targetId)!=null,wt=Q.view.applyChanges(lt,J.isPrimaryClient,Et,Dt);return HE(J,Q.targetId,wt.au),wt.snapshot})(r,S,w,O);const u=await ME(r.localStore,t,!0),f=new YD(t,u.Qs),m=f.ru(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);HE(r,n,p.au);const E=new QD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),p.snapshot}async function tO(r,t,n){const s=vt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Qh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Og(s.remoteStore,o.targetId),$m(s,o.targetId)})).catch(Oo)):($m(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function eO(r,t){const n=vt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Og(n.remoteStore,s.targetId))}async function nO(r,t,n){const s=uO(r);try{const o=await(function(f,m){const g=vt(f),p=fe.now(),E=m.reduce(((O,q)=>O.add(q.key)),Lt());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let q=wr(),J=Lt();return g.Ns.getEntries(O,E).next((Q=>{q=Q,q.forEach(((at,ht)=>{ht.isValidDocument()||(J=J.add(at))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,q))).next((Q=>{S=Q;const at=[];for(const ht of m){const lt=dI(ht,S.get(ht.key).overlayedDocument);lt!=null&&at.push(new Os(ht.key,lt,N0(lt.value.mapValue),di.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,at,m)})).next((Q=>{w=Q;const at=Q.applyToLocalDocumentSet(S,J);return g.documentOverlayCache.saveOverlays(O,Q.batchId,at)}))})).then((()=>({batchId:w.batchId,changes:q0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new pe(Pt)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await vu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Ug(o,"Failed to persist write");n.reject(u)}}async function bA(r,t){const n=vt(r);try{const s=await fD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Kt(f.hu,14607):o.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await vu(n,s,t)}catch(s){await Oo(s)}}function jE(r,t,n){const s=vt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=vt(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(p=!0)})),p&&kg(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function iO(r,t,n){const s=vt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new pe(mt.comparator);f=f.insert(u,ln.newNoDocument(u,Tt.min()));const m=Lt().add(u),g=new Wh(Tt.min(),new Map,new pe(Pt),f,m);await bA(s,g),s.du=s.du.remove(u),s.Au.delete(t),Lg(s)}else await Ym(s.localStore,t,!1).then((()=>$m(s,t,n))).catch(Oo)}async function rO(r,t){const n=vt(r),s=t.batch.batchId;try{const o=await hD(n.localStore,t);CA(n,s,null),RA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Oo(o)}}async function sO(r,t,n){const s=vt(r);try{const o=await(function(f,m){const g=vt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((S=>(Kt(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(p,S)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,t);CA(s,t,n),RA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await vu(s,o)}catch(o){await Oo(o)}}function RA(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function CA(r,t,n){const s=vt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function $m(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||IA(r,s)}))}function IA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Og(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Lg(r))}function HE(r,t,n){for(const s of n)s instanceof AA?(r.Ru.addReference(s.key,t),aO(r,s)):s instanceof SA?(st(Pg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||IA(r,s.key)):yt(19791,{wu:s})}function aO(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(st(Pg,"New document in limbo: "+n),r.Eu.add(s),Lg(r))}function Lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(oe.fromString(t)),s=r.fu.next();r.Au.set(s,new XD(n)),r.du=r.du.insert(n,s),pA(r.remoteStore,new gs(Bi(Tg(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function vu(r,t,n){const s=vt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Ig.As(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const E=vt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(p,(w=>W.forEach(w.Es,(O=>E.persistence.referenceDelegate.addReference(S,w.targetId,O))).next((()=>W.forEach(w.ds,(O=>E.persistence.referenceDelegate.removeReference(S,w.targetId,O)))))))))}catch(S){if(!No(S))throw S;st(Dg,"Failed to update sequence numbers: "+S)}for(const S of p){const w=S.targetId;if(!S.fromCache){const O=E.Ms.get(w),q=O.snapshotVersion,J=O.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(w,J)}}})(s.localStore,u))}async function oO(r,t){const n=vt(r);if(!n.currentUser.isEqual(t)){st(Pg,"User change. New user:",t.toKey());const s=await fA(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new rt($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function lO(r,t){const n=vt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function DA(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iO.bind(null,t),t.Pu.H_=FD.bind(null,t.eventManager),t.Pu.yu=GD.bind(null,t.eventManager),t}function uO(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,t),t}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return cD(this.persistence,new oD,t.initialUser,this.serializer)}Cu(t){return new hA(Cg.mi,this.serializer)}Du(t){return new yD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class cO extends Vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new hA((s=>Mh.mi(s,n)),this.serializer)}}class Jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oO.bind(null,this.syncEngine),await zD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jD})()}createDatastore(t){const n=Zh(t.databaseInfo.databaseId),s=(function(u){return new AD(u)})(t.databaseInfo);return(function(u,f,m,g){return new RD(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new ID(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return UE.v()?new UE:new _D})())}createSyncEngine(t,n){return(function(o,u,f,m,g,p,E){const S=new $D(o,u,f,m,g,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=vt(n);st(ga,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};class hO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Cs="FirestoreClient";class fO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{st(Cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(st(Cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ug(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rm(r,t){r.asyncQueue.verifyOperationInProgress(),st(Cs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await fA(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function qE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await dO(r);st(Cs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>PE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>PE(t.remoteStore,o))),r._onlineComponents=t}async function dO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Cs,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Vh)}}else st(Cs,"Using default OfflineComponentProvider"),await Rm(r,new cO(void 0));return r._offlineComponents}async function zg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Cs,"Using user provided OnlineComponentProvider"),await qE(r,r._uninitializedComponentsProvider._online)):(st(Cs,"Using default OnlineComponentProvider"),await qE(r,new Jm))),r._onlineComponents}function mO(r){return zg(r).then((t=>t.syncEngine))}function gO(r){return zg(r).then((t=>t.datastore))}async function pO(r){const t=await zg(r),n=t.eventManager;return n.onListen=JD.bind(null,t.syncEngine),n.onUnlisten=tO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=WD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eO.bind(null,t.syncEngine),n}function yO(r,t,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new hO({next:w=>{E.Nu(),f.enqueueAndForget((()=>qD(u,S)));const O=w.docs.has(m);!O&&w.fromCache?p.reject(new rt($.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&g&&g.source==="server"?p.reject(new rt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),S=new KD(Tg(m.path),E,{includeMetadataChanges:!0,qa:!0});return HD(u,S)})(await pO(r),r.asyncQueue,t,n,s))),s.promise}function _O(r,t,n){const s=new vr;return r.asyncQueue.enqueueAndForget((async()=>{try{const o=await gO(r);s.resolve((async function(f,m,g){const p=vt(f),{request:E,gt:S,parent:w}=xI(p.serializer,WC(m),g);p.connection.$o||delete E.parent;const O=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,E,1)).filter((J=>!!J.result));Kt(O.length===1,64727);const q=O[0].result?.aggregateFields;return Object.keys(q).reduce(((J,Q)=>(J[S[Q]]=q[Q],J)),{})})(o,t,n))}catch(o){s.reject(o)}})),s.promise}function OA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const FE=new Map;const NA="firestore.googleapis.com",GE=!0;class KE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NA,this.ssl=GE}else this.host=t.host,this.ssl=t.ssl??GE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FI)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gC;switch(s.type){case"firstParty":return new vC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=FE.get(n);s&&(st("ComponentProvider","Removing Datastore"),FE.delete(n),s.terminate())})(this),Promise.resolve()}}function vO(r,t,n,s={}){r=Sr(r,nf);const o=Is(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(rg(`https://${m}`),sg("Firestore",!0)),u.host!==NA&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ha(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=on.MOCK_USER;else{p=qT(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(S)}r._authCredentials=new pC(new v0(p,E))}}class Eu{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Eu(this.firestore,t,this._query)}}class Oe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(mu(n,Oe._jsonSchema))return new Oe(t,s||null,new mt(oe.fromString(n.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:je("string",Oe._jsonSchemaVersion),referencePath:je("string")};class vs extends Eu{constructor(t,n,s){super(t,n,Tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new mt(t))}withConverter(t){return new vs(this.firestore,t,this._path)}}function YE(r,t,...n){if(r=Ee(r),E0("collection","path",t),r instanceof nf){const s=oe.fromString(t,...n);return sE(s),new vs(r,null,s)}{if(!(r instanceof Oe||r instanceof vs))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return sE(s),new vs(r.firestore,null,s)}}function gh(r,t,...n){if(r=Ee(r),arguments.length===1&&(t=gg.newId()),E0("doc","path",t),r instanceof nf){const s=oe.fromString(t,...n);return rE(s),new Oe(r,null,new mt(s))}{if(!(r instanceof Oe||r instanceof vs))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return rE(s),new Oe(r.firestore,r instanceof vs?r.converter:null,new mt(s))}}const QE="AsyncQueue";class XE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mA(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&st(QE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!No(t))throw t;st(QE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",$E(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Vg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:$E(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function $E(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class xo extends nf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new XE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XE(t),this._firestoreClient=void 0,await t}}}function EO(r,t){const n=typeof r=="object"?r:lg(),s=typeof r=="string"?r:Rh,o=qh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BT("firestore");u&&vO(o,...u)}return o}function Bg(r){if(r._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TO(r),r._firestoreClient}function TO(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new PC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,OA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new fO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class AO{constructor(t="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=t}}class SO{constructor(t,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(rn.fromBase64String(t))}catch(n){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Jn(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(mu(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:je("string",Jn._jsonSchemaVersion),bytes:je("string")};class rf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sf{constructor(t){this._methodName=t}}class Hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(mu(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:je("string",Hi._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class qi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(mu(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new qi(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:je("string",qi._jsonSchemaVersion),vectorValues:je("object")};const wO=/^__.*__$/;class bO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Os(t,this.data,this.fieldMask,n,this.fieldTransforms):new pu(t,this.data,n,this.fieldTransforms)}}class MA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Os(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function xA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class jg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new jg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(xA(this.Ac)&&wO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(t)}Cc(t,n,s,o=!1){return new jg({Ac:t,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(r){const t=r._freezeSettings(),n=Zh(r._databaseId);return new RO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function VA(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);qg("Data must be an object, but it was:",f,s);const m=UA(s,f);let g,p;if(u.merge)g=new kn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Wm(t,S,n);if(!f.contains(w))throw new rt($.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);PA(E,w)||E.push(w)}g=new kn(E),p=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,p=f.fieldTransforms;return new bO(new Sn(m),g,p)}class of extends sf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof of}}class Hg extends sf{_toFieldTransform(t){return new uI(t.path,new su)}isEqual(t){return t instanceof Hg}}function CO(r,t,n,s){const o=r.Cc(1,t,n);qg("Data must be an object, but it was:",o,s);const u=[],f=Sn.empty();Ds(s,((g,p)=>{const E=Fg(t,g,n);p=Ee(p);const S=o.yc(E);if(p instanceof of)u.push(E);else{const w=Tu(p,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new kn(u);return new MA(f,m,o.fieldTransforms)}function IO(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[Wm(t,s,n)],g=[o];if(u.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Wm(t,u[w])),g.push(u[w+1]);const p=[],E=Sn.empty();for(let w=m.length-1;w>=0;--w)if(!PA(p,m[w])){const O=m[w];let q=g[w];q=Ee(q);const J=f.yc(O);if(q instanceof of)p.push(O);else{const Q=Tu(q,J);Q!=null&&(p.push(O),E.set(O,Q))}}const S=new kn(p);return new MA(E,S,f.fieldTransforms)}function DO(r,t,n,s=!1){return Tu(n,r.Cc(s?4:3,t))}function Tu(r,t){if(kA(r=Ee(r)))return qg("Unsupported field value:",t,r),UA(r,t);if(r instanceof sf)return(function(s,o){if(!xA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Tu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ee(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=fe.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof fe){const u=new fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:nA(o.serializer,s._byteString)};if(s instanceof Oe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(f,m){return{mapValue:{fields:{[D0]:{stringValue:O0},[Ch]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ag(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Fh(s)}`)})(r,t)}function UA(r,t){const n={};return S0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(r,((s,o)=>{const u=Tu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function kA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof fe||r instanceof Hi||r instanceof Jn||r instanceof Oe||r instanceof sf||r instanceof qi)}function qg(r,t,n){if(!kA(n)||!T0(n)){const s=Fh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Wm(r,t,n){if((t=Ee(t))instanceof rf)return t._internalPath;if(typeof t=="string")return Fg(r,t);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const OO=new RegExp("[~\\*/\\[\\]]");function Fg(r,t,n){if(t.search(OO)>=0)throw Uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rf(...t.split("."))._internalPath}catch{throw Uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new rt($.INVALID_ARGUMENT,m+r+g)}function PA(r,t){return r.some((n=>n.isEqual(t)))}class LA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NO extends LA{data(){return super.data()}}function Gg(r,t){return typeof t=="string"?Fg(r,t):t instanceof rf?t._internalPath:t._delegate._internalPath}class Kg{}class MO extends Kg{}function xO(r,t,...n){let s=[];t instanceof Kg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Yg)).length,m=u.filter((g=>g instanceof lf)).length;if(f>1||f>0&&m>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class lf extends MO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new lf(t,n,s)}_apply(t){const n=this._parse(t);return zA(t._query,n),new Eu(t.firestore,t.converter,jm(t._query,n))}_parse(t){const n=af(t.firestore);return(function(u,f,m,g,p,E,S){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){WE(S,E);const q=[];for(const J of S)q.push(JE(g,u,J));w={arrayValue:{values:q}}}else w=JE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||WE(S,E),w=DO(m,f,S,E==="in"||E==="not-in");return Be.create(p,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function VO(r,t,n){const s=t,o=Gg("where",r);return lf._create(o,s,n)}class Yg extends Kg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Yg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)zA(f,g),f=jm(f,g)})(t._query,n),new Eu(t.firestore,t.converter,jm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(r,t,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L0(t)&&n.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(oe.fromString(n));if(!mt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dE(r,new mt(s))}if(n instanceof Oe)return dE(r,n._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function WE(r,t){if(!Array.isArray(r)||r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zA(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class UO{convertValue(t,n="none"){switch(bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ds(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Ch].arrayValue?.values?.map((s=>De(s.doubleValue)));return new qi(n)}convertGeoPoint(t){return new Hi(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Yh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=Ss(t);return new fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);Kt(uA(s),9688,{name:t});const o=new iu(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function BA(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}function kO(){return new AO("count")}class Fl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends LA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Gg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:je("string",ca._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class ph extends ca{data(t={}){return super.data(t)}}class Jl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:PO(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Jl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function LO(r){r=Sr(r,Oe);const t=Sr(r.firestore,xo);return yO(Bg(t),r._key).then((n=>HO(t,r,n)))}Jl._jsonSchemaVersion="firestore/querySnapshot/1.0",Jl._jsonSchema={type:je("string",Jl._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class jA extends UO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}function zO(r,t,n){r=Sr(r,Oe);const s=Sr(r.firestore,xo),o=BA(r.converter,t,n);return Qg(s,[VA(af(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,di.none())])}function BO(r,t,n,...s){r=Sr(r,Oe);const o=Sr(r.firestore,xo),u=af(o);let f;return f=typeof(t=Ee(t))=="string"||t instanceof rf?IO(u,"updateDoc",r._key,t,n,s):CO(u,"updateDoc",r._key,t),Qg(o,[f.toMutation(r._key,di.exists(!0))])}function jO(r,t){const n=Sr(r.firestore,xo),s=gh(r),o=BA(r.converter,t);return Qg(n,[VA(af(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then((()=>s))}function Qg(r,t){return(function(s,o){const u=new vr;return s.asyncQueue.enqueueAndForget((async()=>nO(await mO(s),o,u))),u.promise})(Bg(r),t)}function HO(r,t,n){const s=n.docs.get(t._key),o=new jA(r);return new ca(r,o,t._key,s,new Fl(n.hasPendingWrites,n.fromCache),t.converter)}function qO(r){return FO(r,{count:kO()})}function FO(r,t){const n=Sr(r.firestore,xo),s=Bg(n),o=UC(t,((u,f)=>new yI(f,u.aggregateType,u._internalFieldPath)));return _O(s,r._query,o).then((u=>(function(m,g,p){const E=new jA(m);return new SO(g,E,p)})(n,r,u)))}function GO(){return new Hg("serverTimestamp")}(function(t,n=!0){(function(o){Do=o})(va),fa(new Ts("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new xo(new yC(s.getProvider("auth-internal")),new EC(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zi(tE,eE,t),zi(tE,eE,"esm2020")})();var KO="firebase",YO="12.7.0";zi(KO,YO,"app");function HA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QO=HA,qA=new fu("auth","Firebase",HA());const kh=new ag("@firebase/auth");function XO(r,...t){kh.logLevel<=kt.WARN&&kh.warn(`Auth (${va}): ${r}`,...t)}function yh(r,...t){kh.logLevel<=kt.ERROR&&kh.error(`Auth (${va}): ${r}`,...t)}function gi(r,...t){throw Xg(r,...t)}function Fi(r,...t){return Xg(r,...t)}function FA(r,t,n){const s={...QO(),[t]:n};return new fu("auth","Firebase",s).create(t,{appName:r.name})}function Er(r){return FA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return qA.create(r,...t)}function pt(r,t,...n){if(!r)throw Xg(t,...n)}function yr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw yh(t),new Error(t)}function br(r,t){r||yr(t)}function Zm(){return typeof self<"u"&&self.location?.href||""}function $O(){return ZE()==="http:"||ZE()==="https:"}function ZE(){return typeof self<"u"&&self.location?.protocol||null}function JO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($O()||Vb()||"connection"in navigator)?navigator.onLine:!0}function WO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Au{constructor(t,n){this.shortDelay=t,this.longDelay=n,br(n>t,"Short delay should be less than long delay!"),this.isMobile=Nb()||Ub()}get(){return JO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $g(r,t){br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class GA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const t2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e2=new Au(3e4,6e4);function Ns(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ms(r,t,n,s,o={}){return KA(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=du({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:g,...u};return xb()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Is(r.emulatorConfig.host)&&(p.credentials="include"),GA.fetch()(await YA(r,r.config.apiHost,n,m),p)})}async function KA(r,t,n){r._canInitEmulator=!1;const s={...ZO,...t};try{const o=new i2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw lh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw lh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw lh(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw FA(r,E,p);gi(r,E)}}catch(o){if(o instanceof Yi)throw o;gi(r,"network-request-failed",{message:String(o)})}}async function Su(r,t,n,s,o={}){const u=await Ms(r,t,n,s,o);return"mfaPendingCredential"in u&&gi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function YA(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?$g(r.config,o):`${r.config.apiScheme}://${o}`;return t2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function n2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),e2.get())})}}function lh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Fi(r,t,s);return o.customData._tokenResponse=n,o}function tT(r){return r!==void 0&&r.enterprise!==void 0}class r2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return n2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s2(r,t){return Ms(r,"GET","/v2/recaptchaConfig",Ns(r,t))}async function a2(r,t){return Ms(r,"POST","/v1/accounts:delete",t)}async function Ph(r,t){return Ms(r,"POST","/v1/accounts:lookup",t)}function Wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function o2(r,t=!1){const n=Ee(r),s=await n.getIdToken(t),o=Jg(s);pt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Cm(o.auth_time)),issuedAtTime:Wl(Cm(o.iat)),expirationTime:Wl(Cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(r){return Number(r)*1e3}function Jg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=LT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function eT(r){const t=Jg(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function lu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&l2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function l2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class u2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(r){const t=r.auth,n=await r.getIdToken(),s=await lu(r,Ph(t,{idToken:n}));pt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?QA(o.providerUserInfo):[],f=h2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function c2(r){const t=Ee(r);await Lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function h2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function QA(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function f2(r,t){const n=await KA(r,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await YA(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Is(r.emulatorConfig.host)&&(g.credentials="include"),GA.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d2(r,t){return Ms(r,"POST","/v2/accounts:revokeToken",Ns(r,t))}class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=eT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await f2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Eo;return s&&(pt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(pt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(pt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return yr("not implemented")}}function as(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new u2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await lu(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return o2(this,t)}reload(){return c2(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Er(this.auth));const t=await this.getIdToken();return await lu(this,a2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:O,providerData:q,stsTokenManager:J}=n;pt(S&&J,t,"internal-error");const Q=Eo.fromJSON(this.name,J);pt(typeof S=="string",t,"internal-error"),as(s,t.name),as(o,t.name),pt(typeof w=="boolean",t,"internal-error"),pt(typeof O=="boolean",t,"internal-error"),as(u,t.name),as(f,t.name),as(m,t.name),as(g,t.name),as(p,t.name),as(E,t.name);const at=new fi({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:p,lastLoginAt:E});return q&&Array.isArray(q)&&(at.providerData=q.map(ht=>({...ht}))),g&&(at._redirectEventId=g),at}static async _fromIdTokenResponse(t,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new fi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];pt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(s);const g=new fi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const nT=new Map;function _r(r){br(r instanceof Function,"Expected a class definition");let t=nT.get(r);return t?(br(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,nT.set(r,t),t)}class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XA.type="NONE";const iT=XA;function _h(r,t,n){return`firebase:${r}:${t}:${n}`}class To{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ph(this.auth,{idToken:t}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new To(_r(iT),t,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||_r(iT);const f=_h(s,t.config.apiKey,t.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const w=await Ph(t,{idToken:E}).catch(()=>{});if(!w)break;S=await fi._fromGetAccountInfoResponse(t,w,E)}else S=fi._fromJSON(t,E);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new To(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new To(u,t,s))}}function rT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($A(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eS(t))return"Blackberry";if(nS(t))return"Webos";if(JA(t))return"Safari";if((t.includes("chrome/")||WA(t))&&!t.includes("edge/"))return"Chrome";if(tS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function $A(r=cn()){return/firefox\//i.test(r)}function JA(r=cn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WA(r=cn()){return/crios\//i.test(r)}function ZA(r=cn()){return/iemobile/i.test(r)}function tS(r=cn()){return/android/i.test(r)}function eS(r=cn()){return/blackberry/i.test(r)}function nS(r=cn()){return/webos/i.test(r)}function Wg(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function m2(r=cn()){return Wg(r)&&!!window.navigator?.standalone}function g2(){return kb()&&document.documentMode===10}function iS(r=cn()){return Wg(r)||tS(r)||nS(r)||eS(r)||/windows phone/i.test(r)||ZA(r)}function rS(r,t=[]){let n;switch(r){case"Browser":n=rT(cn());break;case"Worker":n=`${rT(cn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${s}`}class p2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function y2(r,t={}){return Ms(r,"GET","/v2/passwordPolicy",Ns(r,t))}const _2=6;class v2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class E2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new p2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ph(this,{idToken:t}),s=await fi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Er(this));const n=t?Ee(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await y2(this),n=new v2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await d2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_r(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&XO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Aa(r){return Ee(r)}class sT{constructor(t){this.auth=t,this.observer=null,this.addObserver=Fb(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T2(r){uf=r}function sS(r){return uf.loadJS(r)}function A2(){return uf.recaptchaEnterpriseScript}function S2(){return uf.gapiScript}function w2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class b2{constructor(){this.enterprise=new R2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class R2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const C2="recaptcha-enterprise",aS="NO_RECAPTCHA";class I2{constructor(t){this.type=C2,this.auth=Aa(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{s2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new r2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;tT(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(p=>{f(p)}).catch(()=>{f(aS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&tT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=A2();g.length!==0&&(g+=m),sS(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function aT(r,t,n,s=!1,o=!1){const u=new I2(r);let f;if(o)f=aS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function eg(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await aT(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await aT(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function D2(r,t){const n=qh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,t??{}))return o;gi(o,"already-initialized")}return n.initialize({options:t})}function O2(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_r);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function N2(r,t,n){const s=Aa(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=oS(t),{host:f,port:m}=M2(t),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(ha(p,s.config.emulator)&&ha(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Is(f)?(rg(`${u}//${f}${g}`),sg("Auth",!0)):x2()}function oS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function M2(r){const t=oS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:oT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:oT(f)}}}function oT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function x2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Zg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(t){return yr("not implemented")}_linkToIdToken(t,n){return yr("not implemented")}_getReauthenticationResolver(t){return yr("not implemented")}}async function V2(r,t){return Ms(r,"POST","/v1/accounts:signUp",t)}async function U2(r,t){return Su(r,"POST","/v1/accounts:signInWithPassword",Ns(r,t))}async function k2(r,t){return Su(r,"POST","/v1/accounts:signInWithEmailLink",Ns(r,t))}async function P2(r,t){return Su(r,"POST","/v1/accounts:signInWithEmailLink",Ns(r,t))}class uu extends Zg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new uu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new uu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(t,n,"signInWithPassword",U2);case"emailLink":return k2(t,{email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(t,s,"signUpPassword",V2);case"emailLink":return P2(t,{idToken:n,email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ao(r,t){return Su(r,"POST","/v1/accounts:signInWithIdp",Ns(r,t))}const L2="http://localhost";class pa extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new pa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ao(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ao(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ao(t,n)}buildRequest(){const t={requestUri:L2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=du(n)}return t}}function z2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B2(r){const t=zl(Bl(r)).link,n=t?zl(Bl(t)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||t||r}class tp{constructor(t){const n=zl(Bl(t)),s=n.apiKey??null,o=n.oobCode??null,u=z2(n.mode??null);pt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=B2(t);try{return new tp(n)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(t,n){return uu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=tp.parseLink(n);return pt(s,"argument-error"),uu._fromEmailAndCode(t,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class wu extends lS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hs extends wu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";class fs extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return pa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class ds extends wu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";class ms extends wu{constructor(){super("twitter.com")}static credential(t,n){return pa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";async function j2(r,t){return Su(r,"POST","/v1/accounts:signUp",Ns(r,t))}class ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await fi._fromIdTokenResponse(t,s,o),f=lT(s);return new ya({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=lT(s);return new ya({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function lT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class zh extends Yi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new zh(t,n,s,o)}}function uS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,u,t,s):u})}async function H2(r,t,n=!1){const s=await lu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ya._forOperation(r,"link",s)}async function q2(r,t,n=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(Er(s));const o="reauthenticate";try{const u=await lu(r,uS(s,o,t,r),n);pt(u.idToken,s,"internal-error");const f=Jg(u.idToken);pt(f,s,"internal-error");const{sub:m}=f;return pt(r.uid===m,s,"user-mismatch"),ya._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gi(s,"user-mismatch"),u}}async function cS(r,t,n=!1){if(Vn(r.app))return Promise.reject(Er(r));const s="signIn",o=await uS(r,s,t),u=await ya._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function F2(r,t){return cS(Aa(r),t)}async function hS(r){const t=Aa(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function G2(r,t,n){if(Vn(r.app))return Promise.reject(Er(r));const s=Aa(r),f=await eg(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&hS(r),g}),m=await ya._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function K2(r,t,n){return Vn(r.app)?Promise.reject(Er(r)):F2(Ee(r),Vo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hS(r),s})}function Y2(r,t,n,s){return Ee(r).onIdTokenChanged(t,n,s)}function Q2(r,t,n){return Ee(r).beforeAuthStateChanged(t,n)}function X2(r,t,n,s){return Ee(r).onAuthStateChanged(t,n,s)}function $2(r){return Ee(r).signOut()}const Bh="__sak";class fS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const J2=1e3,W2=10;class dS extends fS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);g2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,W2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}dS.type="LOCAL";const Z2=dS;class mS extends fS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}mS.type="SESSION";const gS=mS;function tN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class cf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new cf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await tN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];function ep(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class eN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=ep("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Gi(){return window}function nN(r){Gi().location.href=r}function pS(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rN(){return navigator?.serviceWorker?.controller||null}function sN(){return pS()?self:null}const yS="firebaseLocalStorageDb",aN=1,jh="firebaseLocalStorage",_S="fbase_key";class bu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,t){return r.transaction([jh],t?"readwrite":"readonly").objectStore(jh)}function oN(){const r=indexedDB.deleteDatabase(yS);return new bu(r).toPromise()}function ng(){const r=indexedDB.open(yS,aN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jh,{keyPath:_S})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jh)?t(s):(s.close(),await oN(),t(await ng()))})})}async function uT(r,t,n){const s=hf(r,!0).put({[_S]:t,value:n});return new bu(s).toPromise()}async function lN(r,t){const n=hf(r,!1).get(t),s=await new bu(n).toPromise();return s===void 0?null:s.value}function cT(r,t){const n=hf(r,!0).delete(t);return new bu(n).toPromise()}const uN=800,cN=3;class vS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>cN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(sN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ng();return await uT(t,Bh,"1"),await cT(t,Bh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>uT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new bu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vS.type="LOCAL";const hN=vS;new Au(3e4,6e4);function fN(r,t){return t?_r(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class np extends Zg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dN(r){return cS(r.auth,new np(r),r.bypassAuthState)}function mN(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),q2(n,new np(r),r.bypassAuthState)}async function gN(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),H2(n,new np(r),r.bypassAuthState)}class ES{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:gi(this.auth,"internal-error")}}resolve(t){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pN=new Au(2e3,1e4);class _o extends ES{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const t=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pN.get())};t()}}_o.currentPopupAction=null;const yN="pendingRedirect",vh=new Map;class _N extends ES{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=vh.get(this.auth._key());if(!t){try{const s=await vN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}vh.set(this.auth._key(),t)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vN(r,t){const n=AN(t),s=TN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EN(r,t){vh.set(r._key(),t)}function TN(r){return _r(r._redirectPersistence)}function AN(r){return _h(yN,r.config.apiKey,r.name)}async function SN(r,t,n=!1){if(Vn(r.app))return Promise.reject(Er(r));const s=Aa(r),o=fN(s,t),f=await new _N(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const wN=600*1e3;class bN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!TS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Fi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(t))}saveEventToCache(t){this.cachedEventUids.add(hT(t)),this.lastProcessedEventTime=Date.now()}}function hT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function TS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function RN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TS(r);default:return!1}}async function CN(r,t={}){return Ms(r,"GET","/v1/projects",t)}const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DN=/^https?/;async function ON(r){if(r.config.emulator)return;const{authorizedDomains:t}=await CN(r);for(const n of t)try{if(NN(n))return}catch{}gi(r,"unauthorized-domain")}function NN(r){const t=Zm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!DN.test(n))return!1;if(IN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const MN=new Au(3e4,6e4);function fT(){const r=Gi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xN(r){return new Promise((t,n)=>{function s(){fT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fT(),n(Fi(r,"network-request-failed"))},timeout:MN.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)s();else{const o=w2("iframefcb");return Gi()[o]=()=>{gapi.load?s():n(Fi(r,"network-request-failed"))},sS(`${S2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Eh=null,t})}let Eh=null;function VN(r){return Eh=Eh||xN(r),Eh}const UN=new Au(5e3,15e3),kN="__/auth/iframe",PN="emulator/auth/iframe",LN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?$g(t,PN):`https://${r.config.authDomain}/${kN}`,s={apiKey:t.apiKey,appName:r.name,v:va},o=zN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function jN(r){const t=await VN(r),n=Gi().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:BN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Fi(r,"network-request-failed"),m=Gi().setTimeout(()=>{u(f)},UN.get());function g(){Gi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const HN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qN=500,FN=600,GN="_blank",KN="http://localhost";class dT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(r,t,n,s=qN,o=FN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...HN,width:s.toString(),height:o.toString(),top:u,left:f},p=cn().toLowerCase();n&&(m=WA(p)?GN:n),$A(p)&&(t=t||KN,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[O,q])=>`${w}${O}=${q},`,"");if(m2(p)&&m!=="_self")return QN(t||"",m),new dT(null);const S=window.open(t||"",m,E);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new dT(S)}function QN(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const XN="__/auth/handler",$N="emulator/auth/handler",JN=encodeURIComponent("fac");async function mT(r,t,n,s,o,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:va,eventId:o};if(t instanceof lS){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",qb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof wu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${JN}=${encodeURIComponent(g)}`:"";return`${WN(r)}?${du(m).slice(1)}${p}`}function WN({config:r}){return r.emulator?$g(r,$N):`https://${r.authDomain}/${XN}`}const Im="webStorageSupport";class ZN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gS,this._completeRedirectFn=SN,this._overrideRedirectResult=EN}async _openPopup(t,n,s,o){br(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await mT(t,n,s,Zm(),o);return YN(t,u,ep())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await mT(t,n,s,Zm(),o);return nN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await jN(t),s=new bN(t);return n.register("authEvent",o=>(pt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Im,{type:Im},o=>{const u=o?.[0]?.[Im];u!==void 0&&n(!!u),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iS()||JA()||Wg()}}const tM=ZN;var gT="@firebase/auth",pT="1.12.0";class eM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iM(r){fa(new Ts("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;pt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(r)},p=new E2(s,o,u,g);return O2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),fa(new Ts("auth-internal",t=>{const n=Aa(t.getProvider("auth").getImmediate());return(s=>new eM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(gT,pT,nM(r)),zi(gT,pT,"esm2020")}const rM=300,sM=HT("authIdTokenMaxAge")||rM;let yT=null;const aM=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sM)return;const o=n?.token;yT!==o&&(yT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oM(r=lg()){const t=qh(r,"auth");if(t.isInitialized())return t.getImmediate();const n=D2(r,{popupRedirectResolver:tM,persistence:[hN,Z2,gS]}),s=HT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=aM(u.toString());Q2(n,f,()=>f(n.currentUser)),Y2(n,m=>f(m))}}const o=zT("auth");return o&&N2(n,`http://${o}`),n}function lM(){return document.getElementsByTagName("head")?.[0]??document}T2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Fi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",lM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iM("Browser");const uM={apiKey:"AIzaSyCswu4w1IBaSvbsZ-qvx_wJmUOuEtdhQLU",authDomain:"reflections-match.firebaseapp.com",projectId:"reflections-match",storageBucket:"reflections-match.firebasestorage.app",messagingSenderId:"976571807414",appId:"1:976571807414:web:36070142998611858ed817",measurementId:"G-C1TQVN44XY"},ip=KT(uM),cM=hC(ip),Ll=EO(ip),uh=oM(ip);async function hM(r,t,n=1,s=0){const o=document.createElement("canvas"),u=o.getContext("2d");if(!u)throw new Error("No 2d context");const f=r.naturalWidth/r.width,m=r.naturalHeight/r.height,g=window.devicePixelRatio||1;o.width=Math.floor(t.width*f*g),o.height=Math.floor(t.height*m*g),u.scale(g,g),u.imageSmoothingQuality="high";const p=t.x*f,E=t.y*m,S=s*Math.PI/180,w=r.naturalWidth/2,O=r.naturalHeight/2;return u.save(),u.translate(-p,-E),u.translate(w,O),u.rotate(S),u.scale(n,n),u.translate(-w,-O),u.drawImage(r,0,0,r.naturalWidth,r.naturalHeight,0,0,r.naturalWidth,r.naturalHeight),u.restore(),new Promise(q=>{o.toBlob(J=>{if(!J){console.error("Canvas is empty");return}q(J)},"image/png",1)})}var _T;(function(r){r.STRING="string",r.NUMBER="number",r.INTEGER="integer",r.BOOLEAN="boolean",r.ARRAY="array",r.OBJECT="object"})(_T||(_T={}));var vT;(function(r){r.LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python"})(vT||(vT={}));var ET;(function(r){r.OUTCOME_UNSPECIFIED="outcome_unspecified",r.OUTCOME_OK="outcome_ok",r.OUTCOME_FAILED="outcome_failed",r.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ET||(ET={}));const TT=["user","model","function","system"];var AT;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(AT||(AT={}));var ST;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(ST||(ST={}));var wT;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(wT||(wT={}));var bT;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER"})(bT||(bT={}));var Zl;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.OTHER="OTHER"})(Zl||(Zl={}));var RT;(function(r){r.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",r.RETRIEVAL_QUERY="RETRIEVAL_QUERY",r.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",r.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",r.CLASSIFICATION="CLASSIFICATION",r.CLUSTERING="CLUSTERING"})(RT||(RT={}));var CT;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(CT||(CT={}));var IT;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(IT||(IT={}));class un extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class mo extends un{constructor(t,n){super(t),this.response=n}}class AS extends un{constructor(t,n,s,o){super(t),this.status=n,this.statusText=s,this.errorDetails=o}}class Es extends un{}class SS extends un{}const fM="https://generativelanguage.googleapis.com",dM="v1beta",mM="0.24.1",gM="genai-js";var _a;(function(r){r.GENERATE_CONTENT="generateContent",r.STREAM_GENERATE_CONTENT="streamGenerateContent",r.COUNT_TOKENS="countTokens",r.EMBED_CONTENT="embedContent",r.BATCH_EMBED_CONTENTS="batchEmbedContents"})(_a||(_a={}));class pM{constructor(t,n,s,o,u){this.model=t,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var t,n;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||dM;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||fM}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function yM(r){const t=[];return r?.apiClient&&t.push(r.apiClient),t.push(`${gM}/${mM}`),t.join(" ")}async function _M(r){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",yM(r.requestOptions)),n.append("x-goog-api-key",r.apiKey);let s=(t=r.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new Es(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new Es(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Es(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function vM(r,t,n,s,o,u){const f=new pM(r,t,n,s,u);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},SM(u)),{method:"POST",headers:await _M(f),body:o})}}async function Ru(r,t,n,s,o,u={},f=fetch){const{url:m,fetchOptions:g}=await vM(r,t,n,s,o,u);return EM(m,g,f)}async function EM(r,t,n=fetch){let s;try{s=await n(r,t)}catch(o){TM(o,r)}return s.ok||await AM(s,r),s}function TM(r,t){let n=r;throw n.name==="AbortError"?(n=new SS(`Request aborted when fetching ${t.toString()}: ${r.message}`),n.stack=r.stack):r instanceof AS||r instanceof Es||(n=new un(`Error fetching from ${t.toString()}: ${r.message}`),n.stack=r.stack),n}async function AM(r,t){let n="",s;try{const o=await r.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new AS(`Error fetching from ${t.toString()}: [${r.status} ${r.statusText}] ${n}`,r.status,r.statusText,s)}function SM(r){const t={};if(r?.signal!==void 0||r?.timeout>=0){const n=new AbortController;r?.timeout>=0&&setTimeout(()=>n.abort(),r.timeout),r?.signal&&r.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function rp(r){return r.text=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Th(r.candidates[0]))throw new mo(`${ls(r)}`,r);return wM(r)}else if(r.promptFeedback)throw new mo(`Text not available. ${ls(r)}`,r);return""},r.functionCall=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Th(r.candidates[0]))throw new mo(`${ls(r)}`,r);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),DT(r)[0]}else if(r.promptFeedback)throw new mo(`Function call not available. ${ls(r)}`,r)},r.functionCalls=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Th(r.candidates[0]))throw new mo(`${ls(r)}`,r);return DT(r)}else if(r.promptFeedback)throw new mo(`Function call not available. ${ls(r)}`,r)},r}function wM(r){var t,n,s,o;const u=[];if(!((n=(t=r.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(s=r.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)f.text&&u.push(f.text),f.executableCode&&u.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&u.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function DT(r){var t,n,s,o;const u=[];if(!((n=(t=r.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(s=r.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&u.push(f.functionCall);if(u.length>0)return u}const bM=[Zl.RECITATION,Zl.SAFETY,Zl.LANGUAGE];function Th(r){return!!r.finishReason&&bM.includes(r.finishReason)}function ls(r){var t,n,s;let o="";if((!r.candidates||r.candidates.length===0)&&r.promptFeedback)o+="Response was blocked",!((t=r.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${r.promptFeedback.blockReason}`),!((n=r.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${r.promptFeedback.blockReasonMessage}`);else if(!((s=r.candidates)===null||s===void 0)&&s[0]){const u=r.candidates[0];Th(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function cu(r){return this instanceof cu?(this.v=r,this):new cu(r)}function RM(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(r,t||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(w){s[w]&&(o[w]=function(O){return new Promise(function(q,J){u.push([w,O,q,J])>1||m(w,O)})})}function m(w,O){try{g(s[w](O))}catch(q){S(u[0][3],q)}}function g(w){w.value instanceof cu?Promise.resolve(w.value.v).then(p,E):S(u[0][2],w)}function p(w){m("next",w)}function E(w){m("throw",w)}function S(w,O){w(O),u.shift(),u.length&&m(u[0][0],u[0][1])}}const OT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function CM(r){const t=r.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=OM(t),[s,o]=n.tee();return{stream:DM(s),response:IM(o)}}async function IM(r){const t=[],n=r.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return rp(NM(t));t.push(o)}}function DM(r){return RM(this,arguments,function*(){const n=r.getReader();for(;;){const{value:s,done:o}=yield cu(n.read());if(o)break;yield yield cu(rp(s))}})}function OM(r){const t=r.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return t.read().then(({value:f,done:m})=>{if(m){if(o.trim()){s.error(new un("Failed to parse stream"));return}s.close();return}o+=f;let g=o.match(OT),p;for(;g;){try{p=JSON.parse(g[1])}catch{s.error(new un(`Error parsing JSON response: "${g[1]}"`));return}s.enqueue(p),o=o.substring(g[0].length),g=o.match(OT)}return u()}).catch(f=>{let m=f;throw m.stack=f.stack,m.name==="AbortError"?m=new SS("Request aborted when reading from the stream"):m=new un("Error reading from the stream"),m})}}})}function NM(r){const t=r[r.length-1],n={promptFeedback:t?.promptFeedback};for(const s of r){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const f={};for(const m of u.content.parts)m.text&&(f.text=m.text),m.functionCall&&(f.functionCall=m.functionCall),m.executableCode&&(f.executableCode=m.executableCode),m.codeExecutionResult&&(f.codeExecutionResult=m.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[o].content.parts.push(f)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function wS(r,t,n,s){const o=await Ru(t,_a.STREAM_GENERATE_CONTENT,r,!0,JSON.stringify(n),s);return CM(o)}async function bS(r,t,n,s){const u=await(await Ru(t,_a.GENERATE_CONTENT,r,!1,JSON.stringify(n),s)).json();return{response:rp(u)}}function RS(r){if(r!=null){if(typeof r=="string")return{role:"system",parts:[{text:r}]};if(r.text)return{role:"system",parts:[r]};if(r.parts)return r.role?r:{role:"system",parts:r.parts}}}function hu(r){let t=[];if(typeof r=="string")t=[{text:r}];else for(const n of r)typeof n=="string"?t.push({text:n}):t.push(n);return MM(t)}function MM(r){const t={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of r)"functionResponse"in u?(n.parts.push(u),o=!0):(t.parts.push(u),s=!0);if(s&&o)throw new un("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new un("No content is provided for sending chat message.");return s?t:n}function xM(r,t){var n;let s={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=r.generateContentRequest!=null;if(r.contents){if(o)throw new Es("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=r.contents}else if(o)s=Object.assign(Object.assign({},s),r.generateContentRequest);else{const u=hu(r);s.contents=[u]}return{generateContentRequest:s}}function NT(r){let t;return r.contents?t=r:t={contents:[hu(r)]},r.systemInstruction&&(t.systemInstruction=RS(r.systemInstruction)),t}function VM(r){return typeof r=="string"||Array.isArray(r)?{content:hu(r)}:r}const MT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],UM={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function kM(r){let t=!1;for(const n of r){const{role:s,parts:o}=n;if(!t&&s!=="user")throw new un(`First content should be with role 'user', got ${s}`);if(!TT.includes(s))throw new un(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(TT)}`);if(!Array.isArray(o))throw new un("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new un("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const g of MT)g in m&&(u[g]+=1);const f=UM[s];for(const m of MT)if(!f.includes(m)&&u[m]>0)throw new un(`Content with role '${s}' can't contain '${m}' part`);t=!0}}function xT(r){var t;if(r.candidates===void 0||r.candidates.length===0)return!1;const n=(t=r.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const VT="SILENT_ERROR";class PM{constructor(t,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s?.history&&(kM(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var s,o,u,f,m,g;await this._sendPromise;const p=hu(t),E={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},S=Object.assign(Object.assign({},this._requestOptions),n);let w;return this._sendPromise=this._sendPromise.then(()=>bS(this._apiKey,this.model,E,S)).then(O=>{var q;if(xT(O.response)){this._history.push(p);const J=Object.assign({parts:[],role:"model"},(q=O.response.candidates)===null||q===void 0?void 0:q[0].content);this._history.push(J)}else{const J=ls(O.response);J&&console.warn(`sendMessage() was unsuccessful. ${J}. Inspect response object for details.`)}w=O}).catch(O=>{throw this._sendPromise=Promise.resolve(),O}),await this._sendPromise,w}async sendMessageStream(t,n={}){var s,o,u,f,m,g;await this._sendPromise;const p=hu(t),E={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},S=Object.assign(Object.assign({},this._requestOptions),n),w=wS(this._apiKey,this.model,E,S);return this._sendPromise=this._sendPromise.then(()=>w).catch(O=>{throw new Error(VT)}).then(O=>O.response).then(O=>{if(xT(O)){this._history.push(p);const q=Object.assign({},O.candidates[0].content);q.role||(q.role="model"),this._history.push(q)}else{const q=ls(O);q&&console.warn(`sendMessageStream() was unsuccessful. ${q}. Inspect response object for details.`)}}).catch(O=>{O.message!==VT&&console.error(O)}),w}}async function LM(r,t,n,s){return(await Ru(t,_a.COUNT_TOKENS,r,!1,JSON.stringify(n),s)).json()}async function zM(r,t,n,s){return(await Ru(t,_a.EMBED_CONTENT,r,!1,JSON.stringify(n),s)).json()}async function BM(r,t,n,s){const o=n.requests.map(f=>Object.assign(Object.assign({},f),{model:t}));return(await Ru(t,_a.BATCH_EMBED_CONTENTS,r,!1,JSON.stringify({requests:o}),s)).json()}class UT{constructor(t,n,s={}){this.apiKey=t,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=RS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var s;const o=NT(t),u=Object.assign(Object.assign({},this._requestOptions),n);return bS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(t,n={}){var s;const o=NT(t),u=Object.assign(Object.assign({},this._requestOptions),n);return wS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(t){var n;return new PM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const s=xM(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return LM(this.apiKey,this.model,s,o)}async embedContent(t,n={}){const s=VM(t),o=Object.assign(Object.assign({},this._requestOptions),n);return zM(this.apiKey,this.model,s,o)}async batchEmbedContents(t,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return BM(this.apiKey,this.model,t,s)}}class jM{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new un("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new UT(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,s){if(!t.name)throw new Es("Cached content must contain a `name` field.");if(!t.model)throw new Es("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(n?.[f]&&t[f]&&n?.[f]!==t[f]){if(f==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,g=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(m===g)continue}throw new Es(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${t[f]})`)}const u=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new UT(this.apiKey,u,s)}}const HM="AIzaSyBxHCj915aOBW8cUBkKdTkl32c2HJrRaXU";console.log("Checking VITE_GEMINI_API_KEY status...","Present");const qM=new jM(HM);function FM(){const[r,t]=re.useState(null),[n,s]=re.useState(!1),[o,u]=re.useState(null),[f,m]=re.useState(null),[g,p]=re.useState(null),[E,S]=re.useState(!0),[w,O]=re.useState(""),[q,J]=re.useState(""),[Q,at]=re.useState(!1),[ht,lt]=re.useState("capture"),[Et,Dt]=re.useState([]),[wt,D]=re.useState(""),[b,C]=re.useState(!1),[V,N]=re.useState(null);re.useEffect(()=>{const ut=X2(uh,It=>{p(It),S(!1)});return()=>ut()},[]);const k=async ut=>{ut.preventDefault(),s(!0),u(null);try{Q?await G2(uh,w,q):await K2(uh,w,q)}catch(It){u("Authentication failed: "+It.message)}finally{s(!1)}},R=async()=>{try{await $2(uh),Yt()}catch(ut){console.error("Sign out failed",ut)}},[Jt,ye]=re.useState(""),[F,tt]=re.useState(),[ft,Mt]=re.useState(),jt=re.useRef(null),[x,Y]=re.useState(!1),[et,it]=re.useState(!1),[_t,At]=re.useState("Save Reflection");re.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},ut=>{const It=ut[0];It?.url&&(m(It.url),It.id&&chrome.storage.local.get(["linkedInSync_"+It.id],le=>{le["linkedInSync_"+It.id]&&(m(we=>we+"?reflections_sync=true"),chrome.storage.local.remove(["linkedInSync_"+It.id]))}))})},[]);const xt=async()=>{s(!0),u(null);try{const[ut]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!ut.id)throw new Error("No active tab");chrome.scripting.executeScript({target:{tabId:ut.id},func:async()=>{const It=Wn=>new Promise(ae=>setTimeout(ae,Wn));window.scrollTo(0,document.body.scrollHeight),await It(2e3),window.scrollTo(0,0);const le=document.body.innerText,we=(Wn,ae=1500)=>{const Ji=new RegExp(`${Wn}\\s*\\n`,"i"),Pn=le.match(Ji);return Pn&&Pn.index?le.substring(Pn.index+Pn[0].length,Pn.index+Pn[0].length+ae):""},mn=we("About",2e3),Wt=we("Experience",4e3),ue=()=>document.querySelector("h1")?.innerText||"",Qe=()=>document.querySelector(".text-body-medium")?.innerText||"",wn=()=>document.querySelector('meta[property="og:description"]')?.getAttribute("content")||"";return{name:ue(),headline:Qe(),about:wn(),deepProfileText:`About Section:
${mn}

Experience Section:
${Wt}

(Extracted from LinkedIn)`,profileUrl:window.location.href,scrapedAt:new Date().toISOString()}}},async It=>{if(chrome.runtime.lastError){u(chrome.runtime.lastError.message||"Script execution failed"),s(!1);return}if(It&&It[0]&&It[0].result){const le=It[0].result;try{await zO(gh(Ll,"users",g.uid),{linkedinProfileData:le,tagline:le.headline},{merge:!0}),lt("success")}catch(we){u("Save failed: "+we.message)}}s(!1)})}catch(ut){u(ut.message),s(!1)}},Se=async()=>{s(!0),u(null);try{chrome.tabs.captureVisibleTab({format:"png"},ut=>{if(chrome.runtime.lastError){u(chrome.runtime.lastError.message||"Failed to capture tab"),s(!1);return}ut?t(ut):u("No image data received"),s(!1)})}catch(ut){u(ut.message||"Unexpected error"),s(!1)}},Yt=()=>{t(null),m(null),tt(void 0),Mt(void 0),ye(""),u(null),lt("capture"),Dt([]),N(null),it(!1),At("Save Reflection")},Qi=async()=>{if(r){Y(!0),u(null);try{let ut;ft&&ft.width>0&&ft.height>0&&jt.current?ut=await hM(jt.current,ft):ut=await(await fetch(r)).blob();const It=`captures/${Date.now()}.png`,le=cC(cM,It),we=await lC(le,ut),mn=await uC(we.ref);let Wt=null,ue=0;try{const Qe=xO(YE(Ll,"reflections"),VO("userId","==",g?.uid)),ae=(await qO(Qe)).data().count+1;ue=ae,(ae===10||ae===25||ae===50||ae===100)&&(Wt=ae)}catch(Qe){console.error("Error checking milestone:",Qe)}await jO(YE(Ll,"reflections"),{imageUrl:mn,timestamp:GO(),notes:Jt,sourceUrl:f,userId:g?.uid}),Wt&&g?.uid&&await BO(gh(Ll,"users",g.uid),{milestoneReached:Wt}),At(ue===1?"1st Reflection Captured! ":"Captured! "),it(!0),setTimeout(()=>{lt("success")},1e3)}catch(ut){console.error("Upload failed:",ut),u("Upload failed: "+ut.message)}finally{Y(!1)}}},Xi=async()=>{if(g){lt("chat"),C(!0),Dt([]);try{const ut=await LO(gh(Ll,"users",g.uid));let It="Unknown Traits";if(ut.exists()){const wn=ut.data();wn.aiPersona&&wn.aiPersona.traits?It=wn.aiPersona.traits.join(", "):wn.explicitInterests&&(It=wn.explicitInterests.join(", "))}const le=qM.getGenerativeModel({model:"gemini-2.0-flash-exp"}),we=`You are the user's Digital Twin. Help them synthesize this new data by connecting it to their existing goals and traits.
      User Traits: ${It}.
      New Reflection Notes: "${Jt}"
      Wait for the user's first question or offer an insight immediately.`,mn=le.startChat({history:[{role:"user",parts:[{text:we}]}]});N(mn);const Wt=new Promise((wn,Wn)=>setTimeout(()=>Wn(new Error("Request sent but Google did not respond. Check API Key quota or status.")),5e3)),Qe=(await Promise.race([mn.sendMessage("Explain how this reflection fits into my world."),Wt])).response.text();Dt([{role:"model",text:Qe}])}catch(ut){console.error("Chat init error:",ut),lt("error")}finally{C(!1)}}},$i=async()=>{if(!wt.trim()||!V)return;const ut={role:"user",text:wt};Dt(It=>[...It,ut]),D(""),C(!0);try{const le=(await V.sendMessage(wt)).response.text();Dt(we=>[...we,{role:"model",text:le}])}catch(It){Dt(le=>[...le,{role:"model",text:"Error: "+It.message}])}finally{C(!1)}},Rr=()=>{Xi()};return nt.jsxs("div",{className:"App min-h-screen flex flex-col",style:{width:"100%",height:"100%"},children:[nt.jsxs("header",{className:"app-header p-4 border-b border-gray-200 bg-white",children:[nt.jsx("h1",{className:"text-blue-600 font-bold text-lg m-0",children:"Reflections Match"}),ht!=="capture"&&g&&nt.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"4px"},children:[g.email," ",nt.jsx("button",{onClick:R,style:{color:"#ef4444",border:"none",background:"none",cursor:"pointer",textDecoration:"underline",marginLeft:"5px"},children:"Sign Out"})]})]}),nt.jsx("main",{className:"flex-1 flex flex-col w-full overflow-hidden relative bg-white",children:E?nt.jsx("div",{style:{padding:"20px"},children:"Loading..."}):g?ht==="success"?nt.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] h-full gap-8 p-6 w-full",children:[nt.jsxs("div",{className:"flex flex-col items-center text-center",children:[nt.jsx("div",{style:{fontSize:"4rem",marginBottom:"16px"},children:""}),nt.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px",color:"#166534",fontWeight:"bold"},children:"Reflection Captured!"}),nt.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"Insights are emerging in your Reflections..."})]}),nt.jsxs("div",{className:"w-full flex flex-col items-center gap-4",children:[nt.jsxs("button",{className:"primary-button w-full max-w-[240px] flex items-center justify-center gap-2",onClick:Xi,style:{padding:"12px",borderRadius:"8px",border:"none",fontWeight:600,backgroundColor:"#2563eb",color:"white"},children:[nt.jsx("span",{children:""})," Ask Your Reflections"]}),nt.jsx("button",{className:"primary-button w-full max-w-[240px]",onClick:Yt,style:{backgroundColor:"#4b5563",padding:"12px",borderRadius:"8px",border:"none",color:"white"},children:"Done"})]})]}):ht==="error"?nt.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[nt.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px",color:"#dc2626"},children:""}),nt.jsx("h3",{style:{color:"#dc2626",marginBottom:"8px"},children:"Connection Issue"}),nt.jsx("p",{style:{color:"#666",marginBottom:"20px",fontSize:"0.9rem"},children:"We couldn't connect to your Digital Twin. It might be a network blip."}),nt.jsxs("button",{onClick:Rr,style:{backgroundColor:"transparent",border:"2px solid #2563eb",color:"#2563eb",padding:"10px 24px",borderRadius:"8px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[nt.jsx("span",{children:""})," Retry Connection"]}),nt.jsx("button",{onClick:Yt,style:{marginTop:"20px",textDecoration:"underline",color:"#666",background:"none",border:"none",cursor:"pointer"},children:"Cancel"})]}):ht==="chat"?nt.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"10px",backgroundColor:"#fff",color:"#333"},children:[nt.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:"10px",paddingRight:"5px"},children:[Et.map((ut,It)=>nt.jsx("div",{style:{marginBottom:"10px",textAlign:ut.role==="user"?"right":"left",opacity:.9},children:nt.jsx("div",{style:{display:"inline-block",padding:"8px 12px",borderRadius:"12px",backgroundColor:ut.role==="user"?"#3b82f6":"#f3f4f6",color:ut.role==="user"?"white":"#1f2937",maxWidth:"85%",fontSize:"0.9rem",lineHeight:"1.4"},children:ut.text})},It)),b&&nt.jsx("div",{style:{color:"#888",fontStyle:"italic",fontSize:"0.8rem",textAlign:"center",marginTop:"20px"},children:"Staying connected..."})]}),nt.jsxs("div",{style:{display:"flex",gap:"8px",borderTop:"1px solid #e5e7eb",paddingTop:"10px"},children:[nt.jsx("input",{type:"text",value:wt,onChange:ut=>D(ut.target.value),onKeyPress:ut=>ut.key==="Enter"&&$i(),placeholder:"Ask about this reflection...",style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#fff",color:"#111"},autoFocus:!0}),nt.jsx("button",{onClick:$i,disabled:b,style:{padding:"0 15px",borderRadius:"8px",backgroundColor:"#3b82f6",border:"none",color:"white",cursor:"pointer"},children:"Send"})]}),nt.jsx("button",{onClick:Yt,style:{marginTop:"10px",background:"none",border:"none",color:"#666",fontSize:"0.8rem",cursor:"pointer",textDecoration:"underline"},children:"Close Chat"})]}):f?.includes("linkedin.com/in/")?nt.jsxs("div",{className:"capture-container",style:{padding:"20px",textAlign:"center"},children:[nt.jsxs("div",{style:{marginBottom:"20px",background:"#e8f4f9",padding:"16px",borderRadius:"12px",border:"1px solid #cce4f0"},children:[nt.jsx("h3",{style:{margin:"0 0 8px 0",color:"#0077B5",fontSize:"1.1rem"},children:"LinkedIn Detected"}),nt.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#555"},children:"We can import your Headline and Bio directly to your profile."})]}),nt.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[nt.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"We are auto-syncing your profile in the background. If it didn't work, click below."}),nt.jsx("button",{className:"primary-button",style:{background:"#0077B5"},onClick:xt,disabled:n,children:n?"Syncing...":"Force Sync Profile"})]}),o&&nt.jsx("div",{className:"error-message",style:{marginTop:"16px"},children:o}),nt.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"10px",width:"100%"},children:[nt.jsx("p",{style:{fontSize:"0.8rem",color:"#888",marginBottom:"10px"},children:"Or use standard capture:"}),nt.jsx("button",{className:"secondary-button",onClick:()=>m("manual_override"),style:{width:"100%"},children:"Capture Snapshot"})]})]}):r?nt.jsxs("div",{className:"preview-container",children:[nt.jsx("p",{className:"crop-instruction",children:"Crop the image, then tell us why it matters."}),nt.jsx("div",{className:"crop-wrapper",children:nt.jsx(vb,{crop:F,onChange:ut=>tt(ut),onComplete:ut=>Mt(ut),children:nt.jsx("img",{ref:jt,src:r||void 0,alt:"Screenshot",style:{maxWidth:"100%"}})})}),nt.jsxs("div",{className:"notes-section",children:[nt.jsx("textarea",{className:"notes-input",placeholder:"Why is this relevant? (Optional)",value:Jt,onChange:ut=>ye(ut.target.value)}),o&&nt.jsx("div",{className:"error-message",style:{width:"100%",marginTop:"8px"},children:o})]}),nt.jsxs("div",{className:"action-buttons",children:[nt.jsxs("button",{className:"primary-button upload-btn",onClick:Qi,disabled:x,style:{position:"relative",overflow:"visible"},children:[x?"Saving...":_t,et&&nt.jsx(nt.Fragment,{children:[...Array(12)].map((ut,It)=>{const le=["#00FFFF","#FF00FF","#32CD32","#FFE600"],we=It/12*360,mn=Math.random()*.2;return nt.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:le[It%4],animation:`particle-burst 0.8s ease-out forwards ${mn}s`,transform:`translate(-50%, -50%) rotate(${we}deg) translate(0px)`,pointerEvents:"none",zIndex:999,"--angle":`${we}deg`}},It)})})]}),nt.jsx("button",{className:"secondary-button reset-btn",onClick:Yt,disabled:x,children:"Reset"})]})]}):nt.jsx("div",{className:"capture-container",children:nt.jsx("button",{className:"primary-button capture-btn",onClick:Se,disabled:n,children:n?"Capturing...":"Capture This Page"})}):nt.jsx("div",{className:"login-container",style:{padding:"0 20px",width:"100%",boxSizing:"border-box"},children:nt.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"20px"},children:[nt.jsx("h2",{style:{fontSize:"1.2rem",color:"#333",marginBottom:"10px"},children:Q?"Create Account":"Sign In"}),o&&nt.jsx("div",{className:"error-message",children:o}),nt.jsx("input",{type:"email",placeholder:"Email",value:w,onChange:ut=>O(ut.target.value),className:"notes-input",style:{height:"40px"},required:!0}),nt.jsx("input",{type:"password",placeholder:"Password",value:q,onChange:ut=>J(ut.target.value),className:"notes-input",style:{height:"40px"},required:!0}),nt.jsx("button",{type:"submit",className:"primary-button",disabled:n,children:n?"Processing...":Q?"Sign Up":"Sign In"}),nt.jsx("div",{style:{textAlign:"center",marginTop:"10px"},children:nt.jsx("button",{type:"button",onClick:()=>at(!Q),style:{background:"none",border:"none",color:"#2563eb",textDecoration:"underline",cursor:"pointer"},children:Q?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})}),nt.jsx("footer",{style:ht==="chat"||ht==="success"||ht==="error"?{backgroundColor:"#f3f4f6",color:"#9ca3af",borderTop:"none"}:{},children:"v1.2.0"})]})}db.createRoot(document.getElementById("root")).render(nt.jsx(re.StrictMode,{children:nt.jsx(FM,{})}));
